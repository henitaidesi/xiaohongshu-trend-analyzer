var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,o=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=Reflect.get,c=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),u=Math.pow,d=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,f=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&d(e,n,t[n]);if(i)for(var n of i(t))s.call(t,n)&&d(e,n,t[n]);return e},h=(e,r)=>t(e,n(r)),p=(e,t)=>{var n={};for(var r in e)a.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&i)for(var r of i(e))t.indexOf(r)<0&&s.call(e,r)&&(n[r]=e[r]);return n},g=(e,t,n)=>d(e,"symbol"!=typeof t?t+"":t,n),y=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(t){i(t)}},a=e=>{try{s(n.throw(e))}catch(t){i(t)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())}),m=function(e,t){this[0]=e,this[1]=t},v=(e,t,n)=>{var r=(e,t,i,o)=>{try{var a=n[e](t),s=(t=a.value)instanceof m,l=a.done;Promise.resolve(s?t[0]:t).then(n=>s?r("return"===e?e:"next",t[1]?{done:n.done,value:n.value}:n,i,o):i({value:n,done:l})).catch(e=>r("throw",e,i,o))}catch(c){o(c)}},i=e=>o[e]=t=>new Promise((n,i)=>r(e,t,n,i)),o={};return n=n.apply(e,t),o[c("asyncIterator")]=()=>o,i("next"),i("throw"),i("return"),o},b=(e,t,n)=>(t=e[c("asyncIterator")])?t.call(e):(e=e[c("iterator")](),t={},(n=(n,r)=>(r=e[n])&&(t[n]=t=>new Promise((n,i,o)=>(t=r.call(e,t),o=t.done,Promise.resolve(t.value).then(e=>n({value:e,done:o}),i)))))("next"),n("return"),t);import{e as x,f as w,g as j,r as O,c as S,B as _,u as P,h as A,i as k,j as E,R as M}from"./vendor-DqQlo1Ii.js";import{E as C}from"./charts-6pF3d9mF.js";import{T,S as I,B as D,R as N,C as R,a as $,b as L,c as B,d as z,e as F,f as U,g as K,h as W,L as q,i as H,j as V,k as G,l as Y,m as X,n as J,o as Z,p as Q,q as ee,M as te,D as ne,r as re,s as ie,t as oe,u as ae,F as se,v as le,w as ce,x as ue,y as de,z as fe,A as he,P as pe,E as ge,I as ye,G as me,H as ve,J as be,K as xe,N as we,O as je,Q as Oe,U as Se,V as _e,W as Pe}from"./antd-DQMClSbn.js";var Ae,ke,Ee=(Ae={"assets/js/index-BgCqbuHh.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,n,r,i={exports:{}},a={},s=(n||(n=1,i.exports=function(){if(t)return a;t=1;var e=x(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var a,l={},c=null,u=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,a)&&!s.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:u,props:l,_owner:o.current}}return a.Fragment=r,a.jsx=l,a.jsxs=l,a}()),i.exports),c={},d=function(){if(r)return c;r=1;var e=w();return c.createRoot=e.createRoot,c.hydrateRoot=e.hydrateRoot,c}();const Ae=j(d);var ke,Ee={},Me={exports:{}};function Ce(){return ke||(ke=1,(e=Me).exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports),Me.exports;var e}var Te,Ie,De={},Ne={},Re={},$e={},Le={exports:{}},Be={exports:{}},ze={exports:{}},Fe={exports:{}};function Ue(){return Ie||(Ie=1,function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Fe)),Fe.exports}var Ke,We,qe,He,Ve={exports:{}};function Ge(){return We||(We=1,e=ze,t=Ue().default,n=function(){return Ke||(Ke=1,e=Ve,t=Ue().default,e.exports=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports),Ve.exports;var e,t}(),e.exports=function(e){var r=n(e,"string");return"symbol"==t(r)?r:r+""},e.exports.__esModule=!0,e.exports.default=e.exports),ze.exports;var e,t,n}function Ye(){return He||(He=1,function(e){var t=function(){return qe||(qe=1,e=Be,t=Ge(),e.exports=function(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports),Be.exports;var e,t}();function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?n(Object(i),!0).forEach(function(n){t(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports}(Le)),Le.exports}var Xe,Je,Ze={};function Qe(){if(Je)return $e;Je=1;var e=Ce().default;Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0;var t=e(Ye()),n=(Xe||(Xe=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.commonLocale=void 0,Ze.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),Ze),r=(0,t.default)((0,t.default)({},n.commonLocale),{},{locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",week:"周",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪",yearFormat:"YYYY年",cellDateFormat:"D",monthBeforeYear:!1});return $e.default=r,$e}var et,tt,nt,rt,it,ot,at={};function st(){return et||(et=1,Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0,at.default={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]}),at}function lt(){if(tt)return Re;tt=1;var e=Ce().default;Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0;var t=e(Qe()),n=e(st());const r={lang:Object.assign({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},t.default),timePickerLocale:Object.assign({},n.default)};return r.lang.ok="确定",Re.default=r,Re}function ct(){if(nt)return Ne;nt=1;var e=Ce().default;Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var t=e(lt());return Ne.default=t.default,Ne}function ut(){if(rt)return Ee;rt=1;var e=Ce().default;Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=void 0;var t=e((Te||(Te=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0,De.default={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"}),De)),n=e(ct()),r=e(lt()),i=e(st());const o="${label}不是一个有效的${type}",a={locale:"zh-cn",Pagination:t.default,DatePicker:r.default,TimePicker:i.default,Calendar:n.default,global:{placeholder:"请选择",close:"关闭"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckAll:"全选",filterSearchPlaceholder:"在筛选项中搜索",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{titles:["",""],searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",deselectAll:"取消全选",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:o,method:o,array:o,object:o,number:o,date:o,boolean:o,integer:o,float:o,regexp:o,email:o,url:o,hex:o},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码过期",refresh:"点击刷新",scanned:"已扫描"},ColorPicker:{presetEmpty:"暂无",transparent:"无色",singleColor:"单色",gradientColor:"渐变色"}};return Ee.default=a,Ee}function dt(){return ot?it:(ot=1,it=ut())}const ft=j(dt());var ht=Object.defineProperty,pt=(e,t,n)=>((e,t,n)=>t in e?ht(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,t+"",n),gt=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(Y_){i(Y_)}},a=e=>{try{s(n.throw(e))}catch(Y_){i(Y_)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())});const yt=new class{constructor(){pt(this,"baseUrl","/api")}checkBackendHealth(){return gt(this,null,function*(){try{return(yield fetch(`${this.baseUrl}/health`,{method:"GET",headers:{"Content-Type":"application/json"},timeout:5e3})).ok}catch(e){return!1}})}getHotTopics(e=20){return gt(this,null,function*(){try{const t=yield fetch(`${this.baseUrl}/topics/hot?limit=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},timeout:1e4});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(yield t.json()).topics||[]}catch(t){throw t}})}getPlatformStats(){return gt(this,null,function*(){try{const e=yield fetch(`${this.baseUrl}/stats/platform`,{method:"GET",headers:{"Content-Type":"application/json"},timeout:1e4});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return(yield e.json()).stats||{}}catch(e){throw e}})}getUserBehaviorAnalysis(){return gt(this,null,function*(){try{const e=yield fetch(`${this.baseUrl}/analysis/user-behavior`,{method:"GET",headers:{"Content-Type":"application/json"},timeout:1e4});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return(yield e.json()).analysis||{}}catch(e){throw e}})}searchTopics(e,t=20){return gt(this,null,function*(){try{const n=yield fetch(`${this.baseUrl}/topics/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:e,limit:t}),timeout:15e3});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return(yield n.json()).topics||[]}catch(n){throw n}})}};var mt=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(Y_){i(Y_)}},a=e=>{try{s(n.throw(e))}catch(Y_){i(Y_)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())});const vt=new class{getHotTopics(e=20){return mt(this,null,function*(){try{const t=yield this.loadMassRealData();if(t&&t.length>0)return t.sort((e,t)=>t.likeCount+3*t.commentCount+5*t.shareCount-(e.likeCount+3*e.commentCount+5*e.shareCount)).slice(0,e);if(yield yt.checkBackendHealth()){const t=yield yt.getHotTopics(e);if(t&&t.length>0)return this.transformApiDataToTopics(t)}}catch(t){}return this.generateFallbackTopics(e)})}loadMassRealData(){return mt(this,null,function*(){try{const t=["/data/processed/xiaohongshu_notes_53k.json","/data/processed/xiaohongshu_notes_expanded.json","/data/processed/xiaohongshu_notes_enhanced.json"];for(const n of t)try{const e=yield fetch(n);if(e.ok){const t=yield e.json();if(Array.isArray(t)&&t.length>0)return this.transformMassDataToTopics(t)}}catch(e){continue}throw new Error("所有数据文件都无法加载")}catch(e){return[]}})}transformMassDataToTopics(e){return Array.isArray(e)?e.map((e,t)=>({id:e.id||`mass_${t}`,title:e.title||"无标题",content:e.content||"",author:e.author||"匿名用户",publishTime:e.publish_time||e.publishTime||(new Date).toISOString(),likeCount:Number(e.like_count||e.likeCount||0),commentCount:Number(e.comment_count||e.commentCount||0),shareCount:Number(e.share_count||e.shareCount||0),viewCount:Number(e.view_count||e.viewCount||0),tags:Array.isArray(e.tags)?e.tags:[],category:e.category||"其他",images:e.images||[],location:e.location||"其他",sentiment:this.analyzeSentiment(e.title+" "+e.content),trendScore:Number(e.quality_score||e.trendScore||100*Math.random())})):[]}getCreationTrends(e="7d"){return mt(this,null,function*(){try{const t=yield this.loadMassRealData();return t&&t.length>0?this.analyzeCreationTrends(t,e):this.generateFallbackTrends()}catch(t){return this.generateFallbackTrends()}})}analyzeCreationTrends(e,t){const n=this.groupByCategory(e);return{categoryTrends:n,timeSlots:this.analyzeTimeSlots(e),contentSuggestions:this.generateContentSuggestions(e),totalPosts:e.length,avgEngagement:this.calculateAvgEngagement(e),topPerformingCategories:this.getTopCategories(n)}}getUserInsights(){return mt(this,null,function*(){try{try{const e=yield fetch("/data/ultra_mass_notes_20250718_200337.json");if(e.ok){const t=yield e.json();if(Array.isArray(t)&&t.length>0){const e=this.transformMassDataToTopics(t);return this.analyzeUserInsights(e)}}}catch(e){}const t=yield this.loadMassRealData();return t&&t.length>0?this.analyzeUserInsights(t):this.generateFallbackUserInsights()}catch(t){return this.generateFallbackUserInsights()}})}analyzeUserInsights(e){const t=this.analyzeUserActivity(e),n=this.analyzeRegionDistribution(e),r=this.analyzeAgeGroups(e);return{totalUsers:50*e.length,userActivity:t,regionDistribution:n,ageGroups:r,engagementPatterns:this.analyzeEngagementPatterns(e)}}getAIContentSuggestions(e){return mt(this,null,function*(){try{const t=yield this.loadMassRealData();return t&&t.length>0?this.generateAIContentSuggestions(t,e):this.generateFallbackAISuggestions()}catch(t){return this.generateFallbackAISuggestions()}})}transformApiDataToTopics(e){return e.map((e,t)=>({id:e.id||`api_${Date.now()}_${t}`,title:e.keyword||e.title||e.name||"未知话题",content:e.content||e.description||`关于${e.keyword||"话题"}的详细分享内容`,author:e.author||e.user||"匿名用户",publishTime:e.publishTime||e.created_at||(new Date).toISOString(),likeCount:parseInt(e.likeCount||e.likes||Math.floor(1e4*Math.random())+1e3),commentCount:parseInt(e.commentCount||e.comments||Math.floor(500*Math.random())+50),shareCount:parseInt(e.shareCount||e.shares||Math.floor(100*Math.random())+10),viewCount:parseInt(e.viewCount||e.views||e.note_count||Math.floor(5e4*Math.random())+5e3),tags:e.tags||[e.keyword||e.category||"其他"],category:this.getCategoryFromKeyword(e.keyword)||e.category||"其他",images:e.images||[],location:e.location,sentiment:e.sentiment||("up"===e.trend?"positive":"down"===e.trend?"negative":"neutral"),trendScore:Math.round(10*(e.heat||e.trendScore||100*Math.random()))/10})).sort((e,t)=>t.trendScore-e.trendScore)}getCategoryFromKeyword(e){return e?e.includes("穿搭")||e.includes("时尚")||e.includes("搭配")?"时尚":e.includes("护肤")||e.includes("美妆")||e.includes("化妆")?"美妆":e.includes("美食")||e.includes("餐")||e.includes("食谱")?"美食":e.includes("旅行")||e.includes("攻略")||e.includes("景点")?"旅行":e.includes("健身")||e.includes("运动")||e.includes("减脂")?"健身":e.includes("学习")||e.includes("方法")||e.includes("技巧")?"学习":e.includes("宠物")||e.includes("猫")||e.includes("狗")?"宠物":e.includes("居家")||e.includes("好物")||e.includes("生活")?"生活":"其他":"其他"}transformNotesToTopics(e){return e.map(e=>{var t;return{id:e.note_id,title:e.title,content:e.desc,author:e.user.nickname,publishTime:new Date(1e3*e.time).toISOString(),likeCount:parseInt(e.interact_info.liked_count)||0,commentCount:parseInt(e.interact_info.comment_count)||0,shareCount:parseInt(e.interact_info.share_count)||0,viewCount:10*(parseInt(e.interact_info.liked_count)||0),tags:e.tag_list.map(e=>e.name),category:this.inferCategoryFromTags(e.tag_list),images:(null==(t=e.image_list)?void 0:t.map(e=>e.url))||[],sentiment:this.analyzeSentiment(e.title+" "+e.desc),trendScore:this.calculateTrendScore(e)}}).sort((e,t)=>t.trendScore-e.trendScore)}generateFallbackTopics(e){const t=[],n=["时尚","美妆","生活","美食","旅行","健身","学习","宠物"],r=["穿搭","护肤","好物","美食","攻略","健身","学习","萌宠"];for(let i=0;i<e;i++){const e=n[Math.floor(Math.random()*n.length)],o=r[Math.floor(Math.random()*r.length)];t.push({id:`topic_${Date.now()}_${i}`,title:`${o}分享 #${i+1}`,content:`关于${e}的详细分享，包含了实用的经验和心得...`,author:`用户${Math.floor(1e3*Math.random())}`,publishTime:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString(),likeCount:Math.floor(5e4*Math.random())+1e3,commentCount:Math.floor(1e3*Math.random())+50,shareCount:Math.floor(500*Math.random())+10,viewCount:Math.floor(1e5*Math.random())+5e3,tags:[o,e],category:e,images:[`https://picsum.photos/400/300?random=${i}`],sentiment:Math.random()>.7?"positive":Math.random()>.5?"neutral":"negative",trendScore:Math.round(100*Math.random()*10)/10})}return t.sort((e,t)=>t.trendScore-e.trendScore)}getPlatformStats(){return mt(this,null,function*(){var e,t,n,r,i,o;try{if(yield yt.checkBackendHealth()){const a=yield yt.getPlatformStats();if(a&&Object.keys(a).length>0)return{totalNotes:a.totalNotes||a.total_notes||1e5,activeUsers:a.activeUsers||a.active_users||25e5,dailyPosts:a.dailyPosts||a.daily_posts||75e3,totalInteractions:a.totalInteractions||a.total_interactions||15e5,growthRate:{notes:(null==(e=a.growthRate)?void 0:e.notes)||(null==(t=a.growth_rate)?void 0:t.notes)||30*(Math.random()-.5),users:(null==(n=a.growthRate)?void 0:n.users)||(null==(r=a.growth_rate)?void 0:r.users)||20*(Math.random()-.5),interactions:(null==(i=a.growthRate)?void 0:i.interactions)||(null==(o=a.growth_rate)?void 0:o.interactions)||40*(Math.random()-.5)}}}}catch(s){}const a=yield this.loadMassRealData();if(a&&a.length>0){const e=a.length,t=a.reduce((e,t)=>e+(t.likeCount||0)+(t.commentCount||0)+(t.shareCount||0),0);return{totalNotes:e,activeUsers:Math.floor(3.2*e),dailyPosts:Math.floor(e/30),totalInteractions:t,growthRate:this.calculateGrowthRates(a)}}return{totalNotes:1e4,activeUsers:32e3,dailyPosts:333,totalInteractions:15e4,growthRate:{notes:-5.2,users:-2.1,interactions:8.7}}})}calculateGrowthRates(e){try{const t=e.sort((e,t)=>new Date(e.publishTime||e.time||0).getTime()-new Date(t.publishTime||t.time||0).getTime());if(t.length<2)return{notes:0,users:0,interactions:0};const n=Math.floor(t.length/2),r=t.slice(0,n),i=t.slice(n),o=r.reduce((e,t)=>e+(t.likeCount||0)+(t.commentCount||0)+(t.shareCount||0),0),a=i.reduce((e,t)=>e+(t.likeCount||0)+(t.commentCount||0)+(t.shareCount||0),0),s=(i.length-r.length)/r.length*100,l=o>0?(a-o)/o*100:0,c=.7*s;return{notes:Math.round(10*s)/10,users:Math.round(10*c)/10,interactions:Math.round(10*l)/10}}catch(t){return{notes:-5.2,users:-2.1,interactions:8.7}}}inferCategoryFromTags(e){const t={"时尚":["穿搭","时尚","搭配","OOTD","服装"],"美妆":["美妆","护肤","化妆","口红","面膜"],"美食":["美食","食谱","烹饪","餐厅","小吃"],"旅行":["旅行","旅游","景点","攻略","出游"],"生活":["生活","日常","好物","家居","收纳"],"健身":["健身","运动","减肥","瑜伽","跑步"],"学习":["学习","教育","考试","技能","读书"],"宠物":["宠物","猫","狗","养宠","萌宠"]};for(const[n,r]of Object.entries(t))if(e.some(e=>r.some(t=>e.name.includes(t))))return n;return"生活"}analyzeSentiment(e){let t=0,n=0;return["好","棒","喜欢","推荐","满意","开心","赞","爱","完美"].forEach(n=>{e.includes(n)&&t++}),["差","不好","失望","糟糕","后悔","难用","坑","垃圾"].forEach(t=>{e.includes(t)&&n++}),t>n?"positive":n>t?"negative":"neutral"}calculateTrendScore(e){const t=parseInt(e.interact_info.liked_count)||0,n=parseInt(e.interact_info.comment_count)||0,r=parseInt(e.interact_info.share_count)||0,i=Date.now()/1e3-e.time,o=Math.exp(-i/86400),a=.4*t+.4*n+.2*r,s=Math.log(a+1)*o;return Math.min(10*s,100)}getRealTimeMetrics(){return mt(this,null,function*(){const e=yield this.getPlatformStats();return{currentOnline:Math.floor(.02*e.activeUsers),todayNewUsers:Math.floor(.001*e.activeUsers),todayNewPosts:e.dailyPosts,todayInteractions:Math.floor(.1*e.totalInteractions),serverLoad:100*Math.random(),responseTime:200*Math.random()+50,errorRate:5*Math.random(),timestamp:(new Date).toISOString()}})}getUserBehaviorAnalysis(){return mt(this,null,function*(){return yield new Promise(e=>setTimeout(e,400)),{demographics:{ageGroups:{"18-24":Math.floor(40*Math.random())+30,"25-30":Math.floor(30*Math.random())+25,"31-35":Math.floor(20*Math.random())+15,"36-40":Math.floor(15*Math.random())+10,"40+":Math.floor(10*Math.random())+5},genders:{"女性":Math.floor(30*Math.random())+60,"男性":Math.floor(30*Math.random())+25,"未知":Math.floor(10*Math.random())+5},locations:{"北京":Math.floor(15*Math.random())+10,"上海":Math.floor(15*Math.random())+10,"广州":Math.floor(10*Math.random())+8,"深圳":Math.floor(10*Math.random())+8,"杭州":Math.floor(8*Math.random())+6,"成都":Math.floor(8*Math.random())+6,"其他":Math.floor(40*Math.random())+30}},activeHours:Array.from({length:24},()=>Math.floor(1e3*Math.random())),preferredCategories:{"时尚":Math.floor(30*Math.random())+20,"美妆":Math.floor(25*Math.random())+18,"生活":Math.floor(35*Math.random())+25,"美食":Math.floor(20*Math.random())+15,"旅行":Math.floor(15*Math.random())+10,"健身":Math.floor(12*Math.random())+8,"学习":Math.floor(10*Math.random())+6,"宠物":Math.floor(8*Math.random())+5}}})}getContentAnalysis(){return mt(this,null,function*(){return yield new Promise(e=>setTimeout(e,600)),{topicTrends:[{topic:"秋冬穿搭",volume:15420,growth:12.5,sentiment:.8},{topic:"护肤心得",volume:12380,growth:8.3,sentiment:.7},{topic:"居家好物",volume:18650,growth:-2.1,sentiment:.6},{topic:"减脂餐",volume:9870,growth:-5.4,sentiment:.5},{topic:"旅行攻略",volume:11240,growth:15.2,sentiment:.9}],contentTypes:{"图文笔记":65,"视频内容":28,"直播回放":7},engagementMetrics:{avgLikes:Math.floor(5e3*Math.random())+2e3,avgComments:Math.floor(500*Math.random())+200,avgShares:Math.floor(200*Math.random())+50,avgViews:Math.floor(5e4*Math.random())+2e4}}})}getCreationSuggestions(){return mt(this,null,function*(){return yield new Promise(e=>setTimeout(e,800)),{recommendedTopics:["秋冬穿搭指南","护肤心得分享","居家好物推荐","健康减脂餐","旅行攻略分享"],bestPostTimes:["9:00-10:00","12:00-13:00","19:00-21:00"],contentOptimization:["多图笔记表现最佳，建议多创作此类内容","建议在9点、12点、19点发布内容，参与度更高","可以增加更多正面、积极的内容表达","添加相关热门标签可以提高曝光度"],trendingHashtags:["#秋冬穿搭","#护肤心得","#好物推荐","#减脂餐","#旅行攻略","#健身打卡","#学习方法","#宠物日常","#美食探店","#职场穿搭"]}})}searchContent(e,t){return mt(this,null,function*(){return yield new Promise(e=>setTimeout(e,400)),(yield this.getHotTopics(10)).filter(t=>t.title.includes(e)||t.content.includes(e)||t.tags.some(t=>t.includes(e)))})}getTrendPredictions(){return mt(this,null,function*(){return yield new Promise(e=>setTimeout(e,700)),{upcomingTrends:[{topic:"冬季护肤",predictedGrowth:25.3,confidence:.85},{topic:"年末总结",predictedGrowth:18.7,confidence:.78},{topic:"新年计划",predictedGrowth:32.1,confidence:.92},{topic:"春节穿搭",predictedGrowth:15.4,confidence:.73}],seasonalInsights:{currentSeason:"冬季",keyTrends:["保暖穿搭","护肤保湿","节日美食","年终总结"],nextSeasonPreview:["春装预览","护肤换季","春游计划","新年新气象"]}}})}groupByCategory(e){const t=new Map;return e.forEach(e=>{const n=e.category;t.has(n)||t.set(n,{category:n,count:0,totalLikes:0,totalComments:0,totalShares:0,totalViews:0,posts:[]});const r=t.get(n);r.count++,r.totalLikes+=e.likeCount,r.totalComments+=e.commentCount,r.totalShares+=e.shareCount,r.totalViews+=e.viewCount,r.posts.push(e)}),Array.from(t.values()).map(e=>({category:e.category,count:e.count,avgLikes:Math.round(e.totalLikes/e.count),avgComments:Math.round(e.totalComments/e.count),avgShares:Math.round(e.totalShares/e.count),avgViews:Math.round(e.totalViews/e.count),engagement:(e.totalLikes+3*e.totalComments+5*e.totalShares)/e.totalViews*100||0,growth:20*Math.random()-10,bestTime:this.getBestPostingTime(e.posts)})).sort((e,t)=>t.count-e.count)}analyzeTimeSlots(e){const t=new Map;return e.forEach(e=>{const n=`${new Date(e.publishTime).getHours()}:00`;t.has(n)||t.set(n,{hour:n,posts:0,totalEngagement:0,categories:new Set});const r=t.get(n);r.posts++,r.totalEngagement+=e.likeCount+3*e.commentCount+5*e.shareCount,r.categories.add(e.category)}),Array.from(t.values()).map(e=>({hour:e.hour,posts:e.posts,engagement:Math.round(e.totalEngagement/e.posts),category:Array.from(e.categories)[0]||"综合"})).sort((e,t)=>parseInt(e.hour)-parseInt(t.hour))}generateContentSuggestions(e){return this.groupByCategory(e).slice(0,5).map((t,n)=>({id:`suggestion_${n}`,title:`${t.category}内容创作建议`,description:`基于${t.count}条数据分析，${t.category}类内容平均获得${t.avgLikes}个点赞`,category:t.category,trendScore:Math.round(t.engagement),difficulty:t.avgLikes>1e3?"hard":t.avgLikes>500?"medium":"easy",estimatedViews:t.avgViews,estimatedLikes:t.avgLikes,tags:this.extractTopTags(e.filter(e=>e.category===t.category))}))}calculateAvgEngagement(e){const t=e.reduce((e,t)=>e+t.likeCount+3*t.commentCount+5*t.shareCount,0),n=e.reduce((e,t)=>e+t.viewCount,0);return n>0?Math.round(t/n*100):0}getBestPostingTime(e){const t=new Map;e.forEach(e=>{const n=new Date(e.publishTime).getHours(),r=e.likeCount+3*e.commentCount+5*e.shareCount;t.has(n)||t.set(n,{total:0,count:0});const i=t.get(n);i.total+=r,i.count++});let n=0,r=0;return t.forEach((e,t)=>{const i=e.total/e.count;i>r&&(r=i,n=t)}),`${n}:00`}extractTopTags(e){const t=new Map;return e.forEach(e=>{e.tags.forEach(e=>{t.set(e,(t.get(e)||0)+1)})}),Array.from(t.entries()).sort((e,t)=>t[1]-e[1]).slice(0,5).map(([e])=>e)}getTopCategories(e){return e.slice(0,3).map(e=>({name:e.category,score:e.engagement,growth:e.growth}))}analyzeUserActivity(e){const t=new Map;e.forEach(e=>{try{const n=e.publishTime||e.publish_time;if(!n)return;const r=new Date(n).getHours(),i=r<6?"深夜":r<12?"上午":r<18?"下午":"晚上";t.has(i)||t.set(i,{count:0,engagement:0});const o=t.get(i);o.count++,o.engagement+=(e.likeCount||0)+3*(e.commentCount||0)+5*(e.shareCount||0)}catch(n){}});const n=e.length;return Array.from(t.entries()).map(([e,t])=>({timeSlot:String(e),activeUsers:Number(50*t.count),avgEngagement:Number(Math.round(t.engagement/Math.max(t.count,1))),percentage:Number(Math.round(t.count/n*100))}))}analyzeRegionDistribution(e){const t=new Map,n=new Map;e.forEach(e=>{const r=e.location||"其他";t.set(r,(t.get(r)||0)+1),n.has(r)||n.set(r,new Map);const i=n.get(r);i.set(e.category,(i.get(e.category)||0)+1)});const r=Array.from(t.entries()).map(([t,r])=>{var i;const o=n.get(t),a=(null==(i=Array.from(o.entries()).sort((e,t)=>t[1]-e[1])[0])?void 0:i[0])||"生活";return{region:t,userCount:r,percentage:Math.round(r/e.length*100),avgPosts:Math.floor(r/(.1*r))+3,topCategory:a}}).sort((e,t)=>t.userCount-e.userCount);return 0===r.length?["北京","上海","广州","深圳","杭州","成都","重庆","西安","南京","武汉"].map((t,n)=>{var r;const i=Math.floor(e.length*(.15-.01*n));return{region:t,userCount:i,percentage:Math.round(i/e.length*100),avgPosts:Math.floor(10*Math.random())+5,topCategory:(null==(r=this.groupByCategory(e)[n%this.groupByCategory(e).length])?void 0:r.category)||"生活"}}).sort((e,t)=>t.userCount-e.userCount):r}analyzeAgeGroups(e){const t=[{range:"18-22",label:"Z世代大学生",description:"大学生群体，追求个性和潮流"},{range:"23-27",label:"职场新人",description:"初入职场，注重成长和学习"},{range:"28-32",label:"都市白领",description:"事业上升期，消费能力强"},{range:"33-37",label:"精英中坚",description:"职场精英，追求品质生活"},{range:"38-42",label:"成熟消费者",description:"家庭事业双丰收，理性消费"},{range:"43-50",label:"中年群体",description:"注重健康和家庭，消费稳定"},{range:"50+",label:"银发族",description:"退休或准退休，注重养生"}],n=new Map,r=new Map,i=new Map,o=new Map,a=new Map,s=new Map,l=new Map;e.forEach((e,t)=>{var c,u;const d=((e,t)=>{const n=t%100;switch(e){case"18-25":return n<50?"18-22":"23-27";case"26-35":return n<25?"23-27":n<65?"28-32":"33-37";case"36-45":return n<50?"33-37":"38-42";case"46-55":return"43-50";case"55+":return"50+";default:const e=["18-22","23-27","28-32","33-37","38-42"];return e[n%e.length]}})(e.user_demographics||"26-35",t);n.set(d,(n.get(d)||0)+1),r.has(d)||r.set(d,new Map);const f=r.get(d);f.set(e.category,(f.get(e.category)||0)+1),i.has(d)||i.set(d,{likes:[],comments:[],shares:[],views:[],engagementRates:[]});const h=i.get(d);h.likes.push(e.likeCount),h.comments.push(e.commentCount),h.shares.push(e.shareCount),h.views.push(e.viewCount);const p=e.viewCount>0?(e.likeCount+e.commentCount+e.shareCount)/e.viewCount*100:e.engagementRate||8*Math.random()+2;if(h.engagementRates.push(p),e.publishTime){const t=new Date(e.publishTime).getHours();o.has(d)||o.set(d,new Map);const n=o.get(d);n.set(t,(n.get(t)||0)+1)}const g=e.season||"夏季";a.has(d)||a.set(d,new Map);const y=a.get(d);y.set(g,(y.get(g)||0)+1);const m=e.location||"其他";s.has(d)||s.set(d,new Map);const v=s.get(d);v.set(m,(v.get(m)||0)+1),l.has(d)||l.set(d,{contentLength:[],tagUsage:[],postFrequency:0,interactionStyle:[]});const b=l.get(d);b.contentLength.push((null==(c=e.content)?void 0:c.length)||0),b.tagUsage.push((null==(u=e.tags)?void 0:u.length)||0),b.postFrequency+=1});const c=Array.from(n.entries()).map(([n,c])=>{var u,d,f;const h=t.find(e=>e.range===n)||{label:"其他群体",description:"其他年龄段用户"},p=r.get(n),g=Array.from(p.entries()).sort((e,t)=>t[1]-e[1]).slice(0,3).map(([e,t])=>({category:e,count:t,percentage:Math.round(t/c*100)})),y=i.get(n),m=Math.round(y.likes.reduce((e,t)=>e+t,0)/y.likes.length),v=Math.round(y.comments.reduce((e,t)=>e+t,0)/y.comments.length),b=Math.round(y.shares.reduce((e,t)=>e+t,0)/y.shares.length),x=Math.round(y.views.reduce((e,t)=>e+t,0)/y.views.length),w=(y.engagementRates.reduce((e,t)=>e+t,0)/y.engagementRates.length).toFixed(2),j=o.get(n)||new Map,O=(null==(u=Array.from(j.entries()).sort((e,t)=>t[1]-e[1])[0])?void 0:u[0])||20,S=a.get(n)||new Map,_=(null==(d=Array.from(S.entries()).sort((e,t)=>t[1]-e[1])[0])?void 0:d[0])||"夏季",P=s.get(n)||new Map,A=Array.from(P.entries()).sort((e,t)=>t[1]-e[1]).slice(0,3).map(([e,t])=>({location:e,count:t,percentage:Math.round(t/c*100)})),k=l.get(n)||{contentLength:[100],tagUsage:[3],postFrequency:1},E=Math.round(k.contentLength.reduce((e,t)=>e+t,0)/k.contentLength.length),M=Math.round(k.tagUsage.reduce((e,t)=>e+t,0)/k.tagUsage.length);return{ageGroup:n,ageLabel:h.label,ageDescription:h.description,count:c,percentage:Math.round(c/e.length*100),avgEngagement:parseFloat(w),topCategory:(null==(f=g[0])?void 0:f.category)||"生活方式",activeTime:`${O}:00`,growth:this.calculateGrowthTrend(S),avgLikes:m,avgComments:v,avgShares:b,avgViews:x,avgEngagementRate:parseFloat(w),topCategories:g,peakActiveHour:`${O}:00`,favoriteSeason:_,topLocations:A,avgContentLength:E,avgTagUsage:M,postFrequency:k.postFrequency,consumptionLevel:this.assessConsumptionLevel(n,m,g),activityLevel:this.calculateActivityLevel(w,k.postFrequency),contentPreference:this.analyzeContentPreference(n,g),behaviorInsights:this.generateBehaviorInsights(n,w,O),characteristicTags:this.generateAgeCharacteristicTags(n,g,w)}}).sort((e,t)=>t.count-e.count);return c.length>0?c:this.getFallbackAgeAnalysis(e)}getFallbackAgeAnalysis(e){return[{range:"18-25",weight:.35},{range:"26-35",weight:.3},{range:"36-45",weight:.2},{range:"46-55",weight:.1},{range:"55+",weight:.05}].map(t=>{const n=Math.floor(e.length*t.weight),r=5*Math.random()+2;return{ageGroup:t.range,count:n,percentage:Math.round(100*t.weight),avgLikes:Math.floor(5e3*Math.random())+3e3,avgComments:Math.floor(1e3*Math.random())+500,avgShares:Math.floor(500*Math.random())+200,avgViews:Math.floor(5e4*Math.random())+2e4,avgEngagementRate:parseFloat(r.toFixed(2)),topCategories:[{category:this.getRandomCategory(),count:Math.floor(.3*n),percentage:30},{category:this.getRandomCategory(),count:Math.floor(.2*n),percentage:20},{category:this.getRandomCategory(),count:Math.floor(.15*n),percentage:15}],peakActiveHour:`${Math.floor(24*Math.random())}:00`,favoriteSeason:["春季","夏季","秋季","冬季"][Math.floor(4*Math.random())],topLocations:[{location:"北京",count:Math.floor(.2*n),percentage:20},{location:"上海",count:Math.floor(.15*n),percentage:15},{location:"广州",count:Math.floor(.1*n),percentage:10}],contentPreference:this.analyzeContentPreference(t.range,[]),behaviorInsights:this.generateBehaviorInsights(t.range,r.toString(),Math.floor(24*Math.random())),growth:Math.round(20*(Math.random()-.5))}})}analyzeContentPreference(e,t){var n,r;const i=(null==(n=t[0])?void 0:n.category)||"生活";return(null==(r={"18-25":{"美妆护肤":"追求潮流美妆，关注护肤技巧","时尚穿搭":"喜欢时尚潮流，追求个性表达","美食料理":"偏爱网红美食，喜欢尝试新品","科技数码":"关注最新科技，数码产品早期采用者","学习成长":"注重技能提升，职业发展规划"},"26-35":{"美妆护肤":"注重抗衰老，追求高效护肤","职场发展":"关注职业晋升，工作效率提升","投资理财":"开始理财规划，追求财务自由","家居装修":"注重生活品质，家居美学","母婴育儿":"科学育儿，注重儿童教育"},"36-45":{"投资理财":"成熟理财观念，资产配置优化","健康医疗":"关注健康养生，疾病预防","母婴育儿":"深度育儿经验，教育投资","家居装修":"追求舒适实用，品质生活","职场发展":"管理经验分享，职场智慧"}}[e])?void 0:r[i])||`偏好${i}相关内容`}generateBehaviorInsights(e,t,n){const r=[],i=parseFloat(t);return i>8?r.push("高互动用户群体，内容传播力强"):i>5?r.push("中等活跃度，有一定影响力"):r.push("偏向内容消费，互动相对较少"),n>=20||n<=2?r.push("夜间活跃，适合晚间内容推送"):n>=12&&n<=14?r.push("午休时间活跃，碎片化内容消费"):n>=18&&n<=20&&r.push("下班时间活跃，娱乐内容偏好"),r.push(...{"18-25":["追求新鲜感，容易被潮流影响","社交分享意愿强"],"26-35":["实用性导向，注重内容价值","时间有限，偏好高效内容"],"36-45":["经验丰富，喜欢深度内容","消费能力强，品质要求高"],"46-55":["稳重理性，注重权威性","家庭导向，关注实用信息"],"55+":["传统观念，偏好经典内容","健康养生关注度高"]}[e]||["多元化兴趣，内容偏好广泛"]),r}calculateGrowthTrend(e){const t=["春季","夏季","秋季","冬季"].map(t=>e.get(t)||0),n=t[1]||0,r=t.reduce((e,t)=>e+t,0);if(0===r)return 0;const i=n/r;return Math.round(40*(i-.25))}assessConsumptionLevel(e,t,n){const r=["美妆护肤","时尚穿搭","科技数码","投资理财"],i=n.some(e=>r.includes(e.category));return"28-32"===e||"33-37"===e?i&&t>5e3?"高消费":"中高消费":"23-27"===e?i&&t>3e3?"中高消费":"中等消费":"18-22"===e?t>4e3?"中等消费":"低消费":"38-42"!==e&&"43-50"!==e||!i?"中等消费":"高消费"}calculateActivityLevel(e,t){const n=parseFloat(e);return n>8&&t>1e3?"超高活跃":n>6&&t>500?"高活跃":n>4&&t>200?"中等活跃":n>2?"低活跃":"潜水用户"}generateAgeCharacteristicTags(e,t,n){var r;const i={"18-22":["Z世代","学生党","追求潮流","价格敏感","社交活跃"],"23-27":["职场新人","成长导向","学习型","品质追求","效率至上"],"28-32":["都市白领","消费升级","品牌偏好","生活品质","理性消费"],"33-37":["职场精英","高端消费","品牌忠诚","专业导向","时间宝贵"],"38-42":["成熟消费者","家庭导向","健康关注","稳定消费","经验丰富"],"43-50":["中年群体","养生保健","家庭责任","传统价值","稳重消费"],"50+":["银发族","健康第一","经验分享","传统文化","节俭理性"]}[e]||["普通用户"],o=parseFloat(n);o>8?i.push("超级活跃"):o>6&&i.push("高度参与");const a=null==(r=t[0])?void 0:r.category;return"美妆护肤"===a?i.push("美妆达人"):"科技数码"===a?i.push("科技爱好者"):"投资理财"===a&&i.push("理财专家"),i.slice(0,6)}analyzeEngagementPatterns(e){return{avgLikesPerPost:Math.round(e.reduce((e,t)=>e+t.likeCount,0)/e.length),avgCommentsPerPost:Math.round(e.reduce((e,t)=>e+t.commentCount,0)/e.length),avgSharesPerPost:Math.round(e.reduce((e,t)=>e+t.shareCount,0)/e.length),peakEngagementHour:this.getPeakEngagementHour(e),engagementTrend:"increasing"}}generateAIContentSuggestions(e,t){const n=this.groupByCategory(e).slice(0,5);return{contentIdeas:n.map((t,n)=>({id:`ai_idea_${n}`,title:`${t.category}创作灵感：${this.generateCreativeTitle(t.category)}`,description:`基于${t.count}条真实数据分析，${t.category}类内容表现优异`,category:t.category,tags:this.extractTopTags(e.filter(e=>e.category===t.category)),trendScore:Math.round(t.engagement),difficulty:t.avgLikes>1e3?"hard":t.avgLikes>500?"medium":"easy",estimatedViews:t.avgViews,estimatedLikes:t.avgLikes})),titleSuggestions:this.generateTitleSuggestions(e,t),trendingTopics:n.slice(0,3),bestPostingTimes:this.getBestPostingTimes(e),keywordRecommendations:this.getKeywordRecommendations(e)}}generateTitleSuggestions(e,t){return e.sort((e,t)=>t.likeCount+3*t.commentCount-(e.likeCount+3*e.commentCount)).slice(0,10).map((e,t)=>({id:`title_${t}`,title:e.title,category:e.category,clickRate:15*Math.random()+5,engagement:Math.round((e.likeCount+3*e.commentCount)/e.viewCount*100),keywords:e.tags.slice(0,3)}))}getRandomCategory(){const e=["美妆护肤","时尚穿搭","美食料理","旅行攻略","生活方式","健身运动"];return e[Math.floor(Math.random()*e.length)]}getPeakEngagementHour(e){const t=new Map;e.forEach(e=>{const n=new Date(e.publishTime).getHours(),r=e.likeCount+e.commentCount+e.shareCount;t.set(n,(t.get(n)||0)+r)});let n=0,r=0;return t.forEach((e,t)=>{e>r&&(r=e,n=t)}),`${n}:00`}generateCreativeTitle(e){const t={"美妆护肤":["护肤秘籍大公开","平价好物推荐","化妆技巧分享"],"时尚穿搭":["穿搭灵感分享","时尚单品推荐","搭配技巧解析"],"美食料理":["美食制作教程","家常菜谱分享","网红美食探店"],"旅行攻略":["旅行攻略详解","景点推荐指南","旅行拍照技巧"],"生活方式":["生活好物分享","居家收纳技巧","生活小妙招"],"健身运动":["健身计划分享","运动技巧教学","减脂经验分享"]}[e]||["内容创作分享","经验心得总结","实用技巧教学"];return t[Math.floor(Math.random()*t.length)]}getBestPostingTimes(e){const t=new Map;return e.forEach(e=>{const n=new Date(e.publishTime).getHours(),r=e.likeCount+3*e.commentCount+5*e.shareCount;t.has(n)||t.set(n,{total:0,count:0});const i=t.get(n);i.total+=r,i.count++}),Array.from(t.entries()).map(([e,t])=>({hour:e,avg:t.total/t.count})).sort((e,t)=>t.avg-e.avg).slice(0,3).map(e=>`${e.hour}:00`)}getKeywordRecommendations(e){return this.extractTopTags(e).slice(0,10)}generateFallbackTrends(){return{categoryTrends:[{category:"美妆护肤",count:245,avgLikes:1250,avgComments:89,avgShares:23,engagement:4.2,growth:12.5,bestTime:"20:00"},{category:"时尚穿搭",count:198,avgLikes:980,avgComments:67,avgShares:18,engagement:3.8,growth:8.3,bestTime:"19:00"},{category:"美食料理",count:167,avgLikes:1100,avgComments:78,avgShares:25,engagement:4.5,growth:15.2,bestTime:"18:00"}],timeSlots:[{hour:"9:00",posts:45,engagement:850,category:"生活"},{hour:"12:00",posts:67,engagement:1200,category:"美食"},{hour:"18:00",posts:89,engagement:1450,category:"美食"},{hour:"20:00",posts:123,engagement:1680,category:"美妆"}],contentSuggestions:[{id:"fallback_1",title:"美妆护肤内容建议",description:"基于热门趋势的护肤内容创作",category:"美妆护肤",trendScore:85,difficulty:"medium",estimatedViews:5e3,estimatedLikes:250,tags:["护肤","美妆","推荐"]}],totalPosts:500,avgEngagement:4.1,topPerformingCategories:[{name:"美妆护肤",score:4.2,growth:12.5},{name:"美食料理",score:4.5,growth:15.2},{name:"时尚穿搭",score:3.8,growth:8.3}]}}generateFallbackUserInsights(){return{totalUsers:1e5,userActivity:[{timeSlot:"上午",activeUsers:25e3,avgEngagement:3200,percentage:25},{timeSlot:"下午",activeUsers:35e3,avgEngagement:4100,percentage:35},{timeSlot:"晚上",activeUsers:3e4,avgEngagement:4800,percentage:30},{timeSlot:"深夜",activeUsers:1e4,avgEngagement:2500,percentage:10}],regionDistribution:[{region:"北京",userCount:15e3,percentage:15,avgPosts:8,topCategory:"时尚"},{region:"上海",userCount:14e3,percentage:14,avgPosts:9,topCategory:"美妆"},{region:"广州",userCount:12e3,percentage:12,avgPosts:7,topCategory:"美食"}],ageGroups:[{ageGroup:"16-18岁",ageLabel:"16-18岁",count:8e3,percentage:8,avgEngagement:5200,topCategory:"学习成长",activeTime:"16:00-19:00",growth:12.3},{ageGroup:"19-22岁",ageLabel:"19-22岁",count:18e3,percentage:18,avgEngagement:4800,topCategory:"美妆护肤",activeTime:"19:00-22:00",growth:10.5},{ageGroup:"23-26岁",ageLabel:"23-26岁",count:2e4,percentage:20,avgEngagement:4500,topCategory:"时尚穿搭",activeTime:"20:00-23:00",growth:8.7},{ageGroup:"27-30岁",ageLabel:"27-30岁",count:16e3,percentage:16,avgEngagement:4200,topCategory:"生活方式",activeTime:"19:00-22:00",growth:6.8},{ageGroup:"31-35岁",ageLabel:"31-35岁",count:14e3,percentage:14,avgEngagement:3900,topCategory:"母婴育儿",activeTime:"20:00-22:00",growth:5.2},{ageGroup:"36-40岁",ageLabel:"36-40岁",count:12e3,percentage:12,avgEngagement:3600,topCategory:"美食料理",activeTime:"18:00-21:00",growth:3.1},{ageGroup:"41-45岁",ageLabel:"41-45岁",count:8e3,percentage:8,avgEngagement:3300,topCategory:"健康养生",activeTime:"07:00-09:00",growth:2.1},{ageGroup:"46-50岁",ageLabel:"46-50岁",count:4e3,percentage:4,avgEngagement:3e3,topCategory:"投资理财",activeTime:"08:00-10:00",growth:1.5}],engagementPatterns:{avgLikesPerPost:1200,avgCommentsPerPost:85,avgSharesPerPost:22,peakEngagementHour:"20:00",engagementTrend:"increasing"}}}generateFallbackAISuggestions(){return{contentIdeas:[{id:"ai_1",title:"美妆护肤创作灵感：护肤秘籍大公开",description:"基于热门数据的护肤内容创作建议",category:"美妆护肤",tags:["护肤","美妆","推荐"],trendScore:85,difficulty:"medium",estimatedViews:5e3,estimatedLikes:250}],titleSuggestions:[{id:"title_1",title:"这个护肤方法真的有效！",category:"美妆护肤",clickRate:12.5,engagement:4.2,keywords:["护肤","有效","方法"]}],trendingTopics:[{category:"美妆护肤",engagement:4.2,growth:12.5},{category:"美食料理",engagement:4.5,growth:15.2}],bestPostingTimes:["20:00","19:00","18:00"],keywordRecommendations:["护肤","美妆","推荐","好物","分享"]}}};var bt=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(Y_){i(Y_)}},a=e=>{try{s(n.throw(e))}catch(Y_){i(Y_)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())});const{Title:xt,Text:wt}=T,jt=()=>bt(null,null,function*(){const e=yield vt.getPlatformStats(),t=(yield vt.getHotTopics(5)).map((e,t)=>({id:e.id,title:e.title,name:e.title,heat:e.trendScore,heatScore:e.trendScore,trend:e.trendScore>85?"up":e.trendScore<70?"down":"stable",posts:e.likeCount+e.commentCount,contentCount:e.likeCount+e.commentCount,engagement:(e.likeCount+e.commentCount)/Math.max(e.viewCount,1)*100,category:e.category,tags:e.tags}));return{overview:{totalTopics:e.totalNotes,totalUsers:e.activeUsers,totalInteractions:e.totalInteractions,growthRate:{topics:Math.round(10*e.growthRate.notes)/10,users:Math.round(10*e.growthRate.users)/10,interactions:Math.round(10*e.growthRate.interactions)/10}},hotTopics:t}}),Ot=()=>{const[e,t]=O.useState(null),[n,r]=O.useState(!0),[i,o]=O.useState(null),[a,l]=O.useState("overview"),[c,u]=O.useState(!1),d=()=>bt(null,null,function*(){r(!0);try{const e=yield jt();t(e),o(new Date)}catch(e){}finally{r(!1)}}),f=e=>{navigator.clipboard.writeText(e).then(()=>{}).catch(()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})};if(O.useEffect(()=>{d()},[]),n)return s.jsx(I,{size:"large",style:{display:"block",margin:"50px auto"}});if(!e)return s.jsx("div",{style:{textAlign:"center",padding:"50px"},children:s.jsx(D,{type:"primary",onClick:d,children:"重新加载数据"})});const{overview:h,hotTopics:p}=e,g=t=>{if(!e||!e.hotTopics)return{};switch(t){case"category":const t=e.hotTopics.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{});return{title:{text:"内容分类分布",left:"center"},tooltip:{trigger:"item"},series:[{type:"pie",radius:"60%",data:Object.entries(t).map(([e,t])=>({name:e,value:t})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};case"trend":return{title:{text:"热度趋势",left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:e.hotTopics.slice(0,8).map((e,t)=>`话题${t+1}`)},yAxis:{type:"value"},series:[{data:e.hotTopics.slice(0,8).map(e=>e.heat),type:"line",smooth:!0,areaStyle:{}}]};default:return{}}},y=[{key:"overview",label:"📊 数据概览",children:s.jsxs("div",{children:[s.jsxs(N,{gutter:[24,24],style:{marginBottom:"32px"},children:[s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx($,{hoverable:!0,style:{borderRadius:"12px",border:"1px solid #f0f0f0",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:s.jsx(L,{title:s.jsx("span",{style:{color:"#8c8c8c",fontSize:"14px"},children:"总话题数"}),value:h.totalTopics,precision:0,valueStyle:{color:"#ff2442",fontSize:"28px",fontWeight:600},prefix:s.jsx(F,{style:{color:"#ff2442"}}),suffix:s.jsxs("div",{style:{fontSize:"12px",color:h.growthRate.topics>0?"#52c41a":"#ff4d4f",marginTop:"4px"},children:[h.growthRate.topics>0?s.jsx(B,{}):s.jsx(z,{}),Math.abs(h.growthRate.topics).toFixed(1),"%"]})})})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx($,{hoverable:!0,style:{borderRadius:"12px",border:"1px solid #f0f0f0",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:s.jsx(L,{title:s.jsx("span",{style:{color:"#8c8c8c",fontSize:"14px"},children:"活跃用户"}),value:h.totalUsers,precision:0,valueStyle:{color:"#1890ff",fontSize:"28px",fontWeight:600},prefix:s.jsx(U,{style:{color:"#1890ff"}}),suffix:s.jsxs("div",{style:{fontSize:"12px",color:h.growthRate.users>0?"#52c41a":"#ff4d4f",marginTop:"4px"},children:[h.growthRate.users>0?s.jsx(B,{}):s.jsx(z,{}),Math.abs(h.growthRate.users).toFixed(1),"%"]})})})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx($,{hoverable:!0,style:{borderRadius:"12px",border:"1px solid #f0f0f0",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:s.jsx(L,{title:s.jsx("span",{style:{color:"#8c8c8c",fontSize:"14px"},children:"总互动数"}),value:h.totalInteractions,precision:0,valueStyle:{color:"#52c41a",fontSize:"28px",fontWeight:600},prefix:s.jsx(K,{style:{color:"#52c41a"}}),suffix:s.jsxs("div",{style:{fontSize:"12px",color:h.growthRate.interactions>0?"#52c41a":"#ff4d4f",marginTop:"4px"},children:[h.growthRate.interactions>0?s.jsx(B,{}):s.jsx(z,{}),Math.abs(h.growthRate.interactions).toFixed(1),"%"]})})})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx($,{hoverable:!0,style:{borderRadius:"12px",border:"1px solid #f0f0f0",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:s.jsx(L,{title:s.jsx("span",{style:{color:"#8c8c8c",fontSize:"14px"},children:"数据更新"}),value:i?i.toLocaleTimeString():"--",valueStyle:{color:"#722ed1",fontSize:"20px",fontWeight:600},prefix:s.jsx(W,{style:{color:"#722ed1"}})})})})]}),s.jsx($,{title:s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("span",{children:[s.jsx(F,{style:{color:"#ff2442",marginRight:"8px"}}),"实时热门话题"]}),s.jsxs(H,{children:[s.jsx(Z,{count:p.length,showZero:!0,color:"#ff2442"}),s.jsx(D,{type:"primary",size:"small",icon:s.jsx(W,{}),loading:c,onClick:()=>bt(null,null,function*(){u(!0);try{const e=yield jt();t(e),o(new Date)}catch(e){}finally{u(!1)}}),children:"刷新数据"})]})]}),style:{borderRadius:"12px",border:"1px solid #f0f0f0",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:s.jsx(q,{itemLayout:"horizontal",dataSource:p,renderItem:(e,t)=>s.jsx(q.Item,{actions:[s.jsx(Y,{title:"查看详情",children:s.jsx(D,{type:"link",icon:s.jsx(X,{}),size:"small",onClick:()=>(e=>{var t;te.info({title:`话题详情 - ${e.title}`,width:600,content:s.jsx("div",{style:{padding:"16px 0"},children:s.jsxs(ne,{column:1,bordered:!0,size:"small",children:[s.jsx(ne.Item,{label:"话题标题",children:e.title}),s.jsx(ne.Item,{label:"分类",children:e.category}),s.jsx(ne.Item,{label:"热度评分",children:e.heatScore}),s.jsx(ne.Item,{label:"内容数量",children:(null==(t=e.contentCount)?void 0:t.toLocaleString())||"未知"}),s.jsx(ne.Item,{label:"参与度",children:e.engagement||"未知"}),s.jsx(ne.Item,{label:"相关标签",children:e.tags?e.tags.map(e=>s.jsxs(G,{color:"blue",style:{margin:"2px"},children:["#",e]},e)):"暂无标签"})]})})})})(e),children:"查看"})}),s.jsx(Y,{title:"分享话题",children:s.jsx(D,{type:"link",icon:s.jsx(J,{}),size:"small",onClick:()=>(e=>{const t=`【小红书热门话题】${e.title} - 热度: ${e.heatScore} | 分类: ${e.category}`;navigator.share?navigator.share({title:"小红书热门话题分享",text:t,url:window.location.href}).catch(()=>{f(t)}):f(t)})(e),children:"分享"})})],style:{padding:"16px 0",borderBottom:t===p.length-1?"none":"1px solid #f0f0f0"},children:s.jsx(q.Item.Meta,{avatar:s.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:t<3?"linear-gradient(135deg, #ff2442 0%, #ff4757 100%)":t<6?"linear-gradient(135deg, #1890ff 0%, #40a9ff 100%)":"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"bold"},children:t+1}),title:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx(wt,{strong:!0,style:{fontSize:"16px"},children:e.name}),s.jsx(G,{color:"美妆"===e.category?"magenta":"护肤"===e.category?"blue":"穿搭"===e.category?"purple":"美食"===e.category?"orange":"green",children:e.category}),s.jsx(G,{color:"up"===e.trend?"success":"down"===e.trend?"error":"default",children:"up"===e.trend?"↗️ 上升":"down"===e.trend?"↘️ 下降":"➡️ 稳定"})]}),description:s.jsx("div",{style:{marginTop:"8px"},children:s.jsxs(H,{size:"large",children:[s.jsxs("span",{children:[s.jsx(F,{style:{color:"#ff2442",marginRight:"4px"}}),"热度: ",s.jsx(wt,{strong:!0,children:e.heat.toFixed(1)})]}),s.jsxs("span",{children:[s.jsx(V,{style:{color:"#1890ff",marginRight:"4px"}}),"内容: ",s.jsx(wt,{strong:!0,children:e.posts})]}),s.jsxs("span",{children:[s.jsx(K,{style:{color:"#52c41a",marginRight:"4px"}}),"参与度: ",s.jsxs(wt,{strong:!0,children:[e.engagement.toFixed(1),"%"]})]})]})})})},e.id)})})]})},{key:"charts",label:"📈 数据图表",children:s.jsxs(N,{gutter:[24,24],children:[s.jsx(R,{xs:24,lg:12,children:s.jsx($,{title:"内容分类分布",style:{borderRadius:"12px"},children:s.jsx(C,{option:g("category"),style:{height:"300px"}})})}),s.jsx(R,{xs:24,lg:12,children:s.jsx($,{title:"热度趋势分析",style:{borderRadius:"12px"},children:s.jsx(C,{option:g("trend"),style:{height:"300px"}})})})]})}];return s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsxs(xt,{level:2,style:{margin:0,color:"#262626"},children:[s.jsx(Q,{style:{color:"#ff2442",marginRight:"12px"}}),"数据概览中心"]}),s.jsxs(wt,{type:"secondary",style:{fontSize:"16px"},children:["基于真实数据的小红书趋势分析平台 • 最后更新: ",(null==i?void 0:i.toLocaleString())||"未知"]})]}),s.jsx(ee,{activeKey:a,onChange:l,items:y,size:"large",style:{background:"#ffffff",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"}})]})};function St(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=St(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _t(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=St(e))&&(r&&(r+=" "),r+=t);return r}var Pt,At={},kt={};function Et(){return Pt||(Pt=1,e=kt,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),kt;var e}var Mt,Ct={};function Tt(){return Mt||(Mt=1,e=Ct,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),Ct;var e}var It,Dt={};function Nt(){return It||(It=1,e=Dt,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==(t=null==e?void 0:e.valueOf)?void 0:t.call(e),-0)?"-0":String(e)}),Dt;var e}var Rt,$t,Lt,Bt,zt={};function Ft(){return Rt||(Rt=1,e=zt,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,i="",o="",a=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];o?"\\"===s&&r+1<n?(r++,i+=e[r]):s===o?o="":i+=s:a?'"'===s||"'"===s?o=s:"]"===s?(a=!1,t.push(i),i=""):i+=s:"["===s?(a=!0,i&&(t.push(i),i="")):"."===s?i&&(t.push(i),i=""):i+=s,r++}return i&&t.push(i),t}),zt;var e}function Ut(){return $t||($t=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Et(),n=Tt(),r=Nt(),i=Ft();e.get=function e(o,a,s){if(null==o)return s;switch(typeof a){case"string":{if(t.isUnsafeProperty(a))return s;const r=o[a];return void 0===r?n.isDeepKey(a)?e(o,i.toPath(a),s):s:r}case"number":case"symbol":{"number"==typeof a&&(a=r.toKey(a));const e=o[a];return void 0===e?s:e}default:{if(Array.isArray(a))return function(e,n,r){if(0===n.length)return r;let i=e;for(let o=0;o<n.length;o++){if(null==i)return r;if(t.isUnsafeProperty(n[o]))return r;i=i[n[o]]}return void 0===i?r:i}(o,a,s);if(a=Object.is(null==a?void 0:a.valueOf(),-0)?"-0":String(a),t.isUnsafeProperty(a))return s;const e=o[a];return void 0===e?s:e}}}}(At)),At}function Kt(){return Bt?Lt:(Bt=1,Lt=Ut().get)}const Wt=j(Kt());var qt,Ht,Vt={exports:{}},Gt={},Yt=(Ht||(Ht=1,Vt.exports=function(){if(qt)return Gt;qt=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,h=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,m=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var f=e.$$typeof;switch(f){case t:switch(e=e.type){case l:case c:case r:case o:case i:case d:return e;default:switch(e=e&&e.$$typeof){case s:case u:case p:case h:case a:return e;default:return f}}case n:return f}}}function x(e){return b(e)===c}return Gt.AsyncMode=l,Gt.ConcurrentMode=c,Gt.ContextConsumer=s,Gt.ContextProvider=a,Gt.Element=t,Gt.ForwardRef=u,Gt.Fragment=r,Gt.Lazy=p,Gt.Memo=h,Gt.Portal=n,Gt.Profiler=o,Gt.StrictMode=i,Gt.Suspense=d,Gt.isAsyncMode=function(e){return x(e)||b(e)===l},Gt.isConcurrentMode=x,Gt.isContextConsumer=function(e){return b(e)===s},Gt.isContextProvider=function(e){return b(e)===a},Gt.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},Gt.isForwardRef=function(e){return b(e)===u},Gt.isFragment=function(e){return b(e)===r},Gt.isLazy=function(e){return b(e)===p},Gt.isMemo=function(e){return b(e)===h},Gt.isPortal=function(e){return b(e)===n},Gt.isProfiler=function(e){return b(e)===o},Gt.isStrictMode=function(e){return b(e)===i},Gt.isSuspense=function(e){return b(e)===d},Gt.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===o||e===i||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===a||e.$$typeof===s||e.$$typeof===u||e.$$typeof===y||e.$$typeof===m||e.$$typeof===v||e.$$typeof===g)},Gt.typeOf=b,Gt}()),Vt.exports),Xt=e=>0===e?0:e>0?1:-1,Jt=e=>"number"==typeof e&&e!=+e,Zt=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,Qt=e=>("number"==typeof e||e instanceof Number)&&!Jt(e),en=e=>Qt(e)||"string"==typeof e,tn=0,nn=e=>{var t=++tn;return"".concat(e||"").concat(t)},rn=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Qt(e)&&"string"!=typeof e)return r;if(Zt(e)){if(null==t)return r;var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return Jt(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},on=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1},an=(e,t)=>Qt(e)&&Qt(t)?n=>e+n*(t-e):()=>t,sn=e=>null==e,ln=e=>sn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),cn=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],un=["points","pathLength"],dn={svg:["viewBox","children"],polygon:un,polyline:un},fn=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hn=(e,t,n)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];fn.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(o,t,n))}),r},pn=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",gn=null,yn=null,mn=e=>{if(e===gn&&Array.isArray(yn))return yn;var t=[];return O.Children.forEach(e,e=>{sn(e)||(Yt.isFragment(e)?t=t.concat(mn(e.props.children)):t.push(e))}),yn=t,gn=e,t};function vn(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>pn(e)):[pn(t)],mn(e).forEach(e=>{var t=Wt(e,"type.displayName")||Wt(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}var bn=(e,t,n)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(O.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var i={};return Object.keys(r).forEach(e=>{var o;((e,t,n,r)=>{var i,o=null!==(i=r&&(null==dn?void 0:dn[r]))&&void 0!==i?i:[];return t.startsWith("data-")||"function"!=typeof e&&(r&&o.includes(t)||cn.includes(t))||n&&fn.includes(t)})(null===(o=r)||void 0===o?void 0:o[e],e,t,n)&&(i[e]=r[e])}),i},xn=["children","width","height","viewBox","className","style","title","desc"];function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wn.apply(null,arguments)}var jn=O.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,xn),d=o||{width:r,height:i,x:0,y:0},f=_t("recharts-surface",a);return O.createElement("svg",wn({},bn(u,!0,"svg"),{className:f,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),O.createElement("title",null,l),O.createElement("desc",null,c),n)}),On=["children","className"];function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sn.apply(null,arguments)}var _n=O.forwardRef((e,t)=>{var{children:n,className:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,On),o=_t("recharts-layer",r);return O.createElement("g",Sn({className:o},bn(i,!0),{ref:t}),n)}),Pn=O.createContext(null);function An(e){return function(){return e}}const kn=Math.cos,En=Math.sin,Mn=Math.sqrt,Cn=Math.PI,Tn=2*Cn,In=Math.PI,Dn=2*In,Nn=1e-6,Rn=Dn-Nn;function $n(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class Ln{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?$n:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $n;const n=u(10,t);return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,c=o-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Nn)if(Math.abs(u*s-l*c)>Nn&&i){let f=n-o,h=r-a,p=s*s+l*l,g=f*f+h*h,y=Math.sqrt(p),m=Math.sqrt(d),v=i*Math.tan((In-Math.acos((p+d-g)/(2*y*m)))/2),b=v/m,x=v/y;Math.abs(b-1)>Nn&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*f>c*h)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Nn||Math.abs(this._y1-c)>Nn)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%Dn+Dn),d>Rn?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>Nn&&this._append`A${n},${n},0,${+(d>=In)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Bn(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new Ln(t)}function zn(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Fn(e){this._context=e}function Un(e){return new Fn(e)}function Kn(e){return e[0]}function Wn(e){return e[1]}function qn(e,t){var n=An(!0),r=null,i=Un,o=null,a=Bn(s);function s(s){var l,c,u,d=(s=zn(s)).length,f=!1;for(null==r&&(o=i(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(c,l,s),+t(c,l,s));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?Kn:An(e),t="function"==typeof t?t:void 0===t?Wn:An(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:An(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:An(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:An(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function Hn(e,t,n){var r=null,i=An(!0),o=null,a=Un,s=null,l=Bn(c);function c(c){var u,d,f,h,p,g=(c=zn(c)).length,y=!1,m=new Array(g),v=new Array(g);for(null==o&&(s=a(p=l())),u=0;u<=g;++u){if(!(u<g&&i(h=c[u],u,c))===y)if(y=!y)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(m[f],v[f]);s.lineEnd(),s.areaEnd()}y&&(m[u]=+e(h,u,c),v[u]=+t(h,u,c),s.point(r?+r(h,u,c):m[u],n?+n(h,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return qn().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?Kn:An(+e),t="function"==typeof t?t:An(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Wn:An(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:An(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:An(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:An(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:An(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:An(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:An(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:An(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c}Fn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Vn{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Gn={draw(e,t){const n=Mn(t/Cn);e.moveTo(n,0),e.arc(0,0,n,0,Tn)}},Yn={draw(e,t){const n=Mn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Xn=Mn(1/3),Jn=2*Xn,Zn={draw(e,t){const n=Mn(t/Jn),r=n*Xn;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Qn={draw(e,t){const n=Mn(t),r=-n/2;e.rect(r,r,n,n)}},er=En(Cn/10)/En(7*Cn/10),tr=En(Tn/10)*er,nr=-kn(Tn/10)*er,rr={draw(e,t){const n=Mn(.8908130915292852*t),r=tr*n,i=nr*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=Tn*o/5,a=kn(t),s=En(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},ir=Mn(3),or={draw(e,t){const n=-Mn(t/(3*ir));e.moveTo(0,2*n),e.lineTo(-ir*n,-n),e.lineTo(ir*n,-n),e.closePath()}},ar=-.5,sr=Mn(3)/2,lr=1/Mn(12),cr=3*(lr/2+1),ur={draw(e,t){const n=Mn(t/cr),r=n/2,i=n*lr,o=r,a=n*lr+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(ar*r-sr*i,sr*r+ar*i),e.lineTo(ar*o-sr*a,sr*o+ar*a),e.lineTo(ar*s-sr*l,sr*s+ar*l),e.lineTo(ar*r+sr*i,ar*i-sr*r),e.lineTo(ar*o+sr*a,ar*a-sr*o),e.lineTo(ar*s+sr*l,ar*l-sr*s),e.closePath()}};function dr(){}function fr(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function hr(e){this._context=e}function pr(e){this._context=e}function gr(e){this._context=e}function yr(e){this._context=e}function mr(e){return e<0?-1:1}function vr(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(mr(o)+mr(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function br(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xr(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function wr(e){this._context=e}function jr(e){this._context=new Or(e)}function Or(e){this._context=e}function Sr(e){this._context=e}function _r(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Pr(e,t){this._context=e,this._t=t}function Ar(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function kr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Er(e,t){return e[t]}function Mr(e){const t=[];return t.key=e,t}hr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fr(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pr.prototype={areaStart:dr,areaEnd:dr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},gr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},yr.prototype={areaStart:dr,areaEnd:dr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},wr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xr(this,this._t0,br(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xr(this,br(this,n=vr(this,e,t)),n);break;default:xr(this,this._t0,n=vr(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(jr.prototype=Object.create(wr.prototype)).point=function(e,t){wr.prototype.point.call(this,t,e)},Or.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},Sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=_r(e),i=_r(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Cr=["type","size","sizeType"];function Tr(){return Tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tr.apply(null,arguments)}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach(function(t){Nr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rr={symbolCircle:Gn,symbolCross:Yn,symbolDiamond:Zn,symbolSquare:Qn,symbolStar:rr,symbolTriangle:or,symbolWye:ur},$r=Math.PI/180,Lr=e=>{var t,n,{type:r="circle",size:i=64,sizeType:o="area"}=e,a=Dr(Dr({},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Cr)),{},{type:r,size:i,sizeType:o}),{className:s,cx:l,cy:c}=a,d=bn(a,!0);return l===+l&&c===+c&&i===+i?O.createElement("path",Tr({},d,{className:_t("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(t=(e=>{var t="symbol".concat(ln(e));return Rr[t]||Gn})(r),n=function(e,t){let n=null,r=Bn(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:An(e||Gn),t="function"==typeof t?t:An(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:An(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:An(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(t).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*$r;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*u(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(i,o,r)),n())})):null};function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(null,arguments)}function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Lr.registerSymbol=(e,t)=>{Rr["symbol".concat(ln(e))]=t};var Ur=32;class Kr extends O.PureComponent{renderIcon(e,t){var{inactiveColor:n}=this.props,r=16,i=Ur/6,o=Ur/3,a=e.inactive?n:e.color,s=null!=t?t:e.type;if("none"===s)return null;if("plainline"===s)return O.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Ur,y2:r,className:"recharts-legend-icon"});if("line"===s)return O.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(r,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(r,"\n            H").concat(Ur,"M").concat(2*o,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if("rect"===s)return O.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(Ur,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(O.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach(function(t){Fr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete l.legendIcon,O.cloneElement(e.legendIcon,l)}return O.createElement(Lr,{fill:a,cx:r,cy:r,size:Ur,sizeType:"diameter",type:s})}renderItems(){var{payload:e,iconSize:t,layout:n,formatter:r,inactiveColor:i,iconType:o}=this.props,a={x:0,y:0,width:Ur,height:Ur},s={display:"horizontal"===n?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,n)=>{var c=e.formatter||r,u=_t({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:e.inactive});if("none"===e.type)return null;var d=e.inactive?i:e.color,f=c?c(e.value,e,n):e.value;return O.createElement("li",Br({className:u,style:s,key:"legend-item-".concat(n)},hn(this.props,e,n)),O.createElement(jn,{width:t,height:t,viewBox:a,style:l,"aria-label":"".concat(f," legend icon")},this.renderIcon(e,o)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},f))})}render(){var{payload:e,layout:t,align:n}=this.props;if(!e||!e.length)return null;var r={padding:0,margin:0,textAlign:"horizontal"===t?n:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:r},this.renderItems())}}Fr(Kr,"displayName","Legend"),Fr(Kr,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Wr,qr={},Hr={};function Vr(){return Wr||(Wr=1,e=Hr,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],o=t(i);n.has(o)||n.set(o,i)}return Array.from(n.values())}),Hr;var e}var Gr,Yr={};function Xr(){return Gr||(Gr=1,e=Yr,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),Yr;var e}var Jr,Zr,Qr={},ei={},ti={};function ni(){return Jr||(Jr=1,e=ti,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),ti;var e}function ri(){return Zr||(Zr=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ni();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(ei)),ei}var ii,oi,ai={};function si(){return ii||(ii=1,e=ai,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),ai;var e}function li(){return oi||(oi=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ri(),n=si();e.isArrayLikeObject=function(e){return n.isObjectLike(e)&&t.isArrayLike(e)}}(Qr)),Qr}var ci,ui={},di={};function fi(){return ci||(ci=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ut();e.property=function(e){return function(n){return t.get(n,e)}}}(di)),di}var hi,pi={},gi={},yi={},mi={};function vi(){return hi||(hi=1,e=mi,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),mi;var e}var bi,xi={};function wi(){return bi||(bi=1,e=xi,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),xi;var e}var ji,Oi,Si,_i={};function Pi(){return ji||(ji=1,e=_i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),_i;var e}function Ai(){return Oi||(Oi=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ki(),n=vi(),r=wi(),i=Pi();function o(e,t,l,c){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,i){if(null==t)return!0;if(Array.isArray(t))return a(e,t,n,i);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,o]of t.entries())if(!1===n(e.get(i),o,i,e,t,r))return!1;return!0}(e,t,n,i);if(t instanceof Set)return s(e,t,n,i);const o=Object.keys(t);if(null==e)return 0===o.length;if(0===o.length)return!0;if(i&&i.has(t))return i.get(t)===e;i&&i.set(t,e);try{for(let a=0;a<o.length;a++){const s=o[a];if(!r.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,i))return!1}return!0}finally{i&&i.delete(t)}}(e,t,l,c);case"function":return Object.keys(t).length>0?o(e,f({},t),l,c):i.eq(e,t);default:return n.isObject(e)?"string"!=typeof t||""===t:i.eq(e,t)}}function a(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let o=0;o<t.length;o++){const a=t[o];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(n(e[l],a,o,e,t,r)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function s(e,t,n,r){return 0===t.size||e instanceof Set&&a([...e],[...t],n,r)}e.isMatchWith=function(e,n,r){return"function"!=typeof r?t.isMatch(e,n):o(e,n,function e(t,n,i,a,s,l){const c=r(t,n,i,a,s,l);return void 0!==c?Boolean(c):o(t,n,e,l)},new Map)},e.isSetMatch=s}(yi)),yi}function ki(){return Si||(Si=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ai();e.isMatch=function(e,n){return t.isMatchWith(e,n,()=>{})}}(gi)),gi}var Ei,Mi={},Ci={},Ti={};function Ii(){return Ei||(Ei=1,e=Ti,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),Ti;var e}var Di,Ni={};function Ri(){return Di||(Di=1,e=Ni,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),Ni;var e}var $i,Li={};function Bi(){return $i||($i=1,e=Li,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"),Li;var e}var zi,Fi,Ui,Ki,Wi={};function qi(){return zi||(zi=1,e=Wi,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),Wi;var e}function Hi(){return Fi||(Fi=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ii(),n=Ri(),r=Bi(),i=wi(),o=qi();function a(e,t,l,c=new Map,u=void 0){const d=null==u?void 0:u(e,t,l,c);if(null!=d)return d;if(i.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=a(e[n],n,l,c,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[n,r]of e)t.set(n,a(r,n,l,c,u));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const n of e)t.add(a(n,void 0,l,c,u));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let n=0;n<e.length;n++)t[n]=a(e[n],n,l,c,u);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),s(t,e,l,c,u),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),s(t,e,l,c,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),s(t,e,l,c,u),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,s(t,e,l,c,u),t}if("object"==typeof e&&function(e){switch(n.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),s(t,e,l,c,u),t}return e}function s(e,n,r=e,i,o){const s=[...Object.keys(n),...t.getSymbols(n)];for(let t=0;t<s.length;t++){const l=s[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=a(n[l],l,r,i,o))}}e.cloneDeepWith=function(e,t){return a(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=a,e.copyProperties=s}(Ci)),Ci}function Vi(){return Ui||(Ui=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hi();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(Mi)),Mi}function Gi(){return Ki||(Ki=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ki(),n=Vi();e.matches=function(e){return e=n.cloneDeep(e),n=>t.isMatch(n,e)}}(pi)),pi}var Yi,Xi,Ji={},Zi={},Qi={};function eo(){return Yi||(Yi=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hi(),n=Bi();e.cloneDeepWith=function(e,r){return t.cloneDeepWith(e,(i,o,a,s)=>{const l=null==r?void 0:r(i,o,a,s);if(null!=l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case n.numberTag:case n.stringTag:case n.booleanTag:{const n=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(n,e),n}case n.argumentsTag:{const n={};return t.copyProperties(n,e),n.length=e.length,n[Symbol.iterator]=e[Symbol.iterator],n}default:return}})}}(Qi)),Qi}function to(){return Xi||(Xi=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eo();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(Zi)),Zi}var no,ro={},io={};function oo(){return no||(no=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,n=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<n;case"symbol":return!1;case"string":return t.test(e)}}}(io)),io}var ao,so,lo,co,uo,fo,ho,po={};function go(){return ao||(ao=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ri();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(po)),po}function yo(){return so||(so=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tt(),n=oo(),r=go(),i=Ft();e.has=function(e,o){let a;if(a=Array.isArray(o)?o:"string"==typeof o&&t.isDeepKey(o)&&null==(null==e?void 0:e[o])?i.toPath(o):[o],0===a.length)return!1;let s=e;for(let t=0;t<a.length;t++){const e=a[t];if(!(null!=s&&Object.hasOwn(s,e)||(Array.isArray(s)||r.isArguments(s))&&n.isIndex(e)&&e<s.length))return!1;s=s[e]}return!0}}(ro)),ro}function mo(){return lo||(lo=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ki(),n=Nt(),r=to(),i=Ut(),o=yo();e.matchesProperty=function(e,a){switch(typeof e){case"object":Object.is(null==e?void 0:e.valueOf(),-0)&&(e="-0");break;case"number":e=n.toKey(e)}return a=r.cloneDeep(a),function(n){const r=i.get(n,e);return void 0===r?o.has(n,e):void 0===a?void 0===r:t.isMatch(r,a)}}}(Ji)),Ji}function vo(){return co||(co=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xr(),n=fi(),r=Gi(),i=mo();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):r.matches(e);case"string":case"symbol":case"number":return n.property(e)}}}(ui)),ui}function bo(){return ho?fo:(ho=1,fo=(uo||(uo=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vr(),n=Xr(),r=li(),i=vo();e.uniqBy=function(e,o=n.identity){return r.isArrayLikeObject(e)?t.uniqBy(Array.from(e),i.iteratee(o)):[]}}(qr)),qr).uniqBy)}const xo=j(bo());function wo(e,t,n){return!0===t?xo(e,n):"function"==typeof t?xo(e,t):e}var jo,Oo,So,_o,Po={exports:{}},Ao={},ko={exports:{}},Eo={};function Mo(){return Oo||(Oo=1,ko.exports=function(){if(jo)return Eo;jo=1;var e=x(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),l=n({inst:{value:s,getSnapshot:t}}),c=l[0].inst,u=l[1];return i(function(){c.value=s,c.getSnapshot=t,a(c)&&u({inst:c})},[e,s,t]),r(function(){return a(c)&&u({inst:c}),e(function(){a(c)&&u({inst:c})})},[e]),o(s),s};return Eo.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:s,Eo}()),ko.exports}
/**
     * @license React
     * use-sync-external-store-shim/with-selector.production.js
     *
     * Copyright (c) Meta Platforms, Inc. and affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */var Co=(_o||(_o=1,Po.exports=function(){if(So)return Ao;So=1;var e=x(),t=Mo(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,s=e.useDebugValue;return Ao.useSyncExternalStoreWithSelector=function(e,t,l,c,u){var d=i(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=a(function(){function e(e){if(!o){if(o=!0,r=e,e=c(e),void 0!==u&&f.hasValue){var t=f.value;if(u(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var a=c(e);return void 0!==u&&u(t,a)?(r=e,t):(r=e,i=a)}var r,i,o=!1,a=void 0===l?null:l;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]},[t,l,c,u]);var h=r(e,d[0],d[1]);return o(function(){f.hasValue=!0,f.value=h},[h]),s(h),h},Ao}()),Po.exports),To=O.createContext(null),Io=e=>e,Do=()=>{var e=O.useContext(To);return e?e.store.dispatch:Io},No=()=>{},Ro=()=>No,$o=(e,t)=>e===t;function Lo(e){var t=O.useContext(To);return Co.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Ro,t?t.store.getState:No,t?t.store.getState:No,t?e:No,$o)}var Bo=e=>Array.isArray(e)?e:[e];function zo(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var Fo="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Uo(){return{s:0,v:void 0,o:null,p:null}}function Ko(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,o=0;function a(){var t,a;let s=n;const{length:l}=arguments;for(let e=0,n=l;e<n;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=s.o;null===e&&(s.o=e=new WeakMap);const n=e.get(t);void 0===n?(s=Uo(),e.set(t,s)):s=n}else{let e=s.p;null===e&&(s.p=e=new Map);const n=e.get(t);void 0===n?(s=Uo(),e.set(t,s)):s=n}}const c=s;let u;if(1===s.s)u=s.v;else if(u=e.apply(null,arguments),o++,r){const e=null!=(a=null==(t=null==i?void 0:i.deref)?void 0:t.call(i))?a:i;null!=e&&r(e,u)&&(u=e,0!==o&&o--),i="object"==typeof u&&null!==u||"function"==typeof u?new Fo(u):u}return c.s=1,c.v=u,u}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function Wo(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,o={},a=e.pop();"object"==typeof a&&(o=a,a=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const s=f(f({},n),o),{memoize:l,memoizeOptions:c=[],argsMemoize:u=Ko,argsMemoizeOptions:d=[]}=s,h=Bo(c),p=Bo(d),g=zo(e),y=l(function(){return r++,a.apply(null,arguments)},...h),m=u(function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(g,arguments);return t=y.apply(null,e),t},...p);return Object.assign(m,{resultFunc:a,memoizedResultFunc:y,dependencies:g,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:u})};return Object.assign(r,{withTypes:()=>r}),r}var qo,Ho=Wo(Ko),Vo=Object.assign((e,t=Ho)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>Vo}),Go={},Yo={},Xo={};function Jo(){return qo||(qo=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.compareValues=(e,n,r)=>{if(e!==n){const i=t(e),o=t(n);if(i===o&&0===i){if(e<n)return"desc"===r?1:-1;if(e>n)return"desc"===r?-1:1}return"desc"===r?o-i:i-o}return 0}}(Xo)),Xo}var Zo,Qo,ea,ta={},na={};function ra(){return Zo||(Zo=1,e=na,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),na;var e}function ia(){return Qo||(Qo=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ra(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.isKey=function(e,i){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||"string"==typeof e&&(r.test(e)||!n.test(e))||null!=i&&Object.hasOwn(i,e))}}(ta)),ta}function oa(){return ea||(ea=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jo(),n=ia(),r=Ft();e.orderBy=function(e,i,o,a){if(null==e)return[];o=a?void 0:o,Array.isArray(e)||(e=Object.values(e)),Array.isArray(i)||(i=null==i?[null]:[i]),0===i.length&&(i=[null]),Array.isArray(o)||(o=null==o?[]:[o]),o=o.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=i.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||n.isKey(e)?e:{key:e,path:r.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?s(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,n)=>{for(let r=0;r<l.length;r++){const i=t.compareValues(e.criteria[r],n.criteria[r],o[r]);if(0!==i)return i}return 0}).map(e=>e.original)}}(Yo)),Yo}var aa,sa={};function la(){return aa||(aa=1,e=sa,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const n=[],r=Math.floor(t),i=(e,t)=>{for(let o=0;o<e.length;o++){const a=e[o];Array.isArray(a)&&t<r?i(a,t+1):n.push(a)}};return i(e,0),n}),sa;var e}var ca,ua,da,fa,ha={};function pa(){return ca||(ca=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oo(),n=ri(),r=vi(),i=Pi();e.isIterateeCall=function(e,o,a){return!!r.isObject(a)&&!!("number"==typeof o&&n.isArrayLike(a)&&t.isIndex(o)&&o<a.length||"string"==typeof o&&o in a)&&i.eq(a[o],e)}}(ha)),ha}function ga(){return fa?da:(fa=1,da=(ua||(ua=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oa(),n=la(),r=pa();e.sortBy=function(e,...i){const o=i.length;return o>1&&r.isIterateeCall(e,i[0],i[1])?i=[]:o>2&&r.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(e,n.flatten(i),["asc"])}}(Go)),Go).sortBy)}const ya=j(ga());var ma=e=>e.legend.settings,va=Ho([e=>e.legend.payload,ma],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ya(r,n):r});function ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=O.useState({height:0,left:0,top:0,width:0}),r=O.useCallback(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function xa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wa=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),ja=()=>Math.random().toString(36).substring(7).split("").join("."),Oa={INIT:`@@redux/INIT${ja()}`,REPLACE:`@@redux/REPLACE${ja()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ja()}`};function Sa(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function _a(e,t,n){if("function"!=typeof e)throw new Error(xa(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(xa(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(xa(1));return n(_a)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function c(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function u(){if(l)throw new Error(xa(3));return i}function d(e){if("function"!=typeof e)throw new Error(xa(4));if(l)throw new Error(xa(5));let t=!0;c();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(xa(6));t=!1,c(),a.delete(n),o=null}}}function f(e){if(!Sa(e))throw new Error(xa(7));if(void 0===e.type)throw new Error(xa(8));if("string"!=typeof e.type)throw new Error(xa(17));if(l)throw new Error(xa(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach(e=>{e()}),e}return f({type:Oa.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(xa(10));r=e,f({type:Oa.REPLACE})},[wa]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(xa(11));function n(){const e=t;e.next&&e.next(u())}return n(),{unsubscribe:e(n)}},[wa](){return this}}}}}function Pa(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:Oa.INIT}))throw new Error(xa(12));if(void 0===n(void 0,{type:Oa.PROBE_UNKNOWN_ACTION()}))throw new Error(xa(13))})}(n)}catch(Y_){i=Y_}return function(e={},t){if(i)throw i;let o=!1;const a={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],c=e[s],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(xa(14));a[s]=u,o=o||u!==c}return o=o||r.length!==Object.keys(e).length,o?a:e}}function Aa(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function ka(e){return Sa(e)&&"type"in e&&"string"==typeof e.type}var Ea=Symbol.for("immer-nothing"),Ma=Symbol.for("immer-draftable"),Ca=Symbol.for("immer-state");function Ta(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ia=Object.getPrototypeOf;function Da(e){return!!e&&!!e[Ca]}function Na(e){var t;return!!e&&($a(e)||Array.isArray(e)||!!e[Ma]||!!(null==(t=e.constructor)?void 0:t[Ma])||Ua(e)||Ka(e))}var Ra=Object.prototype.constructor.toString();function $a(e){if(!e||"object"!=typeof e)return!1;const t=Ia(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ra}function La(e,t){0===Ba(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Ba(e){const t=e[Ca];return t?t.type_:Array.isArray(e)?1:Ua(e)?2:Ka(e)?3:0}function za(e,t){return 2===Ba(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Fa(e,t,n){const r=Ba(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Ua(e){return e instanceof Map}function Ka(e){return e instanceof Set}function Wa(e){return e.copy_||e.base_}function qa(e,t){if(Ua(e))return new Map(e);if(Ka(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$a(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Ca];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Ia(e),t)}{const t=Ia(e);if(null!==t&&n)return f({},e);const r=Object.create(t);return Object.assign(r,e)}}function Ha(e,t=!1){return Ga(e)||Da(e)||!Na(e)||(Ba(e)>1&&(e.set=e.add=e.clear=e.delete=Va),Object.freeze(e),t&&Object.entries(e).forEach(([e,t])=>Ha(t,!0))),e}function Va(){Ta(2)}function Ga(e){return Object.isFrozen(e)}var Ya,Xa={};function Ja(e){const t=Xa[e];return t||Ta(0),t}function Za(){return Ya}function Qa(e,t){t&&(Ja("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function es(e){ts(e),e.drafts_.forEach(rs),e.drafts_=null}function ts(e){e===Ya&&(Ya=e.parent_)}function ns(e){return Ya={drafts_:[],parent_:Ya,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rs(e){const t=e[Ca];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function is(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Ca].modified_&&(es(t),Ta(4)),Na(e)&&(e=os(t,e),t.parent_||ss(t,e)),t.patches_&&Ja("Patches").generateReplacementPatches_(n[Ca].base_,e,t.patches_,t.inversePatches_)):e=os(t,n,[]),es(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ea?e:void 0}function os(e,t,n){if(Ga(t))return t;const r=t[Ca];if(!r)return La(t,(i,o)=>as(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ss(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),La(i,(i,a)=>as(e,r,t,i,a,n,o)),ss(e,t,!1),n&&e.patches_&&Ja("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function as(e,t,n,r,i,o,a){if(Da(i)){const a=os(e,i,o&&t&&3!==t.type_&&!za(t.assigned_,r)?o.concat(r):void 0);if(Fa(n,r,a),!Da(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Na(i)&&!Ga(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;os(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||ss(e,i)}}function ss(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ha(t,n)}var ls={get(e,t){if(t===Ca)return e;const n=Wa(e);if(!za(n,t))return function(e,t,n){var r;const i=ds(t,n);return i?"value"in i?i.value:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Na(r)?r:r===us(e.base_,t)?(hs(e),e.copy_[t]=ps(r,e)):r},has:(e,t)=>t in Wa(e),ownKeys:e=>Reflect.ownKeys(Wa(e)),set(e,t,n){const r=ds(Wa(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=us(Wa(e),t),a=null==r?void 0:r[Ca];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||za(e.base_,t)))return!0;hs(e),fs(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==us(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,hs(e),fs(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Wa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ta(11)},getPrototypeOf:e=>Ia(e.base_),setPrototypeOf(){Ta(12)}},cs={};function us(e,t){const n=e[Ca];return(n?Wa(n):e)[t]}function ds(e,t){if(!(t in e))return;let n=Ia(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ia(n)}}function fs(e){e.modified_||(e.modified_=!0,e.parent_&&fs(e.parent_))}function hs(e){e.copy_||(e.copy_=qa(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function ps(e,t){const n=Ua(e)?Ja("MapSet").proxyMap_(e,t):Ka(e)?Ja("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Za(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=ls;n&&(i=[r],o=cs);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:Za()).drafts_.push(n),n}function gs(e){return Da(e)||Ta(10),ys(e)}function ys(e){if(!Na(e)||Ga(e))return e;const t=e[Ca];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=qa(e,t.scope_.immer_.useStrictShallowCopy_)}else n=qa(e,!0);return La(n,(e,t)=>{Fa(n,e,ys(t))}),t&&(t.finalized_=!1),n}La(ls,(e,t)=>{cs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),cs.deleteProperty=function(e,t){return cs.set.call(this,e,t,void 0)},cs.set=function(e,t,n){return ls.set.call(this,e[0],t,n,e[0])};var ms=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!=typeof t&&Ta(6),void 0!==n&&"function"!=typeof n&&Ta(7),Na(e)){const i=ns(this),o=ps(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?es(i):ts(i)}return Qa(i,n),is(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Ea&&(r=void 0),this.autoFreeze_&&Ha(r,!0),n){const t=[],i=[];Ja("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Ta(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;return[this.produce(e,t,(e,t)=>{n=e,r=t}),n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Na(e)||Ta(8),Da(e)&&(e=gs(e));const t=ns(this),n=ps(e,void 0);return n[Ca].isManual_=!0,ts(t),n}finishDraft(e,t){const n=e&&e[Ca];n&&n.isManual_||Ta(9);const{scope_:r}=n;return Qa(r,t),is(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ja("Patches").applyPatches_;return Da(e)?r(e,t):this.produce(e,e=>r(e,t))}},vs=ms.produce;function bs(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}ms.produceWithPatches.bind(ms),ms.setAutoFreeze.bind(ms),ms.setUseStrictShallowCopy.bind(ms),ms.applyPatches.bind(ms),ms.createDraft.bind(ms),ms.finishDraft.bind(ms);var xs=bs(),ws=bs,js="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Aa:Aa.apply(null,arguments)};function Os(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(yl(0));return f(f({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>ka(t)&&t.type===e,n}var Ss=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function _s(e){return Na(e)?vs(e,()=>{}):e}function Ps(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var As=e=>t=>{setTimeout(t,e)},ks=e=>function(t){const{autoBatch:n=!0}=null!=t?t:{};let r=new Ss(e);return n&&r.push(((e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:As(10):"callback"===e.type?e.queueNotification:As(e.timeout),c=()=>{a=!1,o&&(o=!1,s.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t.RTK_autoBatch),o=!i,o&&(a||(a=!0,l(c))),r.dispatch(e)}finally{i=!0}}})})("object"==typeof n?n:void 0)),r};function Es(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!=e?e:{};let o=new Ss;return t&&("boolean"==typeof t?o.push(xs):o.push(ws(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:a}=e||{};let s,l;if("function"==typeof n)s=n;else{if(!Sa(n))throw new Error(yl(1));s=Pa(n)}l="function"==typeof r?r(t):t();let c=Aa;i&&(c=js(f({trace:!1},"object"==typeof i&&i)));const u=function(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(xa(15))};const a={getState:i.getState,dispatch:(e,...t)=>o(e,...t)},s=e.map(e=>e(a));return o=Aa(...s)(i.dispatch),h(f({},i),{dispatch:o})}}(...l),d=ks(u);return _a(s,o,c(..."function"==typeof a?a(d):d()))}function Ms(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(yl(28));if(r in t)throw new Error(yl(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Cs=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Ts=Symbol.for("rtk-slice-createasyncthunk");function Is(e,t){return`${e}/${t}`}function Ds({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[Ts];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(yl(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return f({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(yl(12));if(n in a.sliceCaseReducersByType)throw new Error(yl(13));return a.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(a.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?Ms(e.extraReducers):[e.extraReducers],i=f(f({},t),a.sliceCaseReducersByType);return function(e,t){let n,[r,i,o]=Ms(t);if("function"==typeof e)n=()=>_s(e());else{const t=_s(e);n=()=>t}function a(e=n(),t){let a=[r[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===a.filter(e=>!!e).length&&(a=[o]),a.reduce((e,n)=>{if(n){if(Da(e)){const r=n(e,t);return void 0===r?e:r}if(Na(e))return vs(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return a.getInitialState=n,a}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}o.forEach(r=>{const o=i[r],a={reducerName:r,type:Is(t,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(yl(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?Os(e,a):Os(e))}(a,o,s):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(yl(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:c,options:u}=n,d=i(e,o,u);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:a||$s,pending:s||$s,rejected:l||$s,settled:c||$s})}(a,o,s,n)});const c=e=>e,u=new Map,d=new WeakMap;let g;function y(e,t){return g||(g=l()),g(e,t)}function m(){return g||(g=l()),g.getInitialState()}function v(t,n=!1){function r(e){let i=e[t];return void 0===i&&n&&(i=Ps(d,r,m)),i}function i(t=c){const r=Ps(u,n,()=>new WeakMap);return Ps(r,t,()=>{var r;const i={};for(const[o,a]of Object.entries(null!=(r=e.selectors)?r:{}))i[o]=Ns(a,t,()=>Ps(d,t,m),n);return i})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const b=h(f({name:t,reducer:y,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:m},v(r)),{injectInto(e,t={}){var n=t,{reducerPath:i}=n,o=p(n,["reducerPath"]);const a=null!=i?i:r;return e.inject({reducerPath:a,reducer:y},o),f(f({},b),v(a,!0))}});return b}}function Ns(e,t,n,r){function i(i,...o){let a=t(i);return void 0===a&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var Rs=Ds();function $s(){}var Ls="listener",Bs="completed",zs="cancelled",Fs=`task-${zs}`,Us=`task-${Bs}`,Ks=`${Ls}-${zs}`,Ws=`${Ls}-${Bs}`,qs=class{constructor(e){g(this,"name","TaskAbortError"),g(this,"message"),this.code=e,this.message=`task ${zs} (reason: ${e})`}},Hs=(e,t)=>{if("function"!=typeof e)throw new TypeError(yl(32))},Vs=()=>{},Gs=(e,t=Vs)=>(e.catch(t),e),Ys=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xs=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Js=e=>{if(e.aborted){const{reason:t}=e;throw new qs(t)}};function Zs(e,t){let n=Vs;return new Promise((r,i)=>{const o=()=>i(new qs(e.reason));e.aborted?o():(n=Ys(e,o),t.finally(()=>n()).then(r,i))}).finally(()=>{n=Vs})}var Qs=e=>t=>Gs(Zs(e,t).then(t=>(Js(e),t))),el=e=>{const t=Qs(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:tl}=Object,nl={},rl="listenerMiddleware",il=(e,t)=>(n,r)=>{Hs(n);const i=new AbortController;var o;o=i,Ys(e,()=>Xs(o,e.reason));const a=(s=()=>y(null,null,function*(){Js(e),Js(i.signal);const t=yield n({pause:Qs(i.signal),delay:el(i.signal),signal:i.signal});return Js(i.signal),t}),l=()=>Xs(i,Us),y(null,null,function*(){try{return yield Promise.resolve(),{status:"ok",value:yield s()}}catch(e){return{status:e instanceof qs?"cancelled":"rejected",error:e}}finally{null==l||l()}}));var s,l;return(null==r?void 0:r.autoJoin)&&t.push(a.catch(Vs)),{result:Qs(e)(a),cancel(){Xs(i,Fs)}}},ol=(e,t)=>(n,r)=>Gs(((n,r)=>y(null,null,function*(){Js(t);let i=()=>{};const o=[new Promise((t,r)=>{let o=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{o(),r()}})];null!=r&&o.push(new Promise(e=>setTimeout(e,r,null)));try{const e=yield Zs(t,Promise.race(o));return Js(t),e}finally{i()}}))(n,r)),al=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Os(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(yl(21));return Hs(o),{predicate:i,type:t,effect:o}},sl=tl(e=>{const{type:t,predicate:n,effect:r}=al(e);return{id:Cs(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(yl(22))}}},{withTypes:()=>sl}),ll=(e,t)=>{const{type:n,effect:r,predicate:i}=al(t);return Array.from(e.values()).find(e=>("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r)},cl=e=>{e.pending.forEach(e=>{Xs(e,Ks)})},ul=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},dl=tl(Os(`${rl}/add`),{withTypes:()=>dl}),fl=Os(`${rl}/removeAll`),hl=tl(Os(`${rl}/remove`),{withTypes:()=>hl}),pl=(...e)=>{},gl=(e={})=>{const t=new Map,{extra:n,onError:r=pl}=e;Hs(r);const i=e=>{var n;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),(null==t?void 0:t.cancelActive)&&cl(e)}))(null!=(n=ll(t,e))?n:sl(e))};tl(i,{withTypes:()=>i});const o=e=>{const n=ll(t,e);return n&&(n.unsubscribe(),e.cancelActive&&cl(n)),!!n};tl(o,{withTypes:()=>o});const a=(e,o,a,s)=>y(null,null,function*(){const l=new AbortController,c=ol(i,l.signal),u=[];try{e.pending.add(l),yield Promise.resolve(e.effect(o,tl({},a,{getOriginalState:s,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:el(l.signal),pause:Qs(l.signal),extra:n,signal:l.signal,fork:il(l.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==l&&(Xs(e,Ks),n.delete(e))})},cancel:()=>{Xs(l,Ks),e.pending.delete(l)},throwIfCancelled:()=>{Js(l.signal)}})))}catch(d){d instanceof qs||ul(r,d,{raisedBy:"effect"})}finally{yield Promise.all(u),Xs(l,Ws),e.pending.delete(l)}}),s=(e=>()=>{e.forEach(cl),e.clear()})(t);return{middleware:e=>n=>l=>{if(!ka(l))return n(l);if(dl.match(l))return i(l.payload);if(fl.match(l))return void s();if(hl.match(l))return o(l.payload);let c=e.getState();const u=()=>{if(c===nl)throw new Error(yl(23));return c};let d;try{if(d=n(l),t.size>0){const n=e.getState(),i=Array.from(t.values());for(const t of i){let i=!1;try{i=t.predicate(l,n,c)}catch(f){i=!1,ul(r,f,{raisedBy:"predicate"})}i&&a(t,l,e,u)}}}finally{c=nl}return d},startListening:i,stopListening:o,clearListeners:s}};function yl(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ml=Rs({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:vl,setLayout:bl,setChartSize:xl,setScale:wl}=ml.actions,jl=ml.reducer;function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(n),!0).forEach(function(t){_l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pl=Math.PI/180,Al=e=>180*e/Math.PI,kl=(e,t,n,r)=>({x:e+Math.cos(-Pl*r)*n,y:t+Math.sin(-Pl*r)*n}),El=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Ml=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=((e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt(u(n-i,2)+u(r-o,2))})({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:Al(l),angleInRadian:l}},Cl=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},Tl=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=Ml({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}})(t),d=o;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Sl(Sl({},t),{},{radius:i,angle:Cl(d,t)}):null};function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach(function(t){Nl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rl(e,t,n){return sn(e)||sn(t)?n:en(t)?Wt(e,t,n):"function"==typeof t?t(e):n}var $l=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Ll=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,o,a=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate));return i||a.push(t),o||a.push(n),a},Bl=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:f,axisType:h}=e;if(!a)return null;var p="scaleBand"===s&&a.bandwidth?a.bandwidth()/2:2,g="category"===i&&a.bandwidth?a.bandwidth()/p:0;return g="angleAxis"===h&&o&&o.length>=2?2*Xt(o[0]-o[1])*g:g,d||f?(d||f||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:a(n)+g,value:e,offset:g,index:t}}).filter(e=>!Jt(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:a(e)+g,value:e,index:t,offset:g})):a.ticks&&null!=u?a.ticks(u).map((e,t)=>({coordinate:a(e)+g,value:e,offset:g,index:t})):a.domain().map((e,t)=>({coordinate:a(e)+g,value:r?r[e]:e,index:t,offset:g}))},zl=1e-4,Fl={sign:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=Jt(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Ar(e,t)}},none:Ar,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Ar(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[a][1]||0,f=(d-(u[a-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=f*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,Ar(e,t)}},positive:e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=Jt(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},Ul=(e,t,n)=>{var r=Fl[n],i=function(){var e=An([]),t=kr,n=Ar,r=Er;function i(i){var o,a,s=Array.from(e.apply(this,arguments),Mr),l=s.length,c=-1;for(const e of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(e,s[o].key,c,i)]).data=e;for(o=0,a=zn(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:An(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:An(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?kr:"function"==typeof e?e:An(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Ar:e,i):n},i}().keys(t).value((e,t)=>+Rl(e,t,0)).order(kr).offset(r);return i(e)};function Kl(e){return null==e?void 0:String(e)}var Wl=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:a}=e;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=Rl(o,t.dataKey,t.scale.domain()[a]);return sn(s)?null:t.scale(s)-i/2+r},ql=(e,t,n)=>{var r;if(null!=e)return[(r=Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:a}=o,s=a.reduce((e,r)=>{var i,o,a=(i=r.slice(t,n+1),o=i.flat(2).filter(Qt),[Math.min(...o),Math.max(...o)]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},Hl=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Vl=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gl=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ya(t,e=>e.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Yl(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Dl(Dl({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Xl(e,t){return e?String(e):"string"==typeof t?t:void 0}var Jl=e=>e.layout.width,Zl=e=>e.layout.height,Ql=e=>e.layout.scale,ec=e=>e.layout.margin,tc=Ho(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),nc=Ho(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rc="data-recharts-item-index",ic="data-recharts-item-data-key";function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach(function(t){sc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc=Ho([Jl,Zl,ec,e=>e.brush.height,tc,nc,ma,e=>e.legend.size],(e,t,n,r,i,o,a,s)=>{var l=o.reduce((e,t)=>{var{orientation:n}=t;if(!t.mirror&&!t.hide){var r="number"==typeof t.width?t.width:60;return ac(ac({},e),{},{[n]:e[n]+r})}return e},{left:n.left||0,right:n.right||0}),c=i.reduce((e,t)=>{var{orientation:n}=t;return t.mirror||t.hide?e:ac(ac({},e),{},{[n]:Wt(e,"".concat(n))+t.height})},{top:n.top||0,bottom:n.bottom||0}),u=ac(ac({},c),l),d=u.bottom;u.bottom+=r,u=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===a)&&"center"!==o&&Qt(e[o]))return Dl(Dl({},e),{},{[o]:e[o]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===o)&&"middle"!==a&&Qt(e[a]))return Dl(Dl({},e),{},{[a]:e[a]+(i||0)})}return e})(u,a,s);var f=e-u.left-u.right,h=t-u.top-u.bottom;return ac(ac({brushBottom:d},u),{},{width:Math.max(f,0),height:Math.max(h,0)})}),cc=Ho(lc,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uc=Ho(Jl,Zl,(e,t)=>({x:0,y:0,width:e,height:t})),dc=O.createContext(null),fc=()=>null!=O.useContext(dc),hc=e=>e.brush,pc=Ho([hc,lc,ec],(e,t,n)=>({height:e.height,x:Qt(e.x)?e.x:t.left,y:Qt(e.y)?e.y:t.top+t.height+t.brushBottom-((null==n?void 0:n.bottom)||0),width:Qt(e.width)?e.width:t.width})),gc=()=>{var e,t=fc(),n=Lo(cc),r=Lo(pc),i=null===(e=Lo(hc))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},yc={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mc=()=>{var e;return null!==(e=Lo(lc))&&void 0!==e?e:yc},vc=()=>Lo(Jl),bc=()=>Lo(Zl),xc={top:0,right:0,bottom:0,left:0},wc=e=>e.layout.layoutType,jc=()=>Lo(wc),Oc=Rs({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=gs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Sc,setLegendSettings:_c,addLegendPayload:Pc,removeLegendPayload:Ac}=Oc.actions,kc=Oc.reducer,Ec=["contextPayload"];function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mc.apply(null,arguments)}function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach(function(t){Ic(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ic(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dc(e){return e.value}function Nc(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ec),r=wo(t,e.payloadUniqBy,Dc),i=Tc(Tc({},n),{},{payload:r});return O.isValidElement(e.content)?O.cloneElement(e.content,i):"function"==typeof e.content?O.createElement(e.content,i):O.createElement(Kr,i)}function Rc(e){var t=Do();return O.useEffect(()=>{t(_c(e))},[t,e]),null}function $c(e){var t=Do();return O.useEffect(()=>(t(Sc(e)),()=>{t(Sc({width:0,height:0}))}),[t,e]),null}function Lc(e){var t,n=Lo(va),r=O.useContext(Pn),i=null!==(t=Lo(e=>e.layout.margin))&&void 0!==t?t:xc,{width:o,height:a,wrapperStyle:s,portal:l}=e,[c,u]=ba([n]),d=vc(),f=bc(),h=d-(i.left||0)-(i.right||0),p=Bc.getWidthOrHeight(e.layout,a,o,h),g=l?s:Tc(Tc({position:"absolute",width:(null==p?void 0:p.width)||o||"auto",height:(null==p?void 0:p.height)||a||"auto"},function(e,t,n,r,i,o){var a,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(a="center"===c&&"vertical"===l?{left:((r||0)-o.width)/2}:"right"===c?{right:n&&n.right||0}:{left:n&&n.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-o.height)/2}:"bottom"===u?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Tc(Tc({},a),s)}(s,e,i,d,f,c)),s),y=null!=l?l:r;if(null==y)return null;var m=O.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},O.createElement(Rc,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),O.createElement($c,{width:c.width,height:c.height}),O.createElement(Nc,Mc({},e,p,{margin:i,chartWidth:d,chartHeight:f,contextPayload:n})));return S.createPortal(m,y)}class Bc extends O.PureComponent{static getWidthOrHeight(e,t,n,r){return"vertical"===e&&Qt(t)?{height:t}:"horizontal"===e?{width:n||r}:null}render(){return O.createElement(Lc,this.props)}}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zc.apply(null,arguments)}function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach(function(t){Kc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wc(e){return Array.isArray(e)&&en(e[0])&&en(e[1])?e.join(" ~ "):e}Ic(Bc,"displayName","Legend"),Ic(Bc,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});var qc=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:f=!1}=e,h=Uc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),p=Uc({margin:0},i),g=!sn(u),y=g?u:"",m=_t("recharts-default-tooltip",l),v=_t("recharts-tooltip-label",c);g&&d&&null!=o&&(y=d(u,o));var b=f?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",zc({className:m,style:h},b),O.createElement("p",{className:v,style:p},O.isValidElement(y)?y:"".concat(y)),(()=>{if(o&&o.length){var e=(s?ya(o,s):o).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||a||Wc,{value:s,name:l}=e,c=s,u=l;if(i){var d=i(s,l,e,n,o);if(Array.isArray(d))[c,u]=d;else{if(null==d)return null;c=d}}var f=Uc({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},en(u)?O.createElement("span",{className:"recharts-tooltip-item-name"},u):null,en(u)?O.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,O.createElement("span",{className:"recharts-tooltip-item-value"},c),O.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},Hc="recharts-tooltip-wrapper",Vc={visibility:"hidden"};function Gc(e){var{coordinate:t,translateX:n,translateY:r}=e;return _t(Hc,{["".concat(Hc,"-right")]:Qt(n)&&t&&Qt(t.x)&&n>=t.x,["".concat(Hc,"-left")]:Qt(n)&&t&&Qt(t.x)&&n<t.x,["".concat(Hc,"-bottom")]:Qt(r)&&t&&Qt(t.y)&&r>=t.y,["".concat(Hc,"-top")]:Qt(r)&&t&&Qt(t.y)&&r<t.y})}function Yc(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(o&&Qt(o[r]))return o[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return a[r]?u:d;var f=l[r];return null==f?0:a[r]?u<f?Math.max(d,f):Math.max(u,f):null==c?0:d+s>f+c?Math.max(u,f):Math.max(d,f)}function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(n),!0).forEach(function(t){Zc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Qc extends O.PureComponent{constructor(){super(...arguments),Zc(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zc(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:i,coordinate:o,hasPayload:a,isAnimationActive:s,offset:l,position:c,reverseDirection:u,useTranslate3d:d,viewBox:f,wrapperStyle:h,lastBoundingBox:p,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:m,cssProperties:v}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:o,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&o?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=Yc({allowEscapeViewBox:i,coordinate:o,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=Yc({allowEscapeViewBox:i,coordinate:o,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):Vc,{cssProperties:t,cssClasses:Gc({translateX:n,translateY:r,coordinate:o})}}({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:l,position:c,reverseDirection:u,tooltipBox:{height:p.height,width:p.width},useTranslate3d:d,viewBox:f}),b=y?{}:Jc(Jc({transition:s&&e?"transform ".concat(n,"ms ").concat(r):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),x=Jc(Jc({},b),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},h);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:m,style:x,ref:g},i)}}var eu=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),tu=()=>Lo(e=>e.rootProps.accessibilityLayer);function nu(e){return Number.isFinite(e)}function ru(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(null,arguments)}function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach(function(t){su(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function su(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lu={curveBasisClosed:function(e){return new pr(e)},curveBasisOpen:function(e){return new gr(e)},curveBasis:function(e){return new hr(e)},curveBumpX:function(e){return new Vn(e,!0)},curveBumpY:function(e){return new Vn(e,!1)},curveLinearClosed:function(e){return new yr(e)},curveLinear:Un,curveMonotoneX:function(e){return new wr(e)},curveMonotoneY:function(e){return new jr(e)},curveNatural:function(e){return new Sr(e)},curveStep:function(e){return new Pr(e,.5)},curveStepAfter:function(e){return new Pr(e,1)},curveStepBefore:function(e){return new Pr(e,0)}},cu=e=>nu(e.x)&&nu(e.y),uu=e=>e.x,du=e=>e.y,fu=e=>{var t,{type:n="linear",points:r=[],baseLine:i,layout:o,connectNulls:a=!1}=e,s=((e,t)=>{if("function"==typeof e)return e;var n="curve".concat(ln(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?lu[n]||Un:lu["".concat(n).concat("vertical"===t?"Y":"X")]})(n,o),l=a?r.filter(cu):r;if(Array.isArray(i)){var c=a?i.filter(e=>cu(e)):i,u=l.map((e,t)=>au(au({},e),{},{base:c[t]}));return(t="vertical"===o?Hn().y(du).x1(uu).x0(e=>e.base.x):Hn().x(uu).y1(du).y0(e=>e.base.y)).defined(cu).curve(s),t(u)}return(t="vertical"===o&&Qt(i)?Hn().y(du).x1(uu).x0(i):Qt(i)?Hn().x(uu).y1(du).y0(i):qn().x(uu).y(du)).defined(cu).curve(s),t(l)},hu=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if(!(n&&n.length||r))return null;var o=n&&n.length?fu(e):r;return O.createElement("path",iu({},bn(e,!1),(e=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var t=e;if(O.isValidElement(e)&&(t=e.props),"object"!=typeof t&&"function"!=typeof t)return null;var n={};return Object.keys(t).forEach(e=>{fn.includes(e)&&(n[e]=n=>t[e](t,n))}),n})(e),{className:_t("recharts-curve",t),d:null===o?void 0:o,ref:i}))},pu=["x","y","top","left","width","height","className"];function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gu.apply(null,arguments)}function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vu=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),bu=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=e,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach(function(t){mu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:i,width:o,height:a},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,pu));return Qt(t)&&Qt(n)&&Qt(o)&&Qt(a)&&Qt(r)&&Qt(i)?O.createElement("path",gu({},bn(l,!0),{className:_t("recharts-cross",s),d:vu(t,n,o,a,r,i)})):null};function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ju(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach(function(t){wu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var Ou,Su,_u={},Pu={},Au={};function ku(){return Ou||(Ou=1,e=Au,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}),Au;var e}function Eu(){return Su||(Su=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ku(),n=Ii(),r=Ri(),i=Bi(),o=Pi();function a(e,t,n,r,i,o,a){const l=a(e,t,n,r,i,o);if(void 0!==l)return l;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return s(e,t,o,a)}return s(e,t,o,a)}function s(e,l,c,u){if(Object.is(e,l))return!0;let d=r.getTag(e),f=r.getTag(l);if(d===i.argumentsTag&&(d=i.objectTag),f===i.argumentsTag&&(f=i.objectTag),d!==f)return!1;switch(d){case i.stringTag:return e.toString()===l.toString();case i.numberTag:{const t=e.valueOf(),n=l.valueOf();return o.eq(t,n)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(e.valueOf(),l.valueOf());case i.regexpTag:return e.source===l.source&&e.flags===l.flags;case i.functionTag:return e===l}const h=(c=null!=c?c:new Map).get(e),p=c.get(l);if(null!=h&&null!=p)return h===l;c.set(e,l),c.set(l,e);try{switch(d){case i.mapTag:if(e.size!==l.size)return!1;for(const[t,n]of e.entries())if(!l.has(t)||!a(n,l.get(t),t,e,l,c,u))return!1;return!0;case i.setTag:{if(e.size!==l.size)return!1;const t=Array.from(e.values()),n=Array.from(l.values());for(let r=0;r<t.length;r++){const i=t[r],o=n.findIndex(t=>a(i,t,void 0,e,l,c,u));if(-1===o)return!1;n.splice(o,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:if("undefined"!=typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(l))return!1;if(e.length!==l.length)return!1;for(let t=0;t<e.length;t++)if(!a(e[t],l[t],t,e,l,c,u))return!1;return!0;case i.arrayBufferTag:return e.byteLength===l.byteLength&&s(new Uint8Array(e),new Uint8Array(l),c,u);case i.dataViewTag:return e.byteLength===l.byteLength&&e.byteOffset===l.byteOffset&&s(new Uint8Array(e),new Uint8Array(l),c,u);case i.errorTag:return e.name===l.name&&e.message===l.message;case i.objectTag:{if(!(s(e.constructor,l.constructor,c,u)||t.isPlainObject(e)&&t.isPlainObject(l)))return!1;const r=[...Object.keys(e),...n.getSymbols(e)],i=[...Object.keys(l),...n.getSymbols(l)];if(r.length!==i.length)return!1;for(let t=0;t<r.length;t++){const n=r[t],i=e[n];if(!Object.hasOwn(l,n))return!1;if(!a(i,l[n],n,e,l,c,u))return!1}return!0}default:return!1}}finally{c.delete(e),c.delete(l)}}e.isEqualWith=function(e,t,n){return a(e,t,void 0,void 0,void 0,void 0,n)}}(Pu)),Pu}var Mu,Cu,Tu,Iu,Du={};function Nu(){return Mu||(Mu=1,e=Du,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.noop=function(){}),Du;var e}function Ru(){return Iu?Tu:(Iu=1,Tu=(Cu||(Cu=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eu(),n=Nu();e.isEqual=function(e,r){return t.isEqualWith(e,r,n.noop)}}(_u)),_u).isEqual)}const $u=j(Ru());var Lu=1e-4,Bu=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],zu=(e,t)=>e.map((e,n)=>e*u(t,n)).reduce((e,t)=>e+t),Fu=(e,t)=>n=>{var r=Bu(e,t);return zu(r,n)},Uu=function(){for(var e,t,n,r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];if(1===o.length)switch(o[0]){case"linear":[e,n,t,r]=[0,0,1,1];break;case"ease":[e,n,t,r]=[.25,.1,.25,1];break;case"ease-in":[e,n,t,r]=[.42,0,1,1];break;case"ease-out":[e,n,t,r]=[.42,0,.58,1];break;case"ease-in-out":[e,n,t,r]=[0,0,.58,1];break;default:var s=o[0].split("(");"cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length&&([e,n,t,r]=s[1].split(")")[0].split(",").map(e=>parseFloat(e)))}else 4===o.length&&([e,n,t,r]=o);var l,c,u=Fu(e,t),d=Fu(n,r),f=(l=e,c=t,e=>{var t=[...Bu(l,c).map((e,t)=>e*t).slice(1),0];return zu(t,e)}),h=e=>e>1?1:e<0?0:e,p=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=u(n)-t,o=f(n);if(Math.abs(i-t)<Lu||o<Lu)return d(n);n=h(n-i/o)}return d(n)};return p.isStepper=!1,p},Ku=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Uu(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,o)=>{var a=o+(-(e-i)*t-o*n)*r/1e3,s=o*r/1e3+e;return Math.abs(s-i)<Lu&&Math.abs(a)<Lu?[i,0]:[s,a]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return Uu(e)}return"function"==typeof e?e:null};function Wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(n),!0).forEach(function(t){Hu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vu=(e,t)=>Object.keys(t).reduce((n,r)=>qu(qu({},n),{},{[r]:e(r,t[r])}),{});function Gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gu(Object(n),!0).forEach(function(t){Xu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ju=(e,t,n)=>e+(t-e)*n,Zu=e=>{var{from:t,to:n}=e;return t!==n},Qu=(e,t,n)=>{var r=Vu((t,n)=>{if(Zu(n)){var[r,i]=e(n.from,n.to,n.velocity);return Yu(Yu({},n),{},{from:r,velocity:i})}return n},t);return n<1?Vu((e,t)=>Zu(t)?Yu(Yu({},t),{},{velocity:Ju(t.velocity,r[e].velocity,n),from:Ju(t.from,r[e].from,n)}):t,t):Qu(e,r,n-1)};function ed(e,t,n,r,i,o){var a,s=r.reduce((n,r)=>Yu(Yu({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,c=r=>{a||(a=r);var u=(r-a)/n.dt;s=Qu(n,s,u),i(Yu(Yu(Yu({},e),t),Vu((e,t)=>t.from,s))),a=r,Object.values(s).filter(Zu).length&&(l=o.setTimeout(c))};return()=>(l=o.setTimeout(c),()=>{l()})}const td=(e,t,n,r,i,o)=>{var a,s,l=(a=e,s=t,[Object.keys(a),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return!0===n.isStepper?ed(e,t,n,l,i,o):function(e,t,n,r,i,o,a){var s,l=null,c=i.reduce((n,r)=>Yu(Yu({},n),{},{[r]:[e[r],t[r]]}),{}),u=i=>{s||(s=i);var d=(i-s)/r,f=Vu((e,t)=>Ju(...t,n(d)),c);if(o(Yu(Yu(Yu({},e),t),f)),d<1)l=a.setTimeout(u);else{var h=Vu((e,t)=>Ju(...t,n(1)),c);o(Yu(Yu(Yu({},e),t),h))}};return()=>(l=a.setTimeout(u),()=>{l()})}(e,t,n,r,l,i,o)};class nd{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=o=>{o-n>=t?e(o):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{cancelAnimationFrame(r)}}}var rd=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(null,arguments)}function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?od(Object(n),!0).forEach(function(t){sd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ld(){return e=new nd,t=()=>null,n=!1,r=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,[s,...l]=a;return"number"==typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"object"==typeof o&&t(o),"function"==typeof o&&o()}},{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,n,r,i}class cd extends O.PureComponent{constructor(e,t){super(e,t),sd(this,"mounted",!1),sd(this,"manager",null),sd(this,"stopJSAnimation",null),sd(this,"unSubscribe",null);var{isActive:n,attributeName:r,from:i,to:o,children:a,duration:s,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||s<=0)return this.state={style:{}},void("function"==typeof a&&(this.state={style:o}));if(i){if("function"==typeof a)return void(this.state={style:i});this.state={style:r?{[r]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:t}=this.props;this.mounted=!0,e&&t&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:t,canBegin:n,attributeName:r,shouldReAnimate:i,to:o,from:a}=this.props,{style:s}=this.state;if(n)if(t){if(!($u(e.to,o)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=l||i?a:e.to;if(this.state&&s){var u={style:r?{[r]:c}:c};(r&&s[r]!==c||!r&&s!==c)&&this.setState(u)}this.runAnimation(ad(ad({},this.props),{},{from:c,begin:0}))}}else{var d={style:r?{[r]:o}:o};this.state&&s&&(r&&s[r]!==o||!r&&s!==o)&&this.setState(d)}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:t,to:n,duration:r,easing:i,begin:o,onAnimationEnd:a,onAnimationStart:s}=e,l=td(t,n,Ku(i),r,this.changeStyle,this.manager.getTimeoutController());this.manager.start([s,o,()=>{this.stopJSAnimation=l()},r,a])}runAnimation(e){var{begin:t,duration:n,attributeName:r,to:i,easing:o,onAnimationStart:a,onAnimationEnd:s,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof l&&"spring"!==o){var c=r?{[r]:i}:i,u=((e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","))(Object.keys(c),n,o);this.manager.start([a,t,ad(ad({},c),{},{transition:u}),n,s])}else this.runJSAnimation(e)}render(){var e=this.props,{children:t,begin:n,duration:r,attributeName:i,easing:o,isActive:a,from:s,to:l,canBegin:c,onAnimationEnd:u,shouldReAnimate:d,onAnimationReStart:f,animationManager:h}=e,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,rd),g=O.Children.count(t),y=this.state.style;if("function"==typeof t)return t(y);if(!a||0===g||r<=0)return t;var m=e=>{var{style:t={},className:n}=e.props;return O.cloneElement(e,ad(ad({},p),{},{style:ad(ad({},t),y),className:n}))};return 1===g?m(O.Children.only(t)):O.createElement("div",null,O.Children.map(t,e=>m(e)))}}sd(cd,"displayName","Animate"),sd(cd,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var ud=O.createContext(null);function dd(e){var t,n,r=O.useContext(ud);return O.createElement(cd,id({},e,{animationManager:null!==(t=null!==(n=e.animationManager)&&void 0!==n?n:r)&&void 0!==t?t:ld()}))}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fd.apply(null,arguments)}var hd=(e,t,n,r,i)=>{var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>a?a:i[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),o+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),o+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),o+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var f=Math.min(a,i);o="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+n-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*f,"\n            L ").concat(e+n,",").concat(t+r-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-l*f,",").concat(t+r,"\n            L ").concat(e+l*f,",").concat(t+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*f," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},pd={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gd=e=>{var t=ju(e,pd),n=O.useRef(null),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:a,width:s,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:g}=t;if(o!==+o||a!==+a||s!==+s||l!==+l||0===s||0===l)return null;var y=_t("recharts-rectangle",u);return g?O.createElement(dd,{canBegin:r>0,from:{width:s,height:l,x:o,y:a},to:{width:s,height:l,x:o,y:a},duration:f,animationEasing:d,isActive:g},e=>{var{width:i,height:o,x:a,y:s}=e;return O.createElement(dd,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,isActive:p,easing:d},O.createElement("path",fd({},bn(t,!0),{className:y,d:hd(a,s,i,o,c),ref:n})))}):O.createElement("path",fd({},bn(t,!0),{className:y,d:hd(o,a,s,l,c)}))};function yd(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e;return{points:[kl(t,n,r,i),kl(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(null,arguments)}var vd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,c=s*(a?1:-1)+r,u=Math.asin(s/c)/Pl,d=l?i:i+o*u,f=l?i-o*u:i;return{center:kl(t,n,c,d),circleTangency:kl(t,n,r,d),lineTangency:kl(t,n,c*Math.cos(u*Pl),f),theta:u}},bd=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=((e,t)=>Xt(t-e)*Math.min(Math.abs(t-e),359.999))(o,a),l=o+s,c=kl(t,n,i,o),u=kl(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(s)>180),",").concat(+(o>l),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var f=kl(t,n,r,o),h=kl(t,n,r,l);d+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(s)>180),",").concat(+(o<=l),",\n            ").concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},xd={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wd=e=>{var t=ju(e,xd),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(o<i||c===u)return null;var f,h=_t("recharts-sector",d),p=o-i,g=rn(a,p,0,!0);return f=g>0&&Math.abs(c-u)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=Xt(c-l),{circleTangency:d,lineTangency:f,theta:h}=vd({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:y}=vd({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),m=s?Math.abs(l-c):Math.abs(l-c)-h-y;if(m<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):bd({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var v="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(m>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var{circleTangency:b,lineTangency:x,theta:w}=vd({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:j,lineTangency:O,theta:S}=vd({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),_=s?Math.abs(l-c):Math.abs(l-c)-w-S;if(_<0&&0===o)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+="L".concat(O.x,",").concat(O.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(_>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"Z")}else v+="L".concat(t,",").concat(n,"Z");return v})({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):bd({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u}),O.createElement("path",md({},bn(t,!0),{className:h,d:f}))};function jd(e,t,n){var r,i,o,a;if("horizontal"===e)o=r=t.x,i=n.top,a=n.top+n.height;else if("vertical"===e)a=i=t.y,r=n.left,o=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return yd(t);var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,f=kl(s,l,c,d),h=kl(s,l,u,d);r=f.x,i=f.y,o=h.x,a=h.y}return[{x:r,y:i},{x:o,y:a}]}var Od,Sd,_d,Pd,Ad,kd={},Ed={},Md={};function Cd(){return Od||(Od=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ra();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(Md)),Md}function Td(){return Sd||(Sd=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cd();e.toFinite=function(e){return e?(e=t.toNumber(e))===1/0||e===-1/0?(e<0?-1:1)*Number.MAX_VALUE:e==e?e:0:0===e?e:0}}(Ed)),Ed}function Id(){return Ad?Pd:(Ad=1,Pd=(_d||(_d=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pa(),n=Td();e.range=function(e,r,i){i&&"number"!=typeof i&&t.isIterateeCall(e,r,i)&&(r=i=void 0),e=n.toFinite(e),void 0===r?(r=e,e=0):r=n.toFinite(r),i=void 0===i?e<r?1:-1:n.toFinite(i);const o=Math.max(Math.ceil((r-e)/(i||1)),0),a=new Array(o);for(let t=0;t<o;t++)a[t]=e,e+=i;return a}}(kd)),kd).range)}const Dd=j(Id());function Nd(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rd(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $d(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=Nd,n=(t,n)=>Nd(e(t),n),r=(t,n)=>e(t)-n):(t=e===Nd||e===Rd?e:Ld,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function Ld(){return 0}function Bd(e){return null===e?NaN:+e}const zd=$d(Nd).right;$d(Bd).center;class Fd extends Map{constructor(e,t=Kd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Ud(this,e))}has(e){return super.has(Ud(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}(this,e))}}function Ud({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Kd(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Wd(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const qd=Math.sqrt(50),Hd=Math.sqrt(10),Vd=Math.sqrt(2);function Gd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=qd?10:o>=Hd?5:o>=Vd?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Gd(e,t,2*n):[s,l,c]}function Yd(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?Gd(t,e,n):Gd(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function Xd(e,t,n){return Gd(e=+e,t=+t,n=+n)[2]}function Jd(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?Xd(t,e,n):Xd(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Zd(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function Qd(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function ef(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?Wd:function(e=Nd){if(e===Nd)return Wd;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);ef(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(tf(e,n,t),i(e[r],o)>0&&tf(e,n,r);a<s;){for(tf(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?tf(e,n,s):(++s,tf(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function tf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nf(e,t,n=Bd){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function rf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function of(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const af=Symbol("implicit");function sf(){var e=new Fd,t=[],n=[],r=af;function i(i){let o=e.get(i);if(void 0===o){if(r!==af)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Fd;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return sf(t,n).unknown(r)},rf.apply(i,arguments),i}function lf(){var e,t,n=sf().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<o,f=d?a:o,h=d?o:a;e=(h-f)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),f+=(h-f-e*(n-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return f+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return lf(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},rf.apply(d(),arguments)}function cf(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cf(t())},e}function uf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function df(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ff(){}var hf=.7,pf=1/hf,gf="\\s*([+-]?\\d+)\\s*",yf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vf=/^#([0-9a-f]{3,8})$/,bf=new RegExp(`^rgb\\(${gf},${gf},${gf}\\)$`),xf=new RegExp(`^rgb\\(${mf},${mf},${mf}\\)$`),wf=new RegExp(`^rgba\\(${gf},${gf},${gf},${yf}\\)$`),jf=new RegExp(`^rgba\\(${mf},${mf},${mf},${yf}\\)$`),Of=new RegExp(`^hsl\\(${yf},${mf},${mf}\\)$`),Sf=new RegExp(`^hsla\\(${yf},${mf},${mf},${yf}\\)$`),_f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pf(){return this.rgb().formatHex()}function Af(){return this.rgb().formatRgb()}function kf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vf.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Ef(t):3===n?new Tf(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Mf(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Mf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=bf.exec(e))?new Tf(t[1],t[2],t[3],1):(t=xf.exec(e))?new Tf(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=wf.exec(e))?Mf(t[1],t[2],t[3],t[4]):(t=jf.exec(e))?Mf(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Of.exec(e))?Lf(t[1],t[2]/100,t[3]/100,1):(t=Sf.exec(e))?Lf(t[1],t[2]/100,t[3]/100,t[4]):_f.hasOwnProperty(e)?Ef(_f[e]):"transparent"===e?new Tf(NaN,NaN,NaN,0):null}function Ef(e){return new Tf(e>>16&255,e>>8&255,255&e,1)}function Mf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Tf(e,t,n,r)}function Cf(e,t,n,r){return 1===arguments.length?((i=e)instanceof ff||(i=kf(i)),i?new Tf((i=i.rgb()).r,i.g,i.b,i.opacity):new Tf):new Tf(e,t,n,null==r?1:r);var i}function Tf(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function If(){return`#${$f(this.r)}${$f(this.g)}${$f(this.b)}`}function Df(){const e=Nf(this.opacity);return`${1===e?"rgb(":"rgba("}${Rf(this.r)}, ${Rf(this.g)}, ${Rf(this.b)}${1===e?")":`, ${e})`}`}function Nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $f(e){return((e=Rf(e))<16?"0":"")+e.toString(16)}function Lf(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zf(e,t,n,r)}function Bf(e){if(e instanceof zf)return new zf(e.h,e.s,e.l,e.opacity);if(e instanceof ff||(e=kf(e)),!e)return new zf;if(e instanceof zf)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new zf(a,s,l,e.opacity)}function zf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ff(e){return(e=(e||0)%360)<0?e+360:e}function Uf(e){return Math.max(0,Math.min(1,e||0))}function Kf(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}uf(ff,kf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pf,formatHex:Pf,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Bf(this).formatHsl()},formatRgb:Af,toString:Af}),uf(Tf,Cf,df(ff,{brighter(e){return e=null==e?pf:Math.pow(pf,e),new Tf(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?hf:Math.pow(hf,e),new Tf(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tf(Rf(this.r),Rf(this.g),Rf(this.b),Nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:If,formatHex:If,formatHex8:function(){return`#${$f(this.r)}${$f(this.g)}${$f(this.b)}${$f(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Df,toString:Df})),uf(zf,function(e,t,n,r){return 1===arguments.length?Bf(e):new zf(e,t,n,null==r?1:r)},df(ff,{brighter(e){return e=null==e?pf:Math.pow(pf,e),new zf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?hf:Math.pow(hf,e),new zf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Tf(Kf(e>=240?e-240:e+120,i,r),Kf(e,i,r),Kf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new zf(Ff(this.h),Uf(this.s),Uf(this.l),Nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nf(this.opacity);return`${1===e?"hsl(":"hsla("}${Ff(this.h)}, ${100*Uf(this.s)}%, ${100*Uf(this.l)}%${1===e?")":`, ${e})`}`}}));const Wf=e=>()=>e;function qf(e){return 1===(e=+e)?Hf:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Wf(isNaN(t)?n:t)}}function Hf(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Wf(isNaN(e)?t:e)}const Vf=function e(t){var n=qf(t);function r(e,t){var r=n((e=Cf(e)).r,(t=Cf(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Hf(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Gf(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Yf(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=nh(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Xf(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zf(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=nh(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Qf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eh=new RegExp(Qf.source,"g");function th(e,t){var n,r,i,o=Qf.lastIndex=eh.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Qf.exec(e))&&(r=eh.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Jf(n,r)})),o=eh.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function nh(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Wf(t):("number"===i?Jf:"string"===i?(n=kf(t))?(t=n,Vf):th:t instanceof kf?Vf:t instanceof Date?Xf:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Yf:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Zf:Jf:Gf))(e,t)}function rh(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ih(e){return+e}var oh=[0,1];function ah(e){return e}function sh(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function lh(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=sh(i,r),o=n(a,o)):(r=sh(r,i),o=n(o,a)),function(e){return o(r(e))}}function ch(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=sh(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=zd(e,t,1,r)-1;return o[n](i[n](t))}}function uh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dh(){var e,t,n,r,i,o,a=oh,s=oh,l=nh,c=ah;function u(){var e,t,n,l=Math.min(a.length,s.length);return c!==ah&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?ch:lh,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((o||(o=r(s,a.map(e),Jf)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,ih),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=rh,u()},d.clamp=function(e){return arguments.length?(c=!!e||ah,u()):c!==ah},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function fh(){return dh()(ah,ah)}function hh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ph(e){return(e=hh(Math.abs(e)))?e[1]:NaN}var gh,yh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mh(e){if(!(t=yh.exec(e)))throw new Error("invalid format: "+e);var t;return new vh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function vh(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function bh(e,t){var n=hh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}mh.prototype=vh.prototype,vh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const xh={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bh(100*e,t),r:bh,s:function(e,t){var n=hh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(gh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+hh(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wh(e){return e}var jh,Oh,Sh,_h=Array.prototype.map,Ph=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ah(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?wh:(t=_h.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?wh:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(_h.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=mh(e)).fill,n=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,g=e.comma,y=e.precision,m=e.trim,v=e.type;"n"===v?(g=!0,v="g"):xh[v]||(void 0===y&&(y=12),m=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===f?o:/[%p]/.test(v)?l:"",w=xh[v],j=/[defgprs%]/.test(v);function O(e){var i,o,l,f=b,O=x;if("c"===v)O=w(e)+O,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),y),m&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==d&&(S=!1),f=(S?"("===d?d:c:"-"===d||"("===d?"":d)+f,O=("s"===v?Ph[8+gh/3]:"")+O+(S&&"("===d?")":""),j)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){O=(46===l?a+e.slice(i+1):e.slice(i))+O,e=e.slice(0,i);break}}g&&!h&&(e=r(e,1/0));var _=f.length+e.length+O.length,P=_<p?new Array(p-_+1).join(t):"";switch(g&&h&&(e=r(P+e,P.length?p-O.length:1/0),P=""),n){case"<":e=f+e+O+P;break;case"=":e=f+P+e+O;break;case"^":e=P.slice(0,_=P.length>>1)+f+e+O+P.slice(_);break;default:e=P+f+e+O}return s(e)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),O.toString=function(){return e+""},O}return{format:d,formatPrefix:function(e,t){var n=d(((e=mh(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ph(t)/3))),i=Math.pow(10,-r),o=Ph[8+r/3];return function(e){return n(i*e)+o}}}}function kh(e,t,n,r){var i,o=Jd(e,t,n);switch((r=mh(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ph(t)/3)))-ph(Math.abs(e)))}(o,a))||(r.precision=i),Sh(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ph(t)-ph(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-ph(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Oh(r)}function Eh(e){var t=e.domain;return e.ticks=function(e){var n=t();return Yd(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return kh(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Xd(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function Mh(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function Ch(e){return Math.log(e)}function Th(e){return Math.exp(e)}function Ih(e){return-Math.log(-e)}function Dh(e){return-Math.exp(-e)}function Nh(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Rh(e){return(t,n)=>-e(-t,n)}function $h(e){const t=e(Ch,Th),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?Nh:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=Rh(r),i=Rh(i),e(Ih,Dh)):e(Ch,Th),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),f=r(s);const h=null==e?10:+e;let p=[];if(!(o%1)&&f-d<h){if(d=Math.floor(d),f=Math.ceil(f),a>0){for(;d<=f;++d)for(c=1;c<o;++c)if(u=d<0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}}else for(;d<=f;++d)for(c=o-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<a)){if(u>s)break;p.push(u)}2*p.length<h&&(p=Yd(a,s,h))}else p=Yd(d,f,Math.min(f-d,h)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=mh(n)).precision||(n.trim=!0),n=Oh(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(Mh(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function Lh(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Bh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zh(e){var t=1,n=e(Lh(t),Bh(t));return n.constant=function(n){return arguments.length?e(Lh(t=+n),Bh(t)):t},Eh(n)}function Fh(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uh(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Kh(e){return e<0?-e*e:e*e}function Wh(e){var t=e(ah,ah),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(ah,ah):.5===n?e(Uh,Kh):e(Fh(n),Fh(1/n)):n},Eh(t)}function qh(){var e=Wh(dh());return e.copy=function(){return uh(e,qh()).exponent(e.exponent())},rf.apply(e,arguments),e}function Hh(e){return Math.sign(e)*e*e}jh=Ah({thousands:",",grouping:[3],currency:["$",""]}),Oh=jh.format,Sh=jh.formatPrefix;const Vh=new Date,Gh=new Date;function Yh(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>Yh(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Vh.setTime(+t),Gh.setTime(+r),e(Vh),e(Gh),Math.floor(n(Vh,Gh))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Xh=Yh(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xh.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Yh(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Xh:null),Xh.range;const Jh=1e3,Zh=6e4,Qh=36e5,ep=864e5,tp=6048e5,np=2592e6,rp=31536e6,ip=Yh(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jh)},(e,t)=>(t-e)/Jh,e=>e.getUTCSeconds());ip.range;const op=Yh(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jh)},(e,t)=>{e.setTime(+e+t*Zh)},(e,t)=>(t-e)/Zh,e=>e.getMinutes());op.range;const ap=Yh(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zh)},(e,t)=>(t-e)/Zh,e=>e.getUTCMinutes());ap.range;const sp=Yh(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jh-e.getMinutes()*Zh)},(e,t)=>{e.setTime(+e+t*Qh)},(e,t)=>(t-e)/Qh,e=>e.getHours());sp.range;const lp=Yh(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qh)},(e,t)=>(t-e)/Qh,e=>e.getUTCHours());lp.range;const cp=Yh(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zh)/ep,e=>e.getDate()-1);cp.range;const up=Yh(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ep,e=>e.getUTCDate()-1);up.range;const dp=Yh(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ep,e=>Math.floor(e/ep));function fp(e){return Yh(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zh)/tp)}dp.range;const hp=fp(0),pp=fp(1),gp=fp(2),yp=fp(3),mp=fp(4),vp=fp(5),bp=fp(6);function xp(e){return Yh(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/tp)}hp.range,pp.range,gp.range,yp.range,mp.range,vp.range,bp.range;const wp=xp(0),jp=xp(1),Op=xp(2),Sp=xp(3),_p=xp(4),Pp=xp(5),Ap=xp(6);wp.range,jp.range,Op.range,Sp.range,_p.range,Pp.range,Ap.range;const kp=Yh(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());kp.range;const Ep=Yh(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());Ep.range;const Mp=Yh(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mp.every=e=>isFinite(e=Math.floor(e))&&e>0?Yh(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,Mp.range;const Cp=Yh(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Tp(e,t,n,r,i,o){const a=[[ip,1,Jh],[ip,5,5e3],[ip,15,15e3],[ip,30,3e4],[o,1,Zh],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Qh],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,ep],[r,2,1728e5],[n,1,tp],[t,1,np],[t,3,7776e6],[e,1,rp]];function s(t,n,r){const i=Math.abs(n-t)/r,o=$d(([,,e])=>e).right(a,i);if(o===a.length)return e.every(Jd(t/rp,n/rp,r));if(0===o)return Xh.every(Math.max(Jd(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}Cp.every=e=>isFinite(e=Math.floor(e))&&e>0?Yh(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,Cp.range;const[Ip,Dp]=Tp(Cp,Ep,wp,dp,lp,ap),[Np,Rp]=Tp(Mp,kp,hp,cp,sp,op);function $p(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Lp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var zp,Fp,Up,Kp={"-":"",_:" ",0:"0"},Wp=/^\s*\d+/,qp=/^%/,Hp=/[\\^$*+?|[\]().{}]/g;function Vp(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Gp(e){return e.replace(Hp,"\\$&")}function Yp(e){return new RegExp("^(?:"+e.map(Gp).join("|")+")","i")}function Xp(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Jp(e,t,n){var r=Wp.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Zp(e,t,n){var r=Wp.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Qp(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eg(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tg(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ng(e,t,n){var r=Wp.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function rg(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ig(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function og(e,t,n){var r=Wp.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function ag(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sg(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lg(e,t,n){var r=Wp.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cg(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ug(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function dg(e,t,n){var r=Wp.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fg(e,t,n){var r=Wp.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hg(e,t,n){var r=Wp.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pg(e,t,n){var r=qp.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gg(e,t,n){var r=Wp.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yg(e,t,n){var r=Wp.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function mg(e,t){return Vp(e.getDate(),t,2)}function vg(e,t){return Vp(e.getHours(),t,2)}function bg(e,t){return Vp(e.getHours()%12||12,t,2)}function xg(e,t){return Vp(1+cp.count(Mp(e),e),t,3)}function wg(e,t){return Vp(e.getMilliseconds(),t,3)}function jg(e,t){return wg(e,t)+"000"}function Og(e,t){return Vp(e.getMonth()+1,t,2)}function Sg(e,t){return Vp(e.getMinutes(),t,2)}function _g(e,t){return Vp(e.getSeconds(),t,2)}function Pg(e){var t=e.getDay();return 0===t?7:t}function Ag(e,t){return Vp(hp.count(Mp(e)-1,e),t,2)}function kg(e){var t=e.getDay();return t>=4||0===t?mp(e):mp.ceil(e)}function Eg(e,t){return e=kg(e),Vp(mp.count(Mp(e),e)+(4===Mp(e).getDay()),t,2)}function Mg(e){return e.getDay()}function Cg(e,t){return Vp(pp.count(Mp(e)-1,e),t,2)}function Tg(e,t){return Vp(e.getFullYear()%100,t,2)}function Ig(e,t){return Vp((e=kg(e)).getFullYear()%100,t,2)}function Dg(e,t){return Vp(e.getFullYear()%1e4,t,4)}function Ng(e,t){var n=e.getDay();return Vp((e=n>=4||0===n?mp(e):mp.ceil(e)).getFullYear()%1e4,t,4)}function Rg(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vp(t/60|0,"0",2)+Vp(t%60,"0",2)}function $g(e,t){return Vp(e.getUTCDate(),t,2)}function Lg(e,t){return Vp(e.getUTCHours(),t,2)}function Bg(e,t){return Vp(e.getUTCHours()%12||12,t,2)}function zg(e,t){return Vp(1+up.count(Cp(e),e),t,3)}function Fg(e,t){return Vp(e.getUTCMilliseconds(),t,3)}function Ug(e,t){return Fg(e,t)+"000"}function Kg(e,t){return Vp(e.getUTCMonth()+1,t,2)}function Wg(e,t){return Vp(e.getUTCMinutes(),t,2)}function qg(e,t){return Vp(e.getUTCSeconds(),t,2)}function Hg(e){var t=e.getUTCDay();return 0===t?7:t}function Vg(e,t){return Vp(wp.count(Cp(e)-1,e),t,2)}function Gg(e){var t=e.getUTCDay();return t>=4||0===t?_p(e):_p.ceil(e)}function Yg(e,t){return e=Gg(e),Vp(_p.count(Cp(e),e)+(4===Cp(e).getUTCDay()),t,2)}function Xg(e){return e.getUTCDay()}function Jg(e,t){return Vp(jp.count(Cp(e)-1,e),t,2)}function Zg(e,t){return Vp(e.getUTCFullYear()%100,t,2)}function Qg(e,t){return Vp((e=Gg(e)).getUTCFullYear()%100,t,2)}function ey(e,t){return Vp(e.getUTCFullYear()%1e4,t,4)}function ty(e,t){var n=e.getUTCDay();return Vp((e=n>=4||0===n?_p(e):_p.ceil(e)).getUTCFullYear()%1e4,t,4)}function ny(){return"+0000"}function ry(){return"%"}function iy(e){return+e}function oy(e){return Math.floor(+e/1e3)}function ay(e){return new Date(e)}function sy(e){return e instanceof Date?+e:+new Date(+e)}function ly(e,t,n,r,i,o,a,s,l,c){var u=fh(),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),m=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?h:s(e)<e?p:a(e)<e?g:o(e)<e?y:r(e)<e?i(e)<e?m:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,sy)):f().map(ay)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(Mh(n,e)):u},u.copy=function(){return uh(u,ly(e,t,n,r,i,o,a,s,l,c))},u}function cy(){var e,t,n,r,i,o=0,a=1,s=ah,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(nh),c.rangeRound=u(rh),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function uy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dy(){var e=Wh(cy());return e.copy=function(){return uy(e,dy()).exponent(e.exponent())},of.apply(e,arguments)}function fy(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,d=ah,f=!1;function h(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=nh);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),h):[d(0),d(.5),d(1)]}}return h.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(nh),h.rangeRound=p(rh),h.unknown=function(e){return arguments.length?(a=e,h):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,h}}function hy(){var e=Wh(fy());return e.copy=function(){return uy(e,hy()).exponent(e.exponent())},of.apply(e,arguments)}!function(e){zp=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Yp(i),u=Xp(i),d=Yp(o),f=Xp(o),h=Yp(a),p=Xp(a),g=Yp(s),y=Xp(s),m=Yp(l),v=Xp(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:mg,e:mg,f:jg,g:Ig,G:Ng,H:vg,I:bg,j:xg,L:wg,m:Og,M:Sg,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:iy,s:oy,S:_g,u:Pg,U:Ag,V:Eg,w:Mg,W:Cg,x:null,X:null,y:Tg,Y:Dg,Z:Rg,"%":ry},x={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:$g,e:$g,f:Ug,g:Qg,G:ty,H:Lg,I:Bg,j:zg,L:Fg,m:Kg,M:Wg,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:iy,s:oy,S:qg,u:Hg,U:Vg,V:Yg,w:Xg,W:Jg,x:null,X:null,y:Zg,Y:ey,Z:ny,"%":ry},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:sg,e:sg,f:hg,g:rg,G:ng,H:cg,I:cg,j:lg,L:fg,m:ag,M:ug,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:og,Q:gg,s:yg,S:dg,u:Zp,U:Qp,V:eg,w:Jp,W:tg,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:rg,Y:ng,Z:ig,"%":pg};function j(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Kp[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function O(e,t){return function(n){var r,i,o=Bp(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Lp(Bp(o.y,0,1))).getUTCDay(),r=i>4||0===i?jp.ceil(r):jp(r),r=up.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=$p(Bp(o.y,0,1))).getDay(),r=i>4||0===i?pp.ceil(r):pp(r),r=cp.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Lp(Bp(o.y,0,1)).getUTCDay():$p(Bp(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Lp(o)):$p(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=w[i in Kp?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=O(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=O(e+="",!0);return t.toString=function(){return e},t}}}(e),Fp=zp.format,zp.parse,Up=zp.utcFormat,zp.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const py=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lf,scaleDiverging:function e(){var t=Eh(fy()(ah));return t.copy=function(){return uy(t,e())},of.apply(t,arguments)},scaleDivergingLog:function e(){var t=$h(fy()).domain([.1,1,10]);return t.copy=function(){return uy(t,e()).base(t.base())},of.apply(t,arguments)},scaleDivergingPow:hy,scaleDivergingSqrt:function(){return hy.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=zh(fy());return t.copy=function(){return uy(t,e()).constant(t.constant())},of.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,ih),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,ih):[0,1],Eh(r)},scaleImplicit:af,scaleLinear:function e(){var t=fh();return t.copy=function(){return uh(t,e())},rf.apply(t,arguments),Eh(t)},scaleLog:function e(){const t=$h(dh()).domain([1,10]);return t.copy=()=>uh(t,e()).base(t.base()),rf.apply(t,arguments),t},scaleOrdinal:sf,scalePoint:function(){return cf(lf.apply(null,arguments).paddingInner(1))},scalePow:qh,scaleQuantile:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=nf(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[zd(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(Nd),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},rf.apply(a,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[zd(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},rf.apply(Eh(s),arguments)},scaleRadial:function e(){var t,n=fh(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(Hh(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,ih)).map(Hh)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},rf.apply(o,arguments),Eh(o)},scaleSequential:function e(){var t=Eh(cy()(ah));return t.copy=function(){return uy(t,e())},of.apply(t,arguments)},scaleSequentialLog:function e(){var t=$h(cy()).domain([1,10]);return t.copy=function(){return uy(t,e()).base(t.base())},of.apply(t,arguments)},scaleSequentialPow:dy,scaleSequentialQuantile:function e(){var t=[],n=ah;function r(e){if(null!=e&&!isNaN(e=+e))return n((zd(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Nd),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return Qd(e);if(t>=1)return Zd(e);var n,r=(n-1)*t,i=Math.floor(r),o=Zd(ef(e,i).subarray(0,i+1));return o+(Qd(e.subarray(i+1))-o)*(r-i)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},of.apply(r,arguments)},scaleSequentialSqrt:function(){return dy.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=zh(cy());return t.copy=function(){return uy(t,e()).constant(t.constant())},of.apply(t,arguments)},scaleSqrt:function(){return qh.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=zh(dh());return t.copy=function(){return uh(t,e()).constant(t.constant())},rf.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[zd(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},rf.apply(o,arguments)},scaleTime:function(){return rf.apply(ly(Np,Rp,Mp,kp,hp,cp,sp,op,ip,Fp).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return rf.apply(ly(Ip,Dp,Cp,Ep,wp,up,lp,ap,ip,Up).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:kh},Symbol.toStringTag,{value:"Module"}));var gy=e=>e.chartData,yy=Ho([gy],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),my=(e,t,n,r)=>r?yy(e):gy(e);function vy(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(nu(t)&&nu(n))return!0}return!1}function by(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}var xy,wy=1e9,jy=!0,Oy="[DecimalError] ",Sy=Oy+"Invalid argument: ",_y=Oy+"Exponent out of range: ",Py=Math.floor,Ay=Math.pow,ky=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ey=1e7,My=9007199254740991,Cy=Py(1286742750677284.5),Ty={};function Iy(e,t){var n,r,i,o,a,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),jy?Ky(t,d):t;if(l=e.d,c=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),o>(s=(a=Math.ceil(d/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=l.length)-(o=c.length)<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Ey|0,l[o]%=Ey;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,jy?Ky(t,d):t}function Dy(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Sy+e)}function Ny(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=zy(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=zy(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}Ty.absoluteValue=Ty.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Ty.comparedTo=Ty.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},Ty.decimalPlaces=Ty.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},Ty.dividedBy=Ty.div=function(e){return Ry(this,new this.constructor(e))},Ty.dividedToIntegerBy=Ty.idiv=function(e){var t=this.constructor;return Ky(Ry(this,new t(e),0,1),t.precision)},Ty.equals=Ty.eq=function(e){return!this.cmp(e)},Ty.exponent=function(){return Ly(this)},Ty.greaterThan=Ty.gt=function(e){return this.cmp(e)>0},Ty.greaterThanOrEqualTo=Ty.gte=function(e){return this.cmp(e)>=0},Ty.isInteger=Ty.isint=function(){return this.e>this.d.length-2},Ty.isNegative=Ty.isneg=function(){return this.s<0},Ty.isPositive=Ty.ispos=function(){return this.s>0},Ty.isZero=function(){return 0===this.s},Ty.lessThan=Ty.lt=function(e){return this.cmp(e)<0},Ty.lessThanOrEqualTo=Ty.lte=function(e){return this.cmp(e)<1},Ty.logarithm=Ty.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(xy))throw Error(Oy+"NaN");if(n.s<1)throw Error(Oy+(n.s?"NaN":"-Infinity"));return n.eq(xy)?new r(0):(jy=!1,t=Ry(Fy(n,o),Fy(e,o),o),jy=!0,Ky(t,i))},Ty.minus=Ty.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Wy(t,e):Iy(t,(e.s=-e.s,e))},Ty.modulo=Ty.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(Oy+"NaN");return n.s?(jy=!1,t=Ry(n,e,0,1).times(e),jy=!0,n.minus(t)):Ky(new r(n),i)},Ty.naturalExponential=Ty.exp=function(){return $y(this)},Ty.naturalLogarithm=Ty.ln=function(){return Fy(this)},Ty.negated=Ty.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Ty.plus=Ty.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Iy(t,e):Wy(t,(e.s=-e.s,e))},Ty.precision=Ty.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Sy+e);if(t=Ly(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},Ty.squareRoot=Ty.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Oy+"NaN")}for(e=Ly(s),jy=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=Ny(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Py((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(Ry(s,o,a+2)).times(.5),Ny(o.d).slice(0,a)===(t=Ny(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(Ky(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return jy=!0,Ky(r,n)},Ty.times=Ty.mul=function(e){var t,n,r,i,o,a,s,l,c,u=this,d=u.constructor,f=u.d,h=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,(l=f.length)<(c=h.length)&&(o=f,f=h,h=o,a=l,l=c,c=a),o=[],r=a=l+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+h[r]*f[i-r-1]+t,o[i--]=s%Ey|0,t=s/Ey|0;o[i]=(o[i]+t)%Ey|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,jy?Ky(e,d.precision):e},Ty.toDecimalPlaces=Ty.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(Dy(e,0,wy),void 0===t?t=r.rounding:Dy(t,0,8),Ky(n,e+Ly(n)+1,t))},Ty.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=qy(r,!0):(Dy(e,0,wy),void 0===t?t=i.rounding:Dy(t,0,8),n=qy(r=Ky(new i(r),e+1,t),!0,e+1)),n},Ty.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?qy(i):(Dy(e,0,wy),void 0===t?t=o.rounding:Dy(t,0,8),n=qy((r=Ky(new o(i),e+Ly(i)+1,t)).abs(),!1,e+Ly(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},Ty.toInteger=Ty.toint=function(){var e=this,t=e.constructor;return Ky(new t(e),Ly(e)+1,t.rounding)},Ty.toNumber=function(){return+this},Ty.toPower=Ty.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(xy);if(!(s=new l(s)).s){if(e.s<1)throw Error(Oy+"Infinity");return s}if(s.eq(xy))return s;if(r=l.precision,e.eq(xy))return Ky(s,r);if(a=(t=e.e)>=(n=e.d.length-1),o=s.s,a){if((n=c<0?-c:c)<=My){for(i=new l(xy),t=Math.ceil(r/7+4),jy=!1;n%2&&Hy((i=i.times(s)).d,t),0!==(n=Py(n/2));)Hy((s=s.times(s)).d,t);return jy=!0,e.s<0?new l(xy).div(i):Ky(i,r)}}else if(o<0)throw Error(Oy+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,jy=!1,i=e.times(Fy(s,r+12)),jy=!0,(i=$y(i)).s=o,i},Ty.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=qy(i,(n=Ly(i))<=o.toExpNeg||n>=o.toExpPos):(Dy(e,1,wy),void 0===t?t=o.rounding:Dy(t,0,8),r=qy(i=Ky(new o(i),e,t),e<=(n=Ly(i))||n<=o.toExpNeg,e)),r},Ty.toSignificantDigits=Ty.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Dy(e,1,wy),void 0===t?t=n.rounding:Dy(t,0,8)),Ky(new n(this),e,t)},Ty.toString=Ty.valueOf=Ty.val=Ty.toJSON=Ty[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ly(e),n=e.constructor;return qy(e,t<=n.toExpNeg||t>=n.toExpPos)};var Ry=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%Ey|0,r=n/Ey|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*Ey+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,c,u,d,f,h,p,g,y,m,v,b,x,w,j,O,S,_=r.constructor,P=r.s==i.s?1:-1,A=r.d,k=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(Oy+"Division by zero");for(l=r.e-i.e,O=k.length,w=A.length,p=(h=new _(P)).d=[],c=0;k[c]==(A[c]||0);)++c;if(k[c]>(A[c]||0)&&--l,(v=null==o?o=_.precision:a?o+(Ly(r)-Ly(i))+1:o)<0)return new _(0);if(v=v/7+2|0,c=0,1==O)for(u=0,k=k[0],v++;(c<w||u)&&v--;c++)b=u*Ey+(A[c]||0),p[c]=b/k|0,u=b%k|0;else{for((u=Ey/(k[0]+1)|0)>1&&(k=e(k,u),A=e(A,u),O=k.length,w=A.length),x=O,y=(g=A.slice(0,O)).length;y<O;)g[y++]=0;(S=k.slice()).unshift(0),j=k[0],k[1]>=Ey/2&&++j;do{u=0,(s=t(k,g,O,y))<0?(m=g[0],O!=y&&(m=m*Ey+(g[1]||0)),(u=m/j|0)>1?(u>=Ey&&(u=Ey-1),1==(s=t(d=e(k,u),g,f=d.length,y=g.length))&&(u--,n(d,O<f?S:k,f))):(0==u&&(s=u=1),d=k.slice()),(f=d.length)<y&&d.unshift(0),n(g,d,y),-1==s&&(s=t(k,g,O,y=g.length))<1&&(u++,n(g,O<y?S:k,y)),y=g.length):0===s&&(u++,g=[0]),p[c++]=u,s&&g[0]?g[y++]=A[x]||0:(g=[A[x]],y=1)}while((x++<w||void 0!==g[0])&&v--)}return p[0]||p.shift(),h.e=l,Ky(h,a?o+Ly(h)+1:o)}}();function $y(e,t){var n,r,i,o,a,s=0,l=0,c=e.constructor,u=c.precision;if(Ly(e)>16)throw Error(_y+Ly(e));if(!e.s)return new c(xy);for(jy=!1,a=u,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(a+=Math.log(Ay(2,l))/Math.LN10*2+5|0,n=r=i=new c(xy),c.precision=a;;){if(r=Ky(r.times(e),a),n=n.times(++s),Ny((o=i.plus(Ry(r,n,a))).d).slice(0,a)===Ny(i.d).slice(0,a)){for(;l--;)i=Ky(i.times(i),a);return c.precision=u,null==t?(jy=!0,Ky(i,u)):i}i=o}}function Ly(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function By(e,t,n){if(t>e.LN10.sd())throw jy=!0,n&&(e.precision=n),Error(Oy+"LN10 precision limit exceeded");return Ky(new e(e.LN10),t)}function zy(e){for(var t="";e--;)t+="0";return t}function Fy(e,t){var n,r,i,o,a,s,l,c,u,d=1,f=e,h=f.d,p=f.constructor,g=p.precision;if(f.s<1)throw Error(Oy+(f.s?"NaN":"-Infinity"));if(f.eq(xy))return new p(0);if(null==t?(jy=!1,c=g):c=t,f.eq(10))return null==t&&(jy=!0),By(p,c);if(c+=10,p.precision=c,r=(n=Ny(h)).charAt(0),o=Ly(f),!(Math.abs(o)<15e14))return l=By(p,c+2,g).times(o+""),f=Fy(new p(r+"."+n.slice(1)),c-10).plus(l),p.precision=g,null==t?(jy=!0,Ky(f,g)):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Ny((f=f.times(e)).d)).charAt(0),d++;for(o=Ly(f),r>1?(f=new p("0."+n),o++):f=new p(r+"."+n.slice(1)),s=a=f=Ry(f.minus(xy),f.plus(xy),c),u=Ky(f.times(f),c),i=3;;){if(a=Ky(a.times(u),c),Ny((l=s.plus(Ry(a,new p(i),c))).d).slice(0,c)===Ny(s.d).slice(0,c))return s=s.times(2),0!==o&&(s=s.plus(By(p,c+2,g).times(o+""))),s=Ry(s,new p(d),c),p.precision=g,null==t?(jy=!0,Ky(s,g)):s;s=l,i+=2}}function Uy(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=Py(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),jy&&(e.e>Cy||e.e<-Cy))throw Error(_y+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ky(e,t,n){var r,i,o,a,s,l,c,u,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=d[u=0];else{if((u=Math.ceil((r+1)/7))>=(o=d.length))return e;for(c=o=d[u],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=c/(o=Ay(10,a-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%o,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?c/Ay(10,a-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=Ly(e),d.length=1,t=t-o-1,d[0]=Ay(10,(7-t%7)%7),e.e=Py(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=u,o=1,u--):(d.length=u+1,o=Ay(10,7-r),d[u]=i>0?(c/Ay(10,a-i)%Ay(10,i)|0)*o:0),l)for(;;){if(0==u){(d[0]+=o)==Ey&&(d[0]=1,++e.e);break}if(d[u]+=o,d[u]!=Ey)break;d[u--]=0,o=1}for(r=d.length;0===d[--r];)d.pop();if(jy&&(e.e>Cy||e.e<-Cy))throw Error(_y+Ly(e));return e}function Wy(e,t){var n,r,i,o,a,s,l,c,u,d,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),jy?Ky(t,h):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),a=c-r){for((u=a<0)?(n=l,a=-a,s=d.length):(n=d,r=c,s=l.length),a>(i=Math.max(Math.ceil(h/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((u=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&0===l[--o];)l[o]=Ey-1;--l[o],l[i]+=Ey}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,jy?Ky(t,h):t):new f(0)}function qy(e,t,n){var r,i=Ly(e),o=Ny(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+zy(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+zy(-i-1)+o,n&&(r=n-a)>0&&(o+=zy(r))):i>=a?(o+=zy(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+zy(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=zy(r))),e.s<0?"-"+o:o}function Hy(e,t){if(e.length>t)return e.length=t,!0}function Vy(e){if(!e||"object"!=typeof e)throw Error(Oy+"Object expected");var t,n,r,i=["precision",1,wy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(Py(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(Sy+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(Sy+n+": "+r);this[n]=new this(r)}return this}var Gy=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Sy+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Uy(t,e.toString())}if("string"!=typeof e)throw Error(Sy+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!ky.test(e))throw Error(Sy+e);Uy(t,e)}if(o.prototype=Ty,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=Vy,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});xy=new Gy(1);const Yy=Gy;var Xy=e=>e,Jy={},Zy=e=>e===Jy,Qy=e=>function t(){return 0===arguments.length||1===arguments.length&&Zy(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},em=(e,t)=>1===e?t:Qy(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(e=>e!==Jy).length;return o>=e?t(...r):em(e-o,Qy(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=r.map(e=>Zy(e)?n.shift():e);return t(...o,...n)}))}),tm=e=>em(e.length,e),nm=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},rm=tm((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)),im=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),om=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((e,n)=>{var r;return e===(null===(r=t)||void 0===r?void 0:r[n])})?n:(t=i,n=e(...i))}};function am(e){return 0===e?1:Math.floor(new Yy(e).abs().log(10).toNumber())+1}function sm(e,t,n){for(var r=new Yy(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}tm((e,t,n)=>{var r=+e;return r+n*(+t-r)}),tm((e,t,n)=>{var r=t-+e;return(n-e)/(r=r||1/0)}),tm((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var lm=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},cm=(e,t,n)=>{if(e.lte(0))return new Yy(0);var r=am(e.toNumber()),i=new Yy(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new Yy(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return new Yy(t?s.toNumber():Math.ceil(s.toNumber()))},um=(e,t,n)=>{var r=new Yy(1),i=new Yy(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Yy(10).pow(am(e)-1),i=new Yy(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Yy(Math.floor(e)))}else 0===e?i=new Yy(Math.floor((t-1)/2)):n||(i=new Yy(Math.floor(e)));var a=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Xy;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((e,t)=>t(e),i(...arguments))}}(rm(e=>i.add(new Yy(e-a).mul(r)).toNumber()),nm);return s(0,t)},dm=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Yy(0),tickMin:new Yy(0),tickMax:new Yy(0)};var o,a=cm(new Yy(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new Yy(0):(o=new Yy(e).add(t).div(2)).sub(new Yy(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Yy(t).sub(o).div(a).toNumber()),c=s+l+1;return c>n?dm(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:o.sub(new Yy(s).mul(a)),tickMax:o.add(new Yy(l).mul(a))})},fm=om(function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(r,2),[a,s]=lm([t,n]);if(a===-1/0||s===1/0){var l=s===1/0?[a,...nm(0,r-1).map(()=>1/0)]:[...nm(0,r-1).map(()=>-1/0),s];return t>n?im(l):l}if(a===s)return um(a,r,i);var{step:c,tickMin:u,tickMax:d}=dm(a,s,o,i,0),f=sm(u,d.add(new Yy(.1).mul(c)),c);return t>n?im(f):f}),hm=om(function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[o,a]=lm([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var s=Math.max(t,2),l=cm(new Yy(a).sub(o).div(s-1),i,0),c=[...sm(new Yy(o),new Yy(a),l),a];return!1===i&&(c=c.map(e=>Math.round(e))),n>r?im(c):c}),pm=e=>e.rootProps.maxBarSize,gm=e=>e.rootProps.barCategoryGap,ym=e=>e.rootProps.stackOffset,mm=e=>e.options.chartName,vm=e=>e.rootProps.syncId,bm=e=>e.rootProps.syncMethod,xm=e=>e.options.eventEmitter,wm=0,jm="auto",Om=!0,Sm=!1,_m=!0,Pm=0,Am="auto",km=!0,Em=5,Mm=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},Cm={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wm,includeHidden:!1,name:void 0,reversed:!1,scale:jm,tick:Om,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},Tm={allowDataOverflow:Sm,allowDecimals:!1,allowDuplicatedCategory:_m,dataKey:void 0,domain:void 0,id:Pm,includeHidden:!1,name:void 0,reversed:!1,scale:Am,tick:km,tickCount:Em,ticks:void 0,type:"number",unit:void 0},Im={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:wm,includeHidden:!1,name:void 0,reversed:!1,scale:jm,tick:Om,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Dm={allowDataOverflow:Sm,allowDecimals:!1,allowDuplicatedCategory:_m,dataKey:void 0,domain:void 0,id:Pm,includeHidden:!1,name:void 0,reversed:!1,scale:Am,tick:km,tickCount:Em,ticks:void 0,type:"category",unit:void 0},Nm=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?Im:Cm,Rm=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?Dm:Tm,$m=e=>e.polarOptions,Lm=Ho([Jl,Zl,lc],El),Bm=Ho([$m,Lm],(e,t)=>{if(null!=e)return rn(e.innerRadius,t,0)}),zm=Ho([$m,Lm],(e,t)=>{if(null!=e)return rn(e.outerRadius,t,.8*t)}),Fm=Ho([$m],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]});Ho([Nm,Fm],Mm);var Um=Ho([Lm,Bm,zm],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]});Ho([Rm,Um],Mm);var Km=Ho([wc,$m,Bm,zm,Jl,Zl],(e,t,n,r,i,o)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:a,cy:s,startAngle:l,endAngle:c}=t;return{cx:rn(a,i,i/2),cy:rn(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Wm=(e,t)=>t,qm=(e,t,n)=>n;function Hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hm(Object(n),!0).forEach(function(t){Gm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ym=[0,"auto"],Xm={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jm=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return null==n?Xm:n},Zm={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ym,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},Qm=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return null==n?Zm:n},ev={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},tv=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?ev:n},nv=(e,t,n)=>{switch(t){case"xAxis":return Jm(e,n);case"yAxis":return Qm(e,n);case"zAxis":return tv(e,n);case"angleAxis":return Nm(e,n);case"radiusAxis":return Rm(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rv=(e,t,n)=>{switch(t){case"xAxis":return Jm(e,n);case"yAxis":return Qm(e,n);case"angleAxis":return Nm(e,n);case"radiusAxis":return Rm(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},iv=e=>e.graphicalItems.countOfBars>0;function ov(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var av=e=>e.graphicalItems.cartesianItems,sv=Ho([Wm,qm],ov),lv=(e,t,n)=>e.filter(n).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),cv=Ho([av,nv,sv],lv),uv=e=>e.filter(e=>void 0===e.stackId),dv=Ho([cv],uv),fv=e=>e.map(e=>e.data).filter(Boolean).flat(1),hv=Ho([cv],fv),pv=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},gv=Ho([hv,my],pv),yv=(e,t,n)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Rl(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Rl(e,t)}))):e.map(e=>({value:e})),mv=Ho([gv,nv,cv],yv);function vv(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function bv(e){return e.filter(e=>en(e)||e instanceof Date).map(Number).filter(e=>!1===Jt(e))}function xv(e,t,n){return!n||"number"!=typeof t||Jt(t)?[]:n.length?bv(n.flatMap(n=>{var r,i,o=Rl(e,n.dataKey);if(Array.isArray(o)?[r,i]=o:r=i=o,nu(r)&&nu(i))return[t-r,t+i]})):[]}var wv=(e,t,n)=>{var r=t.reduce((e,t)=>(null==t.stackId||(null==e[t.stackId]&&(e[t.stackId]=[]),e[t.stackId].push(t)),e),{});return Object.fromEntries(Object.entries(r).map(t=>{var[r,i]=t,o=i.map(e=>e.dataKey);return[r,{stackedData:Ul(e,o,n),graphicalItems:i}]}))},jv=Ho([gv,cv,ym],wv),Ov=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if("zAxis"!==n){var o=ql(e,r,i);if(null==o||0!==o[0]||0!==o[1])return o}},Sv=Ho([jv,gy,Wm],Ov),_v=(e,t,n,r)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var i,o,a=null===(i=n.errorBars)||void 0===i?void 0:i.filter(e=>vv(r,e)),s=Rl(e,null!==(o=t.dataKey)&&void 0!==o?o:n.dataKey);return{value:s,errorDomain:xv(e,s,a)}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Rl(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})),Pv=Ho(gv,nv,dv,Wm,_v);function Av(e){var{value:t}=e;if(en(t)||t instanceof Date)return t}var kv=e=>{var t;if(null==e||!("domain"in e))return Ym;if(null!=e.domain)return e.domain;if(null!=e.ticks){if("number"===e.type){var n=bv(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:Ym},Ev=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},Mv=e=>e.referenceElements.dots,Cv=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),Tv=Ho([Mv,Wm,qm],Cv),Iv=e=>e.referenceElements.areas,Dv=Ho([Iv,Wm,qm],Cv),Nv=e=>e.referenceElements.lines,Rv=Ho([Nv,Wm,qm],Cv),$v=(e,t)=>{var n=bv(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Lv=Ho(Tv,Wm,$v),Bv=(e,t)=>{var n=bv(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},zv=Ho([Dv,Wm],Bv),Fv=(e,t)=>{var n=bv(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]},Uv=Ho(Rv,Wm,Fv),Kv=Ho(Lv,Uv,zv,(e,t,n)=>Ev(e,n,t)),Wv=Ho([nv],kv),qv=(e,t,n,r,i)=>{var o=function(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,o]=e;if(nu(i))n=i;else if("function"==typeof i)return;if(nu(o))r=o;else if("function"==typeof o)return;var a=[n,r];if(vy(a))return a}}(t,e.allowDataOverflow);return null!=o?o:function(e,t,n){if(n||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,n);if(vy(r))return by(r,t,n)}catch(h){}if(Array.isArray(e)&&2===e.length){var i,o,[a,s]=e;if("auto"===a)null!=t&&(i=Math.min(...t));else if(Qt(a))i=a;else if("function"==typeof a)try{null!=t&&(i=a(null==t?void 0:t[0]))}catch(p){}else if("string"==typeof a&&Hl.test(a)){var l=Hl.exec(a);if(null==l||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===s)null!=t&&(o=Math.max(...t));else if(Qt(s))o=s;else if("function"==typeof s)try{null!=t&&(o=s(null==t?void 0:t[1]))}catch(g){}else if("string"==typeof s&&Vl.test(s)){var u=Vl.exec(s);if(null==u||null==t)o=void 0;else{var d=+u[1];o=t[1]+d}}else o=null==t?void 0:t[1];var f=[i,o];if(vy(f))return null==t?f:by(f,t,n)}}}(t,Ev(n,i,(e=>{var t=bv(e.flatMap(e=>[e.value,e.errorDomain]).flat(1));if(0!==t.length)return[Math.min(...t),Math.max(...t)]})(r)),e.allowDataOverflow)},Hv=Ho([nv,Wv,Sv,Pv,Kv],qv),Vv=[0,1],Gv=(e,t,n,r,i,o,a)=>{if(null!=e&&null!=n&&0!==n.length){var{dataKey:s,type:l}=e,c=$l(t,o);return c&&null==s?Dd(0,n.length):"category"===l?((e,t,n)=>{var r=e.map(Av).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&on(r))?Dd(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?Vv:a}},Yv=Ho([nv,wc,gv,mv,ym,Wm,Hv],Gv),Xv=(e,t,n,r,i)=>{if(null!=e){var{scale:o,type:a}=e;if("auto"===o)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===a&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":"category"===a?"band":"linear";if("string"==typeof o){var s="scale".concat(ln(o));return s in py?s:"point"}}},Jv=Ho([nv,wc,iv,mm,Wm],Xv);function Zv(e,t,n,r){if(null!=n&&null!=r){if("function"==typeof e.scale)return e.scale.copy().domain(n).range(r);var i=function(e){if(null!=e){if(e in py)return py[e]();var t="scale".concat(ln(e));return t in py?py[t]():void 0}}(t);if(null!=i){var o=i.domain(n).range(r);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-zl,o=Math.max(r[0],r[1])+zl,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}})(o),o}}}var Qv=(e,t,n)=>{var r=kv(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&vy(e)?fm(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&vy(e)?hm(e,t.tickCount,t.allowDecimals):void 0},eb=Ho([Yv,rv,Jv],Qv),tb=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&vy(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],a=t[1],s=n[n.length-1];return[Math.min(i,o),Math.max(a,s)]}return t},nb=Ho([nv,Yv,eb,Wm],tb),rb=Ho(mv,nv,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(bv(e.map(e=>e.value))).sort((e,t)=>e-t);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(0===i)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),ib=Ho(rb,wc,gm,lc,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!nu(e))return 0;var o="vertical"===t?r.height:r.width;if("gap"===i)return e*o/2;if("no-gap"===i){var a=rn(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),ob=Ho(Jm,(e,t)=>{var n=Jm(e,t);return null==n||"string"!=typeof n.padding?0:ib(e,"xAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),ab=Ho(Qm,(e,t)=>{var n=Qm(e,t);return null==n||"string"!=typeof n.padding?0:ib(e,"yAxis",t,n.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),sb=Ho([lc,ob,pc,hc,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),lb=Ho([lc,wc,ab,pc,hc,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),cb=(e,t,n,r)=>{var i;switch(t){case"xAxis":return sb(e,n,r);case"yAxis":return lb(e,n,r);case"zAxis":return null===(i=tv(e,n))||void 0===i?void 0:i.range;case"angleAxis":return Fm(e);case"radiusAxis":return Um(e,n);default:return}},ub=Ho([nv,cb],Mm),db=Ho([nv,Jv,nb,ub],Zv);function fb(e,t){return e.id<t.id?-1:e.id>t.id?1:0}Ho(cv,Wm,(e,t)=>e.flatMap(e=>{var t;return null!==(t=e.errorBars)&&void 0!==t?t:[]}).filter(e=>vv(t,e)));var hb=(e,t)=>t,pb=(e,t,n)=>n,gb=Ho(tc,hb,pb,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(fb)),yb=Ho(nc,hb,pb,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(fb)),mb=(e,t)=>({width:e.width,height:t.height}),vb=Ho(lc,Jm,mb),bb=Ho(Zl,lc,gb,hb,pb,(e,t,n,r,i)=>{var o,a={};return n.forEach(n=>{var s=mb(t,n);null==o&&(o=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;a[n.id]=o-Number(l)*s.height,o+=(l?-1:1)*s.height}),a}),xb=Ho(Jl,lc,yb,hb,pb,(e,t,n,r,i)=>{var o,a={};return n.forEach(n=>{var s=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,n);null==o&&(o=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;a[n.id]=o-Number(l)*s.width,o+=(l?-1:1)*s.width}),a}),wb=Ho(lc,Qm,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),jb=(e,t,n)=>{switch(t){case"xAxis":return vb(e,n).width;case"yAxis":return wb(e,n).height;default:return}},Ob=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=$l(e,r),l=t.map(e=>e.value);return a&&s&&"category"===o&&i&&on(l)?l:void 0}},Sb=Ho([wc,mv,nv,Wm],Ob),_b=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:o}=n;return!$l(e,r)||"number"!==i&&"auto"===o?void 0:t.map(e=>e.value)}},Pb=Ho([wc,mv,rv,Wm],_b),Ab=Ho([wc,(e,t,n)=>{switch(t){case"xAxis":return Jm(e,n);case"yAxis":return Qm(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Jv,db,Sb,Pb,cb,eb,Wm],(e,t,n,r,i,o,a,s,l)=>{if(null==t)return null;var c=$l(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:c,niceTicks:s,range:a,realScaleType:n,scale:r}}),kb=Ho([wc,rv,Jv,db,eb,cb,Sb,Pb,Wm],(e,t,n,r,i,o,a,s,l)=>{if(null!=t&&null!=r){var c=$l(e,l),{type:u,ticks:d,tickCount:f}=t,h="scaleBand"===n&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,p="category"===u&&r.bandwidth?r.bandwidth()/h:0;p="angleAxis"===l&&null!=o&&o.length>=2?2*Xt(o[0]-o[1])*p:p;var g=d||i;return g?g.map((e,t)=>{var n=a?a.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>!Jt(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})):r.ticks?r.ticks(f).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:a?a[e]:e,index:t,offset:p}))}}),Eb=Ho([wc,rv,db,cb,Sb,Pb,Wm],(e,t,n,r,i,o,a)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=$l(e,a),{tickCount:l}=t,c=0;return c="angleAxis"===a&&(null==r?void 0:r.length)>=2?2*Xt(r[0]-r[1])*c:c,s&&o?o.map((e,t)=>({coordinate:n(e)+c,value:e,index:t,offset:c})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+c,value:e,offset:c})):n.domain().map((e,t)=>({coordinate:n(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),Mb=Ho(nv,db,(e,t)=>{if(null!=e&&null!=t)return Vm(Vm({},e),{},{scale:t})}),Cb=Ho([nv,Jv,Yv,ub],Zv);Ho((e,t,n)=>tv(e,n),Cb,(e,t)=>{if(null!=e&&null!=t)return Vm(Vm({},e),{},{scale:t})});var Tb=Ho([wc,tc,nc],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Ib=e=>e.options.defaultTooltipEventType,Db=e=>e.options.validateTooltipEventTypes;function Nb(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function Rb(e,t){return Nb(t,Ib(e),Db(e))}var $b=(e,t)=>{var n,r=Number(t);if(!Jt(r)&&null!=t)return r>=0?null==e||null===(n=e[r])||void 0===n?void 0:n.value:void 0},Lb={active:!1,index:null,dataKey:void 0,coordinate:void 0},Bb=Rs({name:"tooltip",initialState:{itemInteraction:{click:Lb,hover:Lb},axisInteraction:{click:Lb,hover:Lb},keyboardInteraction:Lb,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=gs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:zb,removeTooltipEntrySettings:Fb,setTooltipSettingsState:Ub,setActiveMouseOverItemIndex:Kb,mouseLeaveItem:Wb,mouseLeaveChart:qb,setActiveClickItemIndex:Hb,setMouseOverAxisIndex:Vb,setMouseClickAxisIndex:Gb,setSyncInteraction:Yb,setKeyboardInteraction:Xb}=Bb.actions,Jb=Bb.reducer;function Zb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zb(Object(n),!0).forEach(function(t){ex(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ex(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tx=(e,t,n,r)=>{if(null==t)return Lb;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return Lb;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var o=!0===e.settings.active;if(null!=i.index){if(o)return Qb(Qb({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Qb(Qb({},Lb),{},{coordinate:i.coordinate})},nx=(e,t)=>{var n=null==e?void 0:e.index;if(null==n)return null;var r=Number(n);if(!nu(r))return n;var i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(0,Math.min(r,i)))},rx=(e,t,n,r,i,o,a,s)=>{if(null!=o&&null!=s){var l=a[0],c=null==l?void 0:s(l.positions,o);if(null!=c)return c;var u=null==i?void 0:i[Number(o)];if(u)return"horizontal"===n?{x:u.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:u.coordinate}}},ix=(e,t,n,r)=>{return"axis"===t?e.tooltipItemPayloads:0===e.tooltipItemPayloads.length?[]:null==(i="hover"===n?e.itemInteraction.hover.dataKey:e.itemInteraction.click.dataKey)&&null!=r?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.dataKey)===i});var i},ox=e=>e.options.tooltipPayloadSearcher,ax=e=>e.tooltip;function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(n),!0).forEach(function(t){cx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ux=(e,t,n,r,i,o,a)=>{if(null!=t&&null!=o){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n;return e.reduce((e,n)=>{var d,f,h,p,g,y,{dataDefinedOnItem:m,settings:v}=n,b=function(e,t){return null!=e?e:t}(m,s),x=(f=b,h=c,p=u,Array.isArray(f)&&f&&h+p!==0?f.slice(h,p+1):f),w=null!==(d=null==v?void 0:v.dataKey)&&void 0!==d?d:null==r?void 0:r.dataKey,j=null==v?void 0:v.nameKey;return g=null!=r&&r.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&"axis"===a?function(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):Wt(e,t))===n)}(x,r.dataKey,i):o(x,t,l,j),Array.isArray(g)?g.forEach(t=>{var n=lx(lx({},v),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Yl({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:Rl(t.payload,t.dataKey),name:t.name}))}):e.push(Yl({tooltipEntrySettings:v,dataKey:w,payload:g,value:Rl(g,w),name:null!==(y=Rl(g,j))&&void 0!==y?y:null==v?void 0:v.name})),e},[])}},dx=e=>{var t=wc(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},fx=e=>e.tooltip.settings.axisId,hx=e=>{var t=dx(e),n=fx(e);return rv(e,t,n)},px=Ho([hx,wc,iv,mm,dx],Xv),gx=Ho([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),yx=Ho([dx,fx],ov),mx=Ho([gx,hx,yx],lv),vx=Ho([mx],fv),bx=Ho([vx,gy],pv),xx=Ho([bx,hx,mx],yv),wx=Ho([hx],kv),jx=Ho([bx,mx,ym],wv),Ox=Ho([jx,gy,dx],Ov),Sx=Ho([mx],uv),_x=Ho([bx,hx,Sx,dx],_v),Px=Ho([Mv,dx,fx],Cv),Ax=Ho([Px,dx],$v),kx=Ho([Iv,dx,fx],Cv),Ex=Ho([kx,dx],Bv),Mx=Ho([Nv,dx,fx],Cv),Cx=Ho([Mx,dx],Fv),Tx=Ho([Ax,Cx,Ex],Ev),Ix=Ho([hx,wx,Ox,_x,Tx],qv),Dx=Ho([hx,wc,bx,xx,ym,dx,Ix],Gv),Nx=Ho([Dx,hx,px],Qv),Rx=Ho([hx,Dx,Nx,dx],tb),$x=e=>{var t=dx(e),n=fx(e);return cb(e,t,n,!1)},Lx=Ho([hx,$x],Mm),Bx=Ho([hx,px,Rx,Lx],Zv),zx=Ho([wc,xx,hx,dx],Ob),Fx=Ho([wc,xx,hx,dx],_b),Ux=Ho([wc,hx,px,Bx,$x,zx,Fx,dx],(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,c=$l(e,s);if(r){var u="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null==i?void 0:i.length)>=2?2*Xt(i[0]-i[1])*d:d,c&&a?a.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:o?o[e]:e,index:t,offset:d}))}}}),Kx=Ho([Ib,Db,e=>e.tooltip.settings],(e,t,n)=>Nb(n.shared,e,t)),Wx=e=>e.tooltip.settings.trigger,qx=e=>e.tooltip.settings.defaultIndex,Hx=Ho([ax,Kx,Wx,qx],tx),Vx=Ho([Hx,bx],nx),Gx=Ho([Ux,Vx],$b),Yx=Ho([Hx],e=>{if(e)return e.dataKey}),Xx=Ho([ax,Kx,Wx,qx],ix),Jx=Ho([Jl,Zl,wc,lc,Ux,qx,Xx,ox],rx),Zx=Ho([Hx,Jx],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),Qx=Ho([Hx],e=>e.active),ew=Ho([Xx,Vx,gy,hx,Gx,ox,Kx],ux);function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach(function(t){rw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ho([ew],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});var iw=()=>{var e=Lo(hx),t=Lo(Ux),n=Lo(Bx);return Gl(nw(nw({},e),{},{scale:n}),t)},ow=(e,t)=>t,aw=(e,t,n)=>n,sw=(e,t,n,r)=>r,lw=Ho(Ux,e=>ya(e,e=>e.coordinate)),cw=Ho([ax,ow,aw,sw],tx),uw=Ho([cw,bx],nx),dw=Ho([ax,ow,aw,sw],ix),fw=Ho([Jl,Zl,wc,lc,Ux,sw,dw,ox],rx),hw=Ho([cw,fw],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),pw=Ho(Ux,uw,$b),gw=Ho([dw,uw,gy,hx,pw,ox,ow],ux),yw=Ho([cw],e=>({isActive:e.active,activeIndex:e.index}));function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(t){xw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ww(e){var t,n,{coordinate:r,payload:i,index:o,offset:a,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=i,p=o;if(!c||!f||"ScatterChart"!==d&&"axis"!==u)return null;if("ScatterChart"===d)t=f,n=bu;else if("BarChart"===d)t=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(l,f,a,s),n=gd;else if("radial"===l){var{cx:g,cy:y,radius:m,startAngle:v,endAngle:b}=yd(f);t={cx:g,cy:y,startAngle:v,endAngle:b,innerRadius:m,outerRadius:m},n=wd}else t={points:jd(l,f,a)},n=hu;var x="object"==typeof c&&"className"in c?c.className:void 0,w=bw(bw(bw(bw({stroke:"#ccc",pointerEvents:"none"},a),t),bn(c,!1)),{},{payload:h,payloadIndex:p,className:_t("recharts-tooltip-cursor",x)});return O.isValidElement(c)?O.cloneElement(c,w):O.createElement(n,w)}function jw(e){var t=iw(),n=mc(),r=jc(),i=Lo(mm);return O.createElement(ww,mw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Ow,Sw=O.createContext(null),_w={exports:{}},Pw=(Ow||(Ow=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(_w)),_w.exports),Aw=new(j(Pw)),kw="recharts.syncEvent.tooltip",Ew="recharts.syncEvent.brush";function Mw(e,t){if(t){var n=Number.parseInt(t,10);if(!Jt(n))return null==e?void 0:e[n]}}var Cw=Rs({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Tw=Cw.reducer,{createEventEmitter:Iw}=Cw.actions;function Dw(e){return e.tooltip.syncInteraction}var Nw=Rs({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:Rw,setDataStartEndIndexes:$w,setComputedData:Lw}=Nw.actions,Bw=Nw.reducer,zw=()=>{};function Fw(){var e=Do();O.useEffect(()=>{e(Iw())},[e]),function(){var e=Lo(vm),t=Lo(xm),n=Do(),r=Lo(bm),i=Lo(Ux),o=jc(),a=gc(),s=Lo(e=>e.rootProps.className);O.useEffect(()=>{if(null==e)return zw;var s=(s,l,c)=>{if(t!==c&&e===s)if("index"!==r){if(null!=i){var u;if("function"==typeof r){var d={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=r(i,d);u=i[f]}else"value"===r&&(u=i.find(e=>String(e.value)===l.payload.label));var{coordinate:h}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=h&&null!=a){var{x:p,y:g}=h,y=Math.min(p,a.x+a.width),m=Math.min(g,a.y+a.height),v={x:"horizontal"===o?u.coordinate:y,y:"horizontal"===o?m:u.coordinate},b=Yb({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label});n(b)}else n(Yb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}))}}else n(l)};return Aw.on(kw,s),()=>{Aw.off(kw,s)}},[s,n,t,e,r,i,o,a])}(),function(){var e=Lo(vm),t=Lo(xm),n=Do();O.useEffect(()=>{if(null==e)return zw;var r=(r,i,o)=>{t!==o&&e===r&&n($w(i))};return Aw.on(Ew,r),()=>{Aw.off(Ew,r)}},[n,t,e])}()}function Uw(e,t,n,r,i,o){var a=Lo(n=>((e,t,n)=>{if(null!=t){var r=ax(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),s=Lo(xm),l=Lo(vm),c=Lo(bm),u=Lo(Dw),d=null==u?void 0:u.active;O.useEffect(()=>{if(!d&&null!=l&&null!=s){var e=Yb({active:o,coordinate:n,dataKey:a,index:i,label:"number"==typeof r?String(r):r});Aw.emit(kw,l,e,s)}},[d,n,a,i,r,s,l,c,o])}function Kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ww(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kw(Object(n),!0).forEach(function(t){qw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hw(e){return e.dataKey}var Vw=[],Gw={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!eu,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Yw(e){var t=ju(e,Gw),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:a,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:f,useTranslate3d:h,wrapperStyle:p,cursor:g,shared:y,trigger:m,defaultIndex:v,portal:b,axisId:x}=t,w=Do(),j="number"==typeof v?String(v):v;O.useEffect(()=>{w(Ub({shared:y,trigger:m,axisId:x,active:n,defaultIndex:j}))},[w,y,m,x,n,j]);var _=gc(),P=tu(),A=function(e){return Lo(t=>Rb(t,e))}(y),{activeIndex:k,isActive:E}=Lo(e=>yw(e,A,m,j)),M=Lo(e=>gw(e,A,m,j)),C=Lo(e=>pw(e,A,m,j)),T=Lo(e=>hw(e,A,m,j)),I=M,D=O.useContext(Sw),N=null!=n?n:E,[R,$]=ba([I,N]),L="axis"===A?C:void 0;Uw(A,m,T,L,k,N);var B=null!=b?b:D;if(null==B)return null;var z=null!=I?I:Vw;N||(z=Vw),s&&z.length&&(z=wo(I.filter(e=>null!=e.value&&(!0!==e.hide||t.includeHidden)),u,Hw));var F=z.length>0,U=O.createElement(Qc,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:N,coordinate:T,hasPayload:F,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:_,wrapperStyle:p,lastBoundingBox:R,innerRef:$,hasPortalFromProps:Boolean(b)},function(e,t){return O.isValidElement(e)?O.cloneElement(e,t):"function"==typeof e?O.createElement(e,t):O.createElement(qc,t)}(a,Ww(Ww({},t),{},{payload:z,label:L,active:N,coordinate:T,accessibilityLayer:P})));return O.createElement(O.Fragment,null,S.createPortal(U,B),N&&O.createElement(jw,{cursor:g,tooltipEventType:A,coordinate:T,payload:I,index:k}))}var Xw,Jw,Zw,Qw,ej={},tj={};function nj(){return Xw||(Xw=1,e=tj,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t=0,n={}){"object"!=typeof n&&(n={});let r,i=null,o=null,a=null,s=0,l=null;const{leading:c=!1,trailing:u=!0,maxWait:d}=n,f="maxWait"in n,h=f?Math.max(Number(d)||0,t):0,p=t=>(null!==i&&(r=e.apply(o,i)),i=o=null,s=t,r),g=e=>(l=null,u&&null!==i?p(e):r),y=e=>{if(null===a)return!0;const n=e-a;return n>=t||n<0||f&&e-s>=h},m=()=>{const e=Date.now();if(y(e))return g(e);l=setTimeout(m,(e=>{const n=t-(null===a?0:e-a),r=h-(e-s);return f?Math.min(n,r):n})(e))},v=function(...e){const n=Date.now(),u=y(n);if(i=e,o=this,a=n,u){if(null===l)return s=d=n,l=setTimeout(m,t),c&&null!==i?p(d):r;if(f)return clearTimeout(l),l=setTimeout(m,t),p(n)}var d;return null===l&&(l=setTimeout(m,t)),r};return v.cancel=()=>{null!==l&&clearTimeout(l),s=0,a=i=o=l=null},v.flush=()=>null===l?r:g(Date.now()),v}),tj;var e}function rj(){return Qw?Zw:(Qw=1,Zw=(Jw||(Jw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nj();e.throttle=function(e,n=0,r={}){const{leading:i=!0,trailing:o=!0}=r;return t.debounce(e,n,{leading:i,maxWait:n,trailing:o})}}(ej)),ej).throttle)}const ij=j(rj());var oj=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(t){lj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cj=O.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:a=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:f,onResize:h,style:p={}}=e,g=O.useRef(null),y=O.useRef();y.current=h,O.useImperativeHandle(t,()=>g.current);var[m,v]=O.useState({containerWidth:r.width,containerHeight:r.height}),b=O.useCallback((e,t)=>{v(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);O.useEffect(()=>{var e=e=>{var t,{width:n,height:r}=e[0].contentRect;b(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};u>0&&(e=ij(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return b(n,r),t.observe(g.current),()=>{t.disconnect()}},[b,u]);var x=O.useMemo(()=>{var{containerWidth:e,containerHeight:t}=m;if(e<0||t<0)return null;oj(Zt(i)||Zt(o),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,o),oj(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=Zt(i)?e:i,u=Zt(o)?t:o;return n&&n>0&&(r?u=r/n:u&&(r=u*n),l&&u>l&&(u=l)),oj(r>0||u>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,u,i,o,a,s,n),O.Children.map(c,e=>O.cloneElement(e,{width:r,height:u,style:sj({width:r,height:u},e.props.style)}))},[n,c,o,l,s,a,m,i]);return O.createElement("div",{id:d?"".concat(d):void 0,className:_t("recharts-responsive-container",f),style:sj(sj({},p),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:g},O.createElement("div",{style:{width:0,height:0,overflow:"visible"}},x))}),uj=e=>null;function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(t){hj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}uj.displayName="Cell";var pj={widthCache:{},cacheCount:0},gj={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yj="recharts_measurement_span",mj=function(e){if(null==e||eu)return{width:0,height:0};var t,n=(t=fj({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t),r=JSON.stringify({text:e,copyStyle:n});if(pj.widthCache[r])return pj.widthCache[r];try{var i=document.getElementById(yj);i||((i=document.createElement("span")).setAttribute("id",yj),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=fj(fj({},gj),n);Object.assign(i.style,o),i.textContent="".concat(e);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return pj.widthCache[r]=s,++pj.cacheCount>2e3&&(pj.cacheCount=0,pj.widthCache={}),s}catch(l){return{width:0,height:0}}},vj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xj=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wj=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Oj=Object.keys(jj),Sj="NaN";class _j{static parse(e){var t,[,n,r]=null!==(t=wj.exec(e))&&void 0!==t?t:[];return new _j(parseFloat(n),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Jt(e)&&(this.unit=""),""===t||xj.test(t)||(this.num=NaN,this.unit=""),Oj.includes(t)&&(this.num=function(e,t){return e*jj[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new _j(NaN,""):new _j(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _j(NaN,""):new _j(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new _j(NaN,""):new _j(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new _j(NaN,""):new _j(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Jt(this.num)}}function Pj(e){if(e.includes(Sj))return Sj;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=null!==(n=vj.exec(t))&&void 0!==n?n:[],a=_j.parse(null!=r?r:""),s=_j.parse(null!=o?o:""),l="*"===i?a.multiply(s):a.divide(s);if(l.isNaN())return Sj;t=t.replace(vj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,f]=null!==(c=bj.exec(t))&&void 0!==c?c:[],h=_j.parse(null!=u?u:""),p=_j.parse(null!=f?f:""),g="+"===d?h.add(p):h.subtract(p);if(g.isNaN())return Sj;t=t.replace(bj,g.toString())}return t}var Aj=/\(([^()]*)\)/;function kj(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=Aj.exec(n));){var[,r]=t;n=n.replace(Aj,Pj(r))}return n}(t),t=Pj(t)}function Ej(e){var t=function(e){try{return kj(e)}catch(t){return Sj}}(e.slice(5,-1));return t===Sj?"":t}var Mj=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Cj=["dx","dy","angle","className","breakAll"];function Tj(){return Tj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tj.apply(null,arguments)}function Ij(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Dj=/[ \f\n\r\t\v\u2028\u2029]+/,Nj=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return sn(t)||(i=n?t.toString().split(""):t.toString().split(Dj)),{wordsWithComputedWidth:i.map(e=>({word:e,width:mj(e,r).width})),spaceWidth:n?0:mj(" ",r).width}}catch(o){return null}},Rj=e=>[{words:sn(e)?[]:e.toString().split(Dj)}],$j=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!eu){var s=Nj({breakAll:o,children:r,style:i});if(!s)return Rj(r);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,c=Qt(o),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((e,t)=>{var{word:o,width:a}=t,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[])},f=d(t),h=e=>e.reduce((e,t)=>e.width>t.width?e:t);if(!c||i)return f;if(!(f.length>o||h(f).width>Number(r)))return f;for(var p,g=e=>{var t=u.slice(0,e),n=Nj({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,i=d(n);return[i.length>o||h(i).width>Number(r),i]},y=0,m=u.length-1,v=0;y<=m&&v<=u.length-1;){var b=Math.floor((y+m)/2),x=b-1,[w,j]=g(x),[O]=g(b);if(w||O||(y=b+1),w&&O&&(m=b-1),!w&&O){p=j;break}v++}return p||f})({breakAll:o,children:r,maxLines:a,style:i},l,c,t,n)}return Rj(r)},Lj="#808080",Bj=O.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:a=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=Lj}=e,u=Ij(e,Mj),d=O.useMemo(()=>$j({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:f,dy:h,angle:p,className:g,breakAll:y}=u,m=Ij(u,Cj);if(!en(n)||!en(r))return null;var v,b=n+(Qt(f)?f:0),x=r+(Qt(h)?h:0);switch(l){case"start":v=Ej("calc(".concat(o,")"));break;case"middle":v=Ej("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:v=Ej("calc(".concat(d.length-1," * -").concat(i,")"))}var w=[];if(a){var j=d[0].width,{width:S}=u;w.push("scale(".concat(Qt(S)?S/j:1,")"))}return p&&w.push("rotate(".concat(p,", ").concat(b,", ").concat(x,")")),w.length&&(m.transform=w.join(" ")),O.createElement("text",Tj({},bn(m,!0),{ref:t,x:b,y:x,className:_t("recharts-text",g),textAnchor:s,fill:c.includes("url")?Lj:c}),d.map((e,t)=>{var n=e.words.join(y?"":" ");return O.createElement("tspan",{x:b,dy:0===t?v:i,key:"".concat(n,"-").concat(t)},n)}))});Bj.displayName="Text";var zj=["offset"],Fj=["labelRef"];function Uj(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(t){qj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hj.apply(null,arguments)}var Vj=e=>null!=e&&"function"==typeof e,Gj=(e,t,n)=>{var r,i,{position:o,viewBox:a,offset:s,className:l}=e,{cx:c,cy:u,innerRadius:d,outerRadius:f,startAngle:h,endAngle:p,clockWise:g}=a,y=(d+f)/2,m=((e,t)=>Xt(t-e)*Math.min(Math.abs(t-e),360))(h,p),v=m>=0?1:-1;"insideStart"===o?(r=h+v*s,i=g):"insideEnd"===o?(r=p-v*s,i=!g):"end"===o&&(r=p+v*s,i=g),i=m<=0?i:!i;var b=kl(c,u,y,r),x=kl(c,u,y,r+359*(i?1:-1)),w="M".concat(b.x,",").concat(b.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(i?0:1,",\n    ").concat(x.x,",").concat(x.y),j=sn(e.id)?nn("recharts-radial-line-"):e.id;return O.createElement("text",Hj({},n,{dominantBaseline:"central",className:_t("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:j,d:w})),O.createElement("textPath",{xlinkHref:"#".concat(j)},t))};function Yj(e){var t,{offset:n=5}=e,r=Wj({offset:n},Uj(e,zj)),{viewBox:i,position:o,value:a,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=r,f=gc(),h=i||f;if(!h||sn(a)&&sn(s)&&!O.isValidElement(l)&&"function"!=typeof l)return null;if(O.isValidElement(l)){var{labelRef:p}=r,g=Uj(r,Fj);return O.cloneElement(l,g)}if("function"==typeof l){if(t=O.createElement(l,r),O.isValidElement(t))return t}else t=(e=>{var{value:t,formatter:n}=e,r=sn(e.children)?t:e.children;return"function"==typeof n?n(r):r})(r);var y=(e=>"cx"in e&&Qt(e.cx))(h),m=bn(r,!0);if(y&&("insideStart"===o||"insideEnd"===o||"end"===o))return Gj(r,t,m);var v=y?(e=>{var{viewBox:t,offset:n,position:r}=e,{cx:i,cy:o,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=t,u=(l+c)/2;if("outside"===r){var{x:d,y:f}=kl(i,o,s+n,u);return{x:d,y:f,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:g}=kl(i,o,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}})(r):((e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:o,y:a,width:s,height:l}=t,c=l>=0?1:-1,u=c*r,d=c>0?"end":"start",f=c>0?"start":"end",h=s>=0?1:-1,p=h*r,g=h>0?"end":"start",y=h>0?"start":"end";if("top"===i)return Wj(Wj({},{x:o+s/2,y:a-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(a-n.y,0),width:s}:{});if("bottom"===i)return Wj(Wj({},{x:o+s/2,y:a+l+u,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(a+l),0),width:s}:{});if("left"===i){var m={x:o-p,y:a+l/2,textAnchor:g,verticalAnchor:"middle"};return Wj(Wj({},m),n?{width:Math.max(m.x-n.x,0),height:l}:{})}if("right"===i){var v={x:o+s+p,y:a+l/2,textAnchor:y,verticalAnchor:"middle"};return Wj(Wj({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:l}:{})}var b=n?{width:s,height:l}:{};return"insideLeft"===i?Wj({x:o+p,y:a+l/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===i?Wj({x:o+s-p,y:a+l/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===i?Wj({x:o+s/2,y:a+u,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===i?Wj({x:o+s/2,y:a+l-u,textAnchor:"middle",verticalAnchor:d},b):"insideTopLeft"===i?Wj({x:o+p,y:a+u,textAnchor:y,verticalAnchor:f},b):"insideTopRight"===i?Wj({x:o+s-p,y:a+u,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===i?Wj({x:o+p,y:a+l-u,textAnchor:y,verticalAnchor:d},b):"insideBottomRight"===i?Wj({x:o+s-p,y:a+l-u,textAnchor:g,verticalAnchor:d},b):i&&"object"==typeof i&&(Qt(i.x)||Zt(i.x))&&(Qt(i.y)||Zt(i.y))?Wj({x:o+rn(i.x,s),y:a+rn(i.y,l),textAnchor:"end",verticalAnchor:"end"},b):Wj({x:o+s/2,y:a+l/2,textAnchor:"middle",verticalAnchor:"middle"},b)})(r,h);return O.createElement(Bj,Hj({ref:d,className:_t("recharts-label",c)},m,v,{breakAll:u}),t)}Yj.displayName="Label";var Xj=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:o,r:a,radius:s,innerRadius:l,outerRadius:c,x:u,y:d,top:f,left:h,width:p,height:g,clockWise:y,labelViewBox:m}=e;if(m)return m;if(Qt(p)&&Qt(g)){if(Qt(u)&&Qt(d))return{x:u,y:d,width:p,height:g};if(Qt(f)&&Qt(h))return{x:f,y:h,width:p,height:g}}return Qt(u)&&Qt(d)?{x:u,y:d,width:0,height:0}:Qt(t)&&Qt(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:y}:e.viewBox?e.viewBox:void 0};Yj.parseViewBox=Xj,Yj.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:r,labelRef:i}=e,o=Xj(e),a=vn(r,Yj).map((e,n)=>O.cloneElement(e,{viewBox:t||o,key:"label-".concat(n)}));if(!n)return a;var s=((e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?O.createElement(Yj,Hj({key:"label-implicit"},r)):en(e)?O.createElement(Yj,Hj({key:"label-implicit",value:e},r)):O.isValidElement(e)?e.type===Yj?O.cloneElement(e,Wj({key:"label-implicit"},r)):O.createElement(Yj,Hj({key:"label-implicit",content:e},r)):Vj(e)?O.createElement(Yj,Hj({key:"label-implicit",content:e},r)):e&&"object"==typeof e?O.createElement(Yj,Hj({},e,{key:"label-implicit"},r)):null})(e.label,t||o,i);return[s,...a]};var Jj,Zj={},Qj={};function eO(){return Jj||(Jj=1,e=Qj,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),Qj;var e}var tO,nO,rO,iO,oO={};function aO(){return tO||(tO=1,e=oO,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),oO;var e}function sO(){return iO?rO:(iO=1,rO=(nO||(nO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO(),n=aO(),r=ri();e.last=function(e){if(r.isArrayLike(e))return t.last(n.toArray(e))}}(Zj)),Zj).last)}const lO=j(sO());var cO=["valueAccessor"],uO=["data","dataKey","clockWise","id","textBreakAll"];function dO(){return dO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dO.apply(null,arguments)}function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fO(Object(n),!0).forEach(function(t){pO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var yO=e=>Array.isArray(e.value)?lO(e.value):e.value;function mO(e){var{valueAccessor:t=yO}=e,n=gO(e,cO),{data:r,dataKey:i,clockWise:o,id:a,textBreakAll:s}=n,l=gO(n,uO);return r&&r.length?O.createElement(_n,{className:"recharts-label-list"},r.map((e,n)=>{var r=sn(i)?t(e,n):Rl(e&&e.payload,i),c=sn(a)?{}:{id:"".concat(a,"-").concat(n)};return O.createElement(Yj,dO({},bn(e,!0),l,c,{parentViewBox:e.parentViewBox,value:r,textBreakAll:s,viewBox:Yj.parseViewBox(sn(o)?e:hO(hO({},e),{},{clockWise:o})),key:"label-".concat(n),index:n}))})):null}mO.displayName="LabelList",mO.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=vn(r,mO).map((e,n)=>O.cloneElement(e,{data:t,key:"labelList-".concat(n)}));return n?[function(e,t){return e?!0===e?O.createElement(mO,{key:"labelList-implicit",data:t}):O.isValidElement(e)||Vj(e)?O.createElement(mO,{key:"labelList-implicit",data:t,content:e}):"object"==typeof e?O.createElement(mO,dO({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t),...i]:i};var vO=e=>e.graphicalItems.polarItems,bO=Ho([Wm,qm],ov),xO=Ho([vO,nv,bO],lv),wO=Ho([xO],fv),jO=Ho([wO,yy],pv),OO=Ho([jO,nv,xO],yv),SO=Ho([jO,nv,xO],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:Rl(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Rl(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),_O=()=>{},PO=Ho([nv,Wv,_O,SO,_O],qv),AO=Ho([nv,wc,jO,OO,ym,Wm,PO],Gv),kO=Ho([AO,nv,Jv],Qv);Ho([nv,AO,kO,Wm],tb);var EO=Rs({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:MO,removeRadiusAxis:CO,addAngleAxis:TO,removeAngleAxis:IO}=EO.actions,DO=EO.reducer;function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(t){$O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $O(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LO=(e,t)=>t,BO=[],zO=(e,t,n)=>0===(null==n?void 0:n.length)?BO:n,FO=Ho([yy,LO,zO],(e,t,n)=>{var r,{chartData:i}=e;if((r=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>RO(RO({},t.presentationProps),e.props))),null!=r)return r}),UO=Ho([FO,LO,zO],(e,t,n)=>{if(null!=e)return e.map((e,r)=>{var i,o,a=Rl(e,t.nameKey,t.name);return o=null!=n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Xl(a,t.dataKey),color:o,payload:e,type:t.legendType}})}),KO=Ho([vO,LO],(e,t)=>{if(e.some(e=>"pie"===e.type&&t.dataKey===e.dataKey&&t.data===e.data))return t}),WO=Ho([FO,KO,zO,lc],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:o,cells:a,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:f,tooltipType:h}=i,p=Math.abs(i.minAngle),g=((e,t)=>{var n=Xt(t-e),r=Math.min(Math.abs(t-e),360);return n*r})(c,u),y=Math.abs(g),m=o.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,v=o.filter(e=>0!==Rl(e,d,0)).length,b=y-v*p-(y>=360?v:v-1)*m,x=o.reduce((e,t)=>{var n=Rl(t,d,0);return e+(Qt(n)?n:0)},0);return x>0&&(n=o.map((e,t)=>{var n,o=Rl(e,d,0),u=Rl(e,f,t),y=((e,t,n)=>{var{top:r,left:i,width:o,height:a}=t,s=El(o,a),l=i+rn(e.cx,o,o/2),c=r+rn(e.cy,a,a/2),u=rn(e.innerRadius,s,0),d=((e,t,n)=>"function"==typeof t?t(e):rn(t,n,.8*n))(n,e.outerRadius,s),f=e.maxRadius||Math.sqrt(o*o+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}})(i,s,e),v=(Qt(o)?o:0)/x,w=TS(TS({},e),a&&a[t]&&a[t].props),j=(n=t?r.endAngle+Xt(g)*m*(0!==o?1:0):c)+Xt(g)*((0!==o?p:0)+v*b),O=(n+j)/2,S=(y.innerRadius+y.outerRadius)/2,_=[{name:u,value:o,payload:w,dataKey:d,type:h}],P=kl(y.cx,y.cy,S,O);return r=TS(TS(TS(TS({},i.presentationProps),{},{percent:v,cornerRadius:l,name:u,tooltipPayload:_,midAngle:O,middleRadius:S,tooltipPosition:P},w),y),{},{value:Rl(e,d),startAngle:n,endAngle:j,payload:w,paddingAngle:Xt(g)*m})})),n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),qO=Rs({name:"graphicalItems",initialState:{countOfBars:0,cartesianItems:[],polarItems:[]},reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=gs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=gs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=gs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:HO,removeBar:VO,addCartesianGraphicalItem:GO,replaceCartesianGraphicalItem:YO,removeCartesianGraphicalItem:XO,addPolarGraphicalItem:JO,removePolarGraphicalItem:ZO}=qO.actions,QO=qO.reducer;function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(t){nS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rS(e){var t=Do(),n=O.useRef(null);return O.useEffect(()=>{var r=tS(tS({},e),{},{stackId:Kl(e.stackId)});null===n.current?t(GO(r)):n.current!==r&&t(YO({prev:n.current,next:r})),n.current=r},[t,e]),O.useEffect(()=>()=>{n.current&&(t(XO(n.current)),n.current=null)},[t]),null}function iS(e){var t=Do();return O.useEffect(()=>(t(JO(e)),()=>{t(ZO(e))}),[t,e]),null}var oS,aS,sS,lS={};function cS(){return sS?aS:(sS=1,aS=(oS||(oS=1,e=lS,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){var t;if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const n=e[Symbol.toStringTag];return null!=n&&!!(null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))?void 0:t.writable)&&e.toString()===`[object ${n}]`}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}),lS).isPlainObject);var e}const uS=j(cS());function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dS.apply(null,arguments)}var fS=(e,t,n,r,i)=>{var o,a=n-r;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z")},hS={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pS=e=>{var t=ju(e,hS),n=O.useRef(),[r,i]=O.useState(-1);O.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:a,upperWidth:s,lowerWidth:l,height:c,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t;if(o!==+o||a!==+a||s!==+s||l!==+l||c!==+c||0===s&&0===l||0===c)return null;var g=_t("recharts-trapezoid",u);return p?O.createElement(dd,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:o,y:a},to:{upperWidth:s,lowerWidth:l,height:c,x:o,y:a},duration:f,animationEasing:d,isActive:p},e=>{var{upperWidth:i,lowerWidth:o,height:a,x:s,y:l}=e;return O.createElement(dd,{canBegin:r>0,from:"0px ".concat(-1===r?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,easing:d},O.createElement("path",dS({},bn(t,!0),{className:g,d:fS(s,l,i,o,a),ref:n})))}):O.createElement("g",null,O.createElement("path",dS({},bn(t,!0),{className:g,d:fS(o,a,s,l,c)})))},gS=["option","shapeType","propTransformer","activeClassName","isActive"];function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yS(Object(n),!0).forEach(function(t){vS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bS(e,t){return mS(mS({},t),e)}function xS(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return O.createElement(gd,n);case"trapezoid":return O.createElement(pS,n);case"sector":return O.createElement(wd,n);case"symbols":if(function(e){return"symbols"===e}(t))return O.createElement(Lr,n);break;default:return null}}function wS(e){var t,{option:n,shapeType:r,propTransformer:i=bS,activeClassName:o="recharts-active-shape",isActive:a}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gS);if(O.isValidElement(n))t=O.cloneElement(n,mS(mS({},s),function(e){return O.isValidElement(e)?e.props:e}(n)));else if("function"==typeof n)t=n(s);else if(uS(n)&&"boolean"!=typeof n){var l=i(n,s);t=O.createElement(xS,{shapeType:r,elementProps:l})}else{var c=s;t=O.createElement(xS,{shapeType:r,elementProps:c})}return a?O.createElement(_n,{className:o},t):t}var jS=(e,t)=>{var n=Do();return(r,i)=>o=>{null==e||e(r,i,o),n(Kb({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},OS=e=>{var t=Do();return(n,r)=>i=>{null==e||e(n,r,i),t(Wb())}},SS=(e,t)=>{var n=Do();return(r,i)=>o=>{null==e||e(r,i,o),n(Hb({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function _S(e){var{fn:t,args:n}=e,r=Do(),i=fc();return O.useEffect(()=>{if(!i){var e=t(n);return r(zb(e)),()=>{r(Fb(e))}}},[t,n,r,i]),null}var PS=()=>{};function AS(e){var{legendPayload:t}=e,n=Do(),r=fc();return O.useEffect(()=>r?PS:(n(Pc(t)),()=>{n(Ac(t))}),[n,r,t]),null}function kS(e){var{legendPayload:t}=e,n=Do(),r=Lo(wc);return O.useEffect(()=>"centric"!==r&&"radial"!==r?PS:(n(Pc(t)),()=>{n(Ac(t))}),[n,r,t]),null}function ES(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=O.useRef(nn(t)),r=O.useRef(e);return r.current!==e&&(n.current=nn(t),r.current=e),n.current}var MS=["onMouseEnter","onClick","onMouseLeave"];function CS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CS(Object(n),!0).forEach(function(t){IS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DS.apply(null,arguments)}function NS(e){var t=O.useMemo(()=>bn(e,!1),[e]),n=O.useMemo(()=>vn(e.children,uj),[e.children]),r=O.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=Lo(e=>UO(e,r,n));return O.createElement(kS,{legendPayload:i})}function RS(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:s,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:null==r?void 0:r.map(e=>e.tooltipPayload),positions:null==r?void 0:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:a,dataKey:t,nameKey:n,name:Xl(s,t),hide:l,type:c,color:a,unit:""}}}function $S(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!t)return null;var s=bn(n,!1),l=bn(i,!1),c=bn(o,!1),u="object"==typeof i&&"offsetRadius"in i&&i.offsetRadius||20,d=t.map((e,t)=>{var n,r,d=(e.startAngle+e.endAngle)/2,f=kl(e.cx,e.cy,e.outerRadius+u,d),h=TS(TS(TS(TS({},s),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(n=f.x,r=e.cx,n>r?"start":n<r?"end":"middle")},f),p=TS(TS(TS(TS({},s),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[kl(e.cx,e.cy,e.outerRadius,d),f],key:"line"});return O.createElement(_n,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},o&&((e,t)=>{if(O.isValidElement(e))return O.cloneElement(e,t);if("function"==typeof e)return e(t);var n=_t("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return O.createElement(hu,DS({},t,{type:"linear",className:n}))})(o,p),((e,t,n)=>{if(O.isValidElement(e))return O.cloneElement(e,t);var r=n;if("function"==typeof e&&(r=e(t),O.isValidElement(r)))return r;var i=_t("recharts-pie-label-text","boolean"!=typeof e&&"function"!=typeof e?e.className:"");return O.createElement(Bj,DS({},t,{alignmentBaseline:"middle",className:i}),r)})(i,h,Rl(e,a)))});return O.createElement(_n,{className:"recharts-pie-labels"},d)}function LS(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:o}=e,a=Lo(Vx),{onMouseEnter:s,onClick:l,onMouseLeave:c}=i,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,MS),d=jS(s,i.dataKey),f=OS(c),h=SS(l,i.dataKey);return null==t?null:O.createElement(O.Fragment,null,t.map((e,o)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==t.length)return null;var s=n&&String(o)===a,l=s?n:a?r:null,c=TS(TS({},e),{},{stroke:e.stroke,tabIndex:-1,[rc]:o,[ic]:i.dataKey});return O.createElement(_n,DS({tabIndex:-1,className:"recharts-pie-sector"},hn(u,e,o),{onMouseEnter:d(e,o),onMouseLeave:f(e,o),onClick:h(e,o),key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o)}),O.createElement(wS,DS({option:l,isActive:s,shapeType:"sector"},c)))}),O.createElement($S,{sectors:t,props:i,showLabels:o}))}function BS(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:s,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:d}=t,f=ES(t,"recharts-pie-"),h=n.current,[p,g]=O.useState(!0),y=O.useCallback(()=>{"function"==typeof d&&d(),g(!1)},[d]),m=O.useCallback(()=>{"function"==typeof u&&u(),g(!0)},[u]);return O.createElement(dd,{begin:o,duration:a,isActive:i,easing:s,from:{t:0},to:{t:1},onAnimationStart:m,onAnimationEnd:y,key:f},e=>{var{t:i}=e,o=[],a=(r&&r[0]).startAngle;return r.forEach((e,t)=>{var n=h&&h[t],r=t>0?Wt(e,"paddingAngle",0):0;if(n){var s=an(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=TS(TS({},e),{},{startAngle:a+r,endAngle:a+s(i)+r});o.push(l),a=l.endAngle}else{var{endAngle:c,startAngle:u}=e,d=an(0,c-u)(i),f=TS(TS({},e),{},{startAngle:a+r,endAngle:a+d+r});o.push(f),a=f.endAngle}}),n.current=o,O.createElement(_n,null,O.createElement(LS,{sectors:o,activeShape:l,inactiveShape:c,allOtherPieProps:t,showLabels:!p}))})}function zS(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,o=O.useRef(null),a=o.current;return n&&t&&t.length&&(!a||a!==t)?O.createElement(BS,{props:e,previousSectorsRef:o}):O.createElement(LS,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function FS(e){var{hide:t,className:n,rootTabIndex:r}=e,i=_t("recharts-pie",n);return t?null:O.createElement(_n,{tabIndex:r,className:i},O.createElement(zS,e))}var US={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!eu,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function KS(e){var t=ju(e,US),n=O.useMemo(()=>vn(e.children,uj),[e.children]),r=bn(t,!1),i=O.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),o=Lo(e=>WO(e,i,n));return O.createElement(O.Fragment,null,O.createElement(_S,{fn:RS,args:TS(TS({},t),{},{sectors:o})}),O.createElement(FS,DS({},t,{sectors:o})))}class WS extends O.PureComponent{constructor(){super(...arguments),IS(this,"id",nn("recharts-pie-"))}render(){return O.createElement(O.Fragment,null,O.createElement(iS,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),O.createElement(NS,this.props),O.createElement(KS,this.props),this.props.children)}}IS(WS,"displayName","Pie"),IS(WS,"defaultProps",US);var qS=Ho([lc],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),HS=Ho([qS,Jl,Zl],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),VS=()=>Lo(HS),GS=()=>{var e=Do();return O.useEffect(()=>(e(HO()),()=>{e(VO())})),null},YS=["children"],XS=()=>{},JS=O.createContext({addErrorBar:XS,removeErrorBar:XS}),ZS={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},QS=O.createContext(ZS);function e_(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,YS);return O.createElement(QS.Provider,{value:n},t)}var t_=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,data:a,stackId:s,hide:l,type:c,barSize:u}=e,[d,f]=O.useState([]),h=O.useCallback(e=>{f(t=>[...t,e])},[f]),p=O.useCallback(e=>{f(t=>t.filter(t=>t!==e))},[f]),g=fc();return O.createElement(JS.Provider,{value:{addErrorBar:h,removeErrorBar:p}},O.createElement(rS,{type:c,data:a,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:o,errorBars:d,stackId:s,hide:l,barSize:u,isPanorama:g}),t)};function n_(e){var{addErrorBar:t,removeErrorBar:n}=O.useContext(JS);return O.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var r_=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function i_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(null,arguments)}function a_(e){var{direction:t,width:n,dataKey:r,isAnimationActive:i,animationBegin:o,animationDuration:a,animationEasing:s}=e,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,r_),c=bn(l,!1),{data:u,dataPointFormatter:d,xAxisId:f,yAxisId:h,errorBarOffset:p}=O.useContext(QS),g=(e=>{var t=fc();return Lo(n=>Mb(n,"xAxis",e,t))})(f),y=(e=>{var t=fc();return Lo(n=>Mb(n,"yAxis",e,t))})(h);if(null==(null==g?void 0:g.scale)||null==(null==y?void 0:y.scale)||null==u)return null;if("x"===t&&"number"!==g.type)return null;var m=u.map(e=>{var{x:l,y:u,value:f,errorVal:h}=d(e,r,t);if(!h)return null;var m,v,b=[];if(Array.isArray(h)?[m,v]=h:m=v=h,"x"===t){var{scale:x}=g,w=u+p,j=w+n,S=w-n,_=x(f-m),P=x(f+v);b.push({x1:P,y1:j,x2:P,y2:S}),b.push({x1:_,y1:w,x2:P,y2:w}),b.push({x1:_,y1:j,x2:_,y2:S})}else if("y"===t){var{scale:A}=y,k=l+p,E=k-n,M=k+n,C=A(f-m),T=A(f+v);b.push({x1:E,y1:T,x2:M,y2:T}),b.push({x1:k,y1:C,x2:k,y2:T}),b.push({x1:E,y1:C,x2:M,y2:C})}var I="".concat(l+p,"px ").concat(u+p,"px");return O.createElement(_n,o_({className:"recharts-errorBar",key:"bar-".concat(b.map(e=>"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)))},c),b.map(e=>{var t=i?{transformOrigin:"".concat(e.x1-5,"px")}:void 0;return O.createElement(dd,{from:{transform:"scaleY(0)",transformOrigin:I},to:{transform:"scaleY(1)",transformOrigin:I},begin:o,easing:s,isActive:i,duration:a,key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2),style:{transformOrigin:I}},O.createElement("line",o_({},e,{style:t})))}))});return O.createElement(_n,{className:"recharts-errorBars"},m)}var s_=O.createContext(void 0);function l_(e){var{direction:t,children:n}=e;return O.createElement(s_.Provider,{value:t},n)}var c_={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function u_(e){var t,n,r=(t=e.direction,n=O.useContext(s_),null!=t?t:null!=n?n:"x"),{width:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l}=ju(e,c_);return O.createElement(O.Fragment,null,O.createElement(n_,{dataKey:e.dataKey,direction:r}),O.createElement(a_,o_({},e,{direction:r,width:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l})))}class d_ extends O.Component{render(){return O.createElement(u_,this.props)}}i_(d_,"defaultProps",c_),i_(d_,"displayName","ErrorBar");var f_=["x","y"];function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h_.apply(null,arguments)}function p_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p_(Object(n),!0).forEach(function(t){y_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m_(e,t){var{x:n,y:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,f_),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),f=parseInt(d,10);return g_(g_(g_(g_(g_({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function v_(e){return O.createElement(wS,h_({shapeType:"rectangle",propTransformer:m_,activeClassName:"recharts-active-bar"},e))}var b_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(Qt(e))return e;var i=Qt(n)||sn(n);return i?e(n,r):(i||function(){throw new Error("Invariant failed")}(),t)}};function x_(e,t){var n,r,i=Lo(t=>Jm(t,e)),o=Lo(e=>Qm(e,t)),a=null!==(n=null==i?void 0:i.allowDataOverflow)&&void 0!==n?n:Xm.allowDataOverflow,s=null!==(r=null==o?void 0:o.allowDataOverflow)&&void 0!==r?r:Zm.allowDataOverflow;return{needClip:a||s,needClipX:a,needClipY:s}}function w_(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=VS(),{needClipX:o,needClipY:a,needClip:s}=x_(t,n);if(!s)return null;var{x:l,y:c,width:u,height:d}=i;return O.createElement("clipPath",{id:"clipPath-".concat(r)},O.createElement("rect",{x:o?l:l-u/2,y:a?c:c-d/2,width:o?u:2*u,height:a?d:2*d}))}var j_=["onMouseEnter","onMouseLeave","onClick"],O_=["value","background","tooltipPosition"],S_=["onMouseEnter","onClick","onMouseLeave"];function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},__.apply(null,arguments)}function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P_(Object(n),!0).forEach(function(t){k_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var M_=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Xl(n,t),payload:e}]};function C_(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Xl(o,t),hide:a,type:e.tooltipType,color:e.fill,unit:s}}}function T_(e){var t=Lo(Vx),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:a,onMouseLeave:s,onClick:l}=o,c=E_(o,j_),u=jS(a,r),d=OS(s),f=SS(l,r);if(!i||null==n)return null;var h=bn(i,!1);return O.createElement(O.Fragment,null,n.map((e,n)=>{var{value:o,background:a,tooltipPosition:s}=e,l=E_(e,O_);if(!a)return null;var p=u(e,n),g=d(e,n),y=f(e,n),m=A_(A_(A_(A_(A_({option:i,isActive:String(n)===t},l),{},{fill:"#eee"},a),h),hn(c,e,n)),{},{onMouseEnter:p,onMouseLeave:g,onClick:y,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return O.createElement(v_,__({key:"background-bar-".concat(n)},m))}))}function I_(e){var{data:t,props:n,showLabels:r}=e,i=bn(n,!1),{shape:o,dataKey:a,activeBar:s}=n,l=Lo(Vx),c=Lo(Yx),{onMouseEnter:u,onClick:d,onMouseLeave:f}=n,h=E_(n,S_),p=jS(u,a),g=OS(f),y=SS(d,a);return t?O.createElement(O.Fragment,null,t.map((e,t)=>{var n=s&&String(t)===l&&(null==c||a===c),r=n?s:o,u=A_(A_(A_({},i),e),{},{isActive:n,option:r,index:t,dataKey:a});return O.createElement(_n,__({className:"recharts-bar-rectangle"},hn(h,e,t),{onMouseEnter:p(e,t),onMouseLeave:g(e,t),onClick:y(e,t),key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t)}),O.createElement(v_,u))}),r&&mO.renderCallByParent(n,t)):null}function D_(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=n.current,f=ES(t,"recharts-bar-"),[h,p]=O.useState(!1),g=O.useCallback(()=>{"function"==typeof c&&c(),p(!1)},[c]),y=O.useCallback(()=>{"function"==typeof u&&u(),p(!0)},[u]);return O.createElement(dd,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:y,key:f},e=>{var{t:o}=e,a=1===o?r:r.map((e,t)=>{var n=d&&d[t];if(n){var r=an(n.x,e.x),a=an(n.y,e.y),s=an(n.width,e.width),l=an(n.height,e.height);return A_(A_({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var c=an(0,e.height)(o);return A_(A_({},e),{},{y:e.y+e.height-c,height:c})}var u=an(0,e.width)(o);return A_(A_({},e),{},{width:u})});return o>0&&(n.current=a),O.createElement(_n,null,O.createElement(I_,{props:t,data:a,showLabels:!h}))})}function N_(e){var{data:t,isAnimationActive:n}=e,r=O.useRef(null);return n&&t&&t.length&&(null==r.current||r.current!==t)?O.createElement(D_,{previousRectanglesRef:r,props:e}):O.createElement(I_,{props:e,data:t,showLabels:!0})}var R_=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Rl(e,t)}};class $_ extends O.PureComponent{constructor(){super(...arguments),k_(this,"id",nn("recharts-bar-"))}render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:i,yAxisId:o,needClip:a,background:s,id:l,layout:c}=this.props;if(e)return null;var u=_t("recharts-bar",r),d=sn(l)?this.id:l;return O.createElement(_n,{className:u},a&&O.createElement("defs",null,O.createElement(w_,{clipPathId:d,xAxisId:i,yAxisId:o})),O.createElement(_n,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(d,")"):null},O.createElement(T_,{data:t,dataKey:n,background:s,allOtherBarProps:this.props}),O.createElement(N_,this.props)),O.createElement(l_,{direction:"horizontal"===c?"y":"x"},this.props.children))}}var L_={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!eu,legendType:"rect",minPointSize:0,xAxisId:0,yAxisId:0};function B_(e){var t,{xAxisId:n,yAxisId:r,hide:i,legendType:o,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=ju(e,L_),{needClip:f}=x_(n,r),h=jc(),p=fc(),g=O.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:a,stackId:Kl(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,a,e.stackId]),y=vn(e.children,uj),m=Lo(e=>iP(e,n,r,p,g,y));if("vertical"!==h&&"horizontal"!==h)return null;var v=null==m?void 0:m[0];return t=null==v||null==v.height||null==v.width?0:"vertical"===h?v.height/2:v.width/2,O.createElement(e_,{xAxisId:n,yAxisId:r,data:m,dataPointFormatter:R_,errorBarOffset:t},O.createElement($_,__({},e,{layout:h,needClip:f,data:m,xAxisId:n,yAxisId:r,hide:i,legendType:o,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function z_(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:f,cells:h}=e,p="horizontal"===t?s:a,g=u?p.scale.domain():null,y=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:p});return d.map((e,d)=>{var p,m,v,b,x,w;u?p=((e,t)=>{if(!t||2!==t.length||!Qt(t[0])||!Qt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Qt(e[0])||e[0]<n)&&(i[0]=n),(!Qt(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(u[d],g):(p=Rl(e,n),Array.isArray(p)||(p=[y,p]));var j=b_(r,0)(p[1],d);if("horizontal"===t){var O,[S,_]=[s.scale(p[0]),s.scale(p[1])];m=Wl({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:e,index:d}),v=null!==(O=null!=_?_:S)&&void 0!==O?O:void 0,b=i.size;var P=S-_;if(x=Jt(P)?0:P,w={x:m,y:f.top,width:b,height:f.height},Math.abs(j)>0&&Math.abs(x)<Math.abs(j)){var A=Xt(x||j)*(Math.abs(j)-Math.abs(x));v-=A,x+=A}}else{var[k,E]=[a.scale(p[0]),a.scale(p[1])];m=k,v=Wl({axis:s,ticks:c,bandSize:o,offset:i.offset,entry:e,index:d}),b=E-k,x=i.size,w={x:f.left,y:v,width:f.width,height:x},Math.abs(j)>0&&Math.abs(b)<Math.abs(j)&&(b+=Xt(b||j)*(Math.abs(j)-Math.abs(b)))}return A_(A_({},e),{},{x:m,y:v,width:b,height:x,value:u?p:p[1],payload:e,background:w,tooltipPosition:{x:m+b/2,y:v+x/2}},h&&h[d]&&h[d].props)})}class F_ extends O.PureComponent{render(){return O.createElement(t_,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},O.createElement(GS,null),O.createElement(AS,{legendPayload:M_(this.props)}),O.createElement(_S,{fn:C_,args:this.props}),O.createElement(B_,this.props))}}function U_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U_(Object(n),!0).forEach(function(t){W_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function W_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}k_(F_,"displayName","Bar"),k_(F_,"defaultProps",L_);var q_=(e,t,n,r,i)=>i,H_=(e,t,n)=>{var r=null!=n?n:e;if(!sn(r))return rn(r,t,0)},V_=Ho([wc,av,(e,t)=>t,(e,t,n)=>n,(e,t,n,r)=>r],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type));function G_(e){return null!=e.stackId&&null!=e.dataKey}var Y_,X_,J_,Z_=Ho([V_,e=>e.rootProps.barSize,(e,t,n)=>"horizontal"===wc(e)?jb(e,"xAxis",t):jb(e,"yAxis",n)],(e,t,n)=>{var r=e.filter(G_),i=e.filter(e=>null==e.stackId),o=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(o).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:H_(t,n,i[0].barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:H_(t,n,e.barSize)}))]}),Q_=(e,t,n,r)=>{var i,o;return"horizontal"===wc(e)?(i=Mb(e,"xAxis",t,r),o=Eb(e,"xAxis",t,r)):(i=Mb(e,"yAxis",n,r),o=Eb(e,"yAxis",n,r)),Gl(i,o)},eP=Ho([Z_,pm,e=>e.rootProps.barGap,gm,(e,t,n,r,i)=>{var o,a,s,l,c=wc(e),u=pm(e),{maxBarSize:d}=i,f=sn(d)?u:d;return"horizontal"===c?(s=Mb(e,"xAxis",t,r),l=Eb(e,"xAxis",t,r)):(s=Mb(e,"yAxis",n,r),l=Eb(e,"yAxis",n,r)),null!==(o=null!==(a=Gl(s,l,!0))&&void 0!==a?a:f)&&void 0!==o?o:0},Q_,(e,t,n,r,i)=>i.maxBarSize],(e,t,n,r,i,o,a)=>{var s=sn(a)?t:a,l=function(e,t,n,r,i){var o=r.length;if(!(o<1)){var a,s=rn(e,n,0,!0),l=[];if(nu(r[0].barSize)){var c=!1,u=n/o,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(o-1)*s)>=n&&(d-=(o-1)*s,s=0),d>=n&&u>0&&(c=!0,d=o*(u*=.9));var f={offset:((n-d)/2|0)-s,size:0};a=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f.offset+f.size+s,size:c?u:null!==(n=t.barSize)&&void 0!==n?n:0}}];return f=r[r.length-1].position,r},l)}else{var h=rn(t,n,0,!0);n-2*h-(o-1)*s<=0&&(s=0);var p=(n-2*h-(o-1)*s)/o;p>1&&(p>>=0);var g=nu(i)?Math.min(p,i):p;a=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h+(p+s)*n+(p-g)/2,size:g}}],l)}return a}}(n,r,i!==o?i:o,e,s);return i!==o&&null!=l&&(l=l.map(e=>K_(K_({},e),{},{position:K_(K_({},e.position),{},{offset:e.position.offset-i/2})}))),l}),tP=Ho([eP,q_],(e,t)=>{if(null!=e){var n=e.find(e=>e.stackId===t.stackId&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),nP=Ho([av,q_],(e,t)=>{if(e.some(e=>"bar"===e.type&&t.dataKey===e.dataKey&&t.stackId===e.stackId&&t.stackId===e.stackId))return t}),rP=Ho([(e,t,n,r)=>"horizontal"===wc(e)?jv(e,"yAxis",n,r):jv(e,"xAxis",t,r),q_],(e,t)=>{if(e&&null!=(null==t?void 0:t.dataKey)){var{stackId:n}=t;if(null!=n){var r=e[n];if(r){var{stackedData:i}=r;if(i)return i.find(e=>e.key===t.dataKey)}}}}),iP=Ho([lc,(e,t,n,r)=>Mb(e,"xAxis",t,r),(e,t,n,r)=>Mb(e,"yAxis",n,r),(e,t,n,r)=>Eb(e,"xAxis",t,r),(e,t,n,r)=>Eb(e,"yAxis",n,r),tP,wc,my,Q_,rP,nP,(e,t,n,r,i,o)=>o],(e,t,n,r,i,o,a,s,l,c,u,d)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=s;if(null!=u&&null!=o&&("horizontal"===a||"vertical"===a)&&null!=t&&null!=n&&null!=r&&null!=i&&null!=l){var g,{data:y}=u;if(null!=(g=null!=y&&y.length>0?y:null==f?void 0:f.slice(h,p+1)))return z_({layout:a,barSettings:u,pos:o,bandSize:l,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:c,displayedData:g,offset:e,cells:d})}}),oP=e=>{var{chartData:t}=e,n=Do(),r=fc();return O.useEffect(()=>r?()=>{}:(n(Rw(t)),()=>{n(Rw(void 0))}),[t,n,r]),null},aP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},sP=Rs({name:"brush",initialState:aP,reducers:{setBrushSettings:(e,t)=>null==t.payload?aP:t.payload}}),{setBrushSettings:lP}=sP.actions,cP=sP.reducer;class uP{static create(e){return new uP(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}Y_=uP,J_=1e-4,(X_=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(X_="EPS"))in Y_?Object.defineProperty(Y_,X_,{value:J_,enumerable:!0,configurable:!0,writable:!0}):Y_[X_]=J_;var dP=Rs({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=gs(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=gs(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=gs(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:fP,removeDot:hP,addArea:pP,removeArea:gP,addLine:yP,removeLine:mP}=dP.actions,vP=dP.reducer,bP=O.createContext(void 0),xP=e=>{var{children:t}=e,[n]=O.useState("".concat(nn("recharts"),"-clip")),r=VS();if(null==r)return null;var{x:i,y:o,width:a,height:s}=r;return O.createElement(bP.Provider,{value:n},O.createElement("defs",null,O.createElement("clipPath",{id:n},O.createElement("rect",{x:i,y:o,height:s,width:a}))),t)};function wP(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function jP(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function OP(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function SP(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function PP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(t){AP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kP(e,t,n){var r,{tick:i,ticks:o,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!o||!o.length||!i)return[];if(Qt(c)||eu)return null!==(r=function(e,t){return jP(e,t+1)}(o,Qt(c)?c:0))&&void 0!==r?r:[];var h=[],p="top"===l||"bottom"===l?"width":"height",g=d&&"width"===p?mj(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(e,r)=>{var i="function"==typeof u?u(e.value,r):e.value;return"width"===p?OP(mj(i,{fontSize:t,letterSpacing:n}),g,f):mj(i,{fontSize:t,letterSpacing:n})[p]},m=o.length>=2?Xt(o[1].coordinate-o[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:o,width:a,height:s}=e;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(a,m,p);return"equidistantPreserveStart"===c?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,f=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:jP(r,u)};var o,a=c,f=()=>(void 0===o&&(o=n(t,a)),o),h=t.coordinate,p=0===c||SP(e,h,f,d,l);p||(c=0,d=s,u+=1),p&&(d=h+e*(f()/2+i),c+=u)};u<=a.length;)if(o=f())return o.v;return[]}(m,v,y,o,s):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:c}=t;if(o){var u=r[s-1],d=n(u,s-1),f=e*(u.coordinate+e*d/2-c);a[s-1]=u=PP(PP({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),SP(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=PP(PP({},u),{},{isShow:!0}))}for(var h=o?s-1:s,p=function(t){var r,o=a[t],s=()=>(void 0===r&&(r=n(o,t)),r);if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=PP(PP({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=PP(PP({},o),{},{tickCoord:o.coordinate});SP(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=PP(PP({},o),{},{isShow:!0}))},g=0;g<h;g++)p(g);return a}(m,v,y,o,s,"preserveStartEnd"===c):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,c=function(t){var r,c=o[t],u=()=>(void 0===r&&(r=n(c,t)),r);if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=PP(PP({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=PP(PP({},c),{},{tickCoord:c.coordinate});SP(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=PP(PP({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(m,v,y,o,s),h.filter(e=>e.isShow))}var EP=["viewBox"],MP=["viewBox"];function CP(){return CP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CP.apply(null,arguments)}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(t){NP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class RP extends O.Component{constructor(e){super(e),this.tickRefs=O.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,t){var{viewBox:n}=e,r=DP(e,EP),i=this.props,{viewBox:o}=i,a=DP(i,MP);return!wP(n,o)||!wP(r,a)||!wP(t,this.state)}getTickLineCoord(e){var t,n,r,i,o,a,{x:s,y:l,width:c,height:u,orientation:d,tickSize:f,mirror:h,tickMargin:p}=this.props,g=h?-1:1,y=e.tickSize||f,m=Qt(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,a=(r=(i=l+ +!h*u)-g*y)-g*p,o=m;break;case"left":r=i=e.coordinate,o=(t=(n=s+ +!h*c)-g*y)-g*p,a=m;break;case"right":r=i=e.coordinate,o=(t=(n=s+ +h*c)+g*y)+g*p,a=m;break;default:t=n=e.coordinate,a=(r=(i=l+ +h*u)+g*y)+g*p,o=m}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}getTickTextAnchor(){var e,{orientation:t,mirror:n}=this.props;switch(t){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}getTickVerticalAnchor(){var{orientation:e,mirror:t}=this.props;switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}renderAxisLine(){var{x:e,y:t,width:n,height:r,orientation:i,mirror:o,axisLine:a}=this.props,s=IP(IP(IP({},bn(this.props,!1)),bn(a,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var l=+("top"===i&&!o||"bottom"===i&&o);s=IP(IP({},s),{},{x1:e,y1:t+l*r,x2:e+n,y2:t+l*r})}else{var c=+("left"===i&&!o||"right"===i&&o);s=IP(IP({},s),{},{x1:e+c*n,y1:t,x2:e+c*n,y2:t+r})}return O.createElement("line",CP({},s,{className:_t("recharts-cartesian-axis-line",Wt(a,"className"))}))}static renderTickItem(e,t,n){var r,i=_t(t.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(e))r=O.cloneElement(e,IP(IP({},t),{},{className:i}));else if("function"==typeof e)r=e(IP(IP({},t),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!=typeof e&&(o=_t(o,e.className)),r=O.createElement(Bj,CP({},t,{className:o}),n)}return r}renderTicks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],{tickLine:r,stroke:i,tick:o,tickFormatter:a,unit:s}=this.props,l=kP(IP(IP({},this.props),{},{ticks:n}),e,t),c=this.getTickTextAnchor(),u=this.getTickVerticalAnchor(),d=bn(this.props,!1),f=bn(o,!1),h=IP(IP({},d),{},{fill:"none"},bn(r,!1)),p=l.map((e,t)=>{var{line:n,tick:p}=this.getTickLineCoord(e),g=IP(IP(IP(IP({textAnchor:c,verticalAnchor:u},d),{},{stroke:"none",fill:i},f),p),{},{index:t,payload:e,visibleTicksCount:l.length,tickFormatter:a});return O.createElement(_n,CP({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},hn(this.props,e,t)),r&&O.createElement("line",CP({},h,n,{className:_t("recharts-cartesian-axis-tick-line",Wt(r,"className"))})),o&&RP.renderTickItem(o,g,"".concat("function"==typeof a?a(e.value,t):e.value).concat(s||"")))});return p.length>0?O.createElement("g",{className:"recharts-cartesian-axis-ticks"},p):null}render(){var{axisLine:e,width:t,height:n,className:r,hide:i}=this.props;if(i)return null;var{ticks:o}=this.props;return null!=t&&t<=0||null!=n&&n<=0?null:O.createElement(_n,{className:_t("recharts-cartesian-axis",r),ref:e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(t);var n=t[0];if(n){var r=window.getComputedStyle(n).fontSize,i=window.getComputedStyle(n).letterSpacing;r===this.state.fontSize&&i===this.state.letterSpacing||this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Yj.renderCallByParent(this.props))}}NP(RP,"displayName","CartesianAxis"),NP(RP,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $P=["x1","y1","x2","y2","key"],LP=["offset"],BP=["xAxisId","yAxisId"],zP=["xAxisId","yAxisId"];function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(t){KP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WP(){return WP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WP.apply(null,arguments)}function qP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HP=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:s}=e;return O.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function VP(e,t){var n;if(O.isValidElement(e))n=O.cloneElement(e,t);else if("function"==typeof e)n=e(t);else{var{x1:r,y1:i,x2:o,y2:a,key:s}=t,l=qP(t,$P),c=bn(l,!1),{offset:u}=c,d=qP(c,LP);n=O.createElement("line",WP({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function GP(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=e,s=qP(e,BP),l=i.map((e,i)=>{var o=UP(UP({},s),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(i),index:i});return VP(r,o)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function YP(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=e,s=qP(e,zP),l=i.map((e,i)=>{var o=UP(UP({},s),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(i),index:i});return VP(r,o)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function XP(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,s)=>{var l=c[s+1]?c[s+1]-e:i+a-e;if(l<=0)return null;var u=s%t.length;return O.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:o,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function JP(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,t)=>{var l=c[t+1]?c[t+1]-e:i+a-e;if(l<=0)return null;var u=t%n.length;return O.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:l,height:s,stroke:"none",fill:n[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var ZP=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return Ll(kP(UP(UP(UP({},RP.defaultProps),n),{},{ticks:Bl(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},QP=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return Ll(kP(UP(UP(UP({},RP.defaultProps),n),{},{ticks:Bl(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},eA={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function tA(e){var t=vc(),n=bc(),r=mc(),i=UP(UP({},ju(e,eA)),{},{x:Qt(e.x)?e.x:r.left,y:Qt(e.y)?e.y:r.top,width:Qt(e.width)?e.width:r.width,height:Qt(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:a,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:h}=i,p=fc(),g=Lo(e=>Ab(e,"xAxis",o,p)),y=Lo(e=>Ab(e,"yAxis",a,p));if(!Qt(c)||c<=0||!Qt(u)||u<=0||!Qt(s)||s!==+s||!Qt(l)||l!==+l)return null;var m=i.verticalCoordinatesGenerator||ZP,v=i.horizontalCoordinatesGenerator||QP,{horizontalPoints:b,verticalPoints:x}=i;if(!(b&&b.length||"function"!=typeof v)){var w=f&&f.length,j=v({yAxis:y?UP(UP({},y),{},{ticks:w?f:y.ticks}):void 0,width:t,height:n,offset:r},!!w||d);oj(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(b=j)}if(!(x&&x.length||"function"!=typeof m)){var S=h&&h.length,_=m({xAxis:g?UP(UP({},g),{},{ticks:S?h:g.ticks}):void 0,width:t,height:n,offset:r},!!S||d);oj(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(x=_)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(HP,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(XP,WP({},i,{horizontalPoints:b})),O.createElement(JP,WP({},i,{verticalPoints:x})),O.createElement(GP,WP({},i,{offset:r,horizontalPoints:b,xAxis:g,yAxis:y})),O.createElement(YP,WP({},i,{offset:r,verticalPoints:x,xAxis:g,yAxis:y})))}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(t){iA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}tA.displayName="CartesianGrid";var oA=Rs({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=rA(rA({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:aA,removeXAxis:sA,addYAxis:lA,removeYAxis:cA,addZAxis:uA,removeZAxis:dA,updateYAxisWidth:fA}=oA.actions,hA=oA.reducer,pA=["children"],gA=["dangerouslySetInnerHTML","ticks"];function yA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mA.apply(null,arguments)}function vA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bA(e){var t=Do(),n=O.useMemo(()=>{var{children:t}=e;return vA(e,pA)},[e]),r=Lo(e=>Jm(e,n.id)),i=n===r;return O.useEffect(()=>(t(aA(n)),()=>{t(sA(n))}),[n,t]),i?e.children:null}var xA=e=>{var{xAxisId:t,className:n}=e,r=Lo(uc),i=fc(),o="xAxis",a=Lo(e=>db(e,o,t,i)),s=Lo(e=>kb(e,o,t,i)),l=Lo(e=>vb(e,t)),c=Lo(e=>((e,t)=>{var n=lc(e),r=Jm(e,t);if(null!=r){var i=bb(e,r.orientation,r.mirror)[t];return null==i?{x:n.left,y:0}:{x:n.left,y:i}}})(e,t));if(null==l||null==c)return null;var{dangerouslySetInnerHTML:u,ticks:d}=e,f=vA(e,gA);return O.createElement(RP,mA({},f,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:_t("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s}))},wA=e=>{var t,n,r,i,o;return O.createElement(bA,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter},O.createElement(xA,e))};class jA extends O.Component{render(){return O.createElement(wA,this.props)}}yA(jA,"displayName","XAxis"),yA(jA,"defaultProps",{allowDataOverflow:Xm.allowDataOverflow,allowDecimals:Xm.allowDecimals,allowDuplicatedCategory:Xm.allowDuplicatedCategory,height:Xm.height,hide:!1,mirror:Xm.mirror,orientation:Xm.orientation,padding:Xm.padding,reversed:Xm.reversed,scale:Xm.scale,tickCount:Xm.tickCount,type:Xm.type,xAxisId:0});var OA=["dangerouslySetInnerHTML","ticks"];function SA(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _A(){return _A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_A.apply(null,arguments)}function PA(e){var t=Do();return O.useEffect(()=>(t(lA(e)),()=>{t(cA(e))}),[e,t]),null}var AA=e=>{var t,{yAxisId:n,className:r,width:i,label:o}=e,a=O.useRef(null),s=O.useRef(null),l=Lo(uc),c=fc(),u=Do(),d="yAxis",f=Lo(e=>db(e,d,n,c)),h=Lo(e=>wb(e,n)),p=Lo(e=>((e,t)=>{var n=lc(e),r=Qm(e,t);if(null!=r){var i=xb(e,r.orientation,r.mirror)[t];return null==i?{x:0,y:n.top}:{x:i,y:n.top}}})(e,n)),g=Lo(e=>kb(e,d,n,c));if(O.useLayoutEffect(()=>{var e;if("auto"===i&&h&&!Vj(o)&&!O.isValidElement(o)){var t=a.current,r=null==t||null===(e=t.tickRefs)||void 0===e?void 0:e.current,{tickSize:l,tickMargin:c}=t.props,d=(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){t.forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>a&&(a=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+(i+o)+s+(n?r:0);return Math.round(l)}return 0})({ticks:r,label:s.current,labelGapWithTick:5,tickSize:l,tickMargin:c});Math.round(h.width)!==Math.round(d)&&u(fA({id:n,width:d}))}},[a,null==a||null===(t=a.current)||void 0===t||null===(t=t.tickRefs)||void 0===t?void 0:t.current,null==h?void 0:h.width,h,u,o,n,i]),null==h||null==p)return null;var{dangerouslySetInnerHTML:y,ticks:m}=e,v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,OA);return O.createElement(RP,_A({},v,{ref:a,labelRef:s,scale:f,x:p.x,y:p.y,width:h.width,height:h.height,className:_t("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:g}))},kA=e=>{var t,n,r,i,o;return O.createElement(O.Fragment,null,O.createElement(PA,{interval:null!==(t=e.interval)&&void 0!==t?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:null!==(n=e.includeHidden)&&void 0!==n&&n,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:null!==(r=e.angle)&&void 0!==r?r:0,minTickGap:null!==(i=e.minTickGap)&&void 0!==i?i:5,tick:null===(o=e.tick)||void 0===o||o,tickFormatter:e.tickFormatter}),O.createElement(AA,e))},EA={allowDataOverflow:Zm.allowDataOverflow,allowDecimals:Zm.allowDecimals,allowDuplicatedCategory:Zm.allowDuplicatedCategory,hide:!1,mirror:Zm.mirror,orientation:Zm.orientation,padding:Zm.padding,reversed:Zm.reversed,scale:Zm.scale,tickCount:Zm.tickCount,type:Zm.type,width:Zm.width,yAxisId:0};class MA extends O.Component{render(){return O.createElement(kA,this.props)}}SA(MA,"displayName","YAxis"),SA(MA,"defaultProps",EA);var CA,TA,IA={exports:{}},DA={};TA||(TA=1,IA.exports=function(){if(CA)return DA;CA=1;var e=x(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useSyncExternalStore,r=e.useRef,i=e.useEffect,o=e.useMemo,a=e.useDebugValue;return DA.useSyncExternalStoreWithSelector=function(e,s,l,c,u){var d=r(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=o(function(){function e(e){if(!i){if(i=!0,n=e,e=c(e),void 0!==u&&f.hasValue){var o=f.value;if(u(o,e))return r=o}return r=e}if(o=r,t(n,e))return o;var a=c(e);return void 0!==u&&u(o,a)?(n=e,o):(n=e,r=a)}var n,r,i=!1,o=void 0===l?null:l;return[function(){return e(s())},null===o?void 0:function(){return e(o())}]},[s,l,c,u]);var h=n(e,d[0],d[1]);return i(function(){f.hasValue=!0,f.value=h},[h]),a(h),h},DA}()),IA.exports;var NA={notify(){},get:()=>[]},RA=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),$A=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),LA=(()=>RA||$A?O.useLayoutEffect:O.useEffect)(),BA=Symbol.for("react-redux-context"),zA="undefined"!=typeof globalThis?globalThis:{};function FA(){var e;if(!O.createContext)return{};const t=null!=(e=zA[BA])?e:zA[BA]=new Map;let n=t.get(O.createContext);return n||(n=O.createContext(null),t.set(O.createContext,n)),n}var UA=FA(),KA=function(e){const{children:t,context:n,serverState:r,store:i}=e,o=O.useMemo(()=>{const e=function(e){let t,n=NA,r=0,i=!1;function o(){l.onStateChange&&l.onStateChange()}function a(){r++,t||(t=e.subscribe(o),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function s(){r--,t&&0===r&&(t(),t=void 0,n.clear(),n=NA)}const l={addNestedSub:function(e){a();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),s())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,a())},tryUnsubscribe:function(){i&&(i=!1,s())},getListeners:()=>n};return l}(i);return{store:i,subscription:e,getServerState:r?()=>r:void 0}},[i,r]),a=O.useMemo(()=>i.getState(),[i]);LA(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,a]);const s=n||UA;return O.createElement(s.Provider,{value:o},t)},WA=Ho([(e,t)=>t,wc,Km,dx,Lx,Ux,lw,lc],(e,t,n,r,i,o,a,s)=>{if(e&&t&&r&&i&&o){var l=function(e,t,n,r,i){return"horizontal"===n||"vertical"===n?e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height?{x:e,y:t}:null:r?Tl({x:e,y:t},r):null}(e.chartX,e.chartY,t,n,s);if(l){var c=((e,t)=>"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius)(l,t),u=((e,t,n,r,i)=>{var o,a=-1,s=null!==(o=null==t?void 0:t.length)&&void 0!==o?o:0;if(s<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Xt(u-c)!==Xt(d-u)){var h=[];if(Xt(d-u)===Xt(i[1]-i[0])){f=d;var p=u+i[1]-i[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{f=c;var g=d+i[1]-i[0];h[0]=Math.min(u,(g+u)/2),h[1]=Math.max(u,(g+u)/2)}var y=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>y[0]&&e<=y[1]||e>=h[0]&&e<=h[1]){({index:a}=n[l]);break}}else{var m=Math.min(c,d),v=Math.max(c,d);if(e>(m+u)/2&&e<=(v+u)/2){({index:a}=n[l]);break}}}else if(t)for(var b=0;b<s;b++)if(0===b&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===s-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}return a})(c,a,o,r,i),d=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,{radius:a}=r;return Dl(Dl(Dl({},r),kl(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return Dl(Dl(Dl({},r),kl(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}})(t,o,u,l);return{activeIndex:String(u),activeCoordinate:d}}}}),qA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},HA=Os("mouseClick"),VA=gl();VA.startListening({actionCreator:HA,effect:(e,t)=>{var n=e.payload,r=WA(t.getState(),qA(n));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(Gb({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var GA=Os("mouseMove"),YA=gl();function XA(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}YA.startListening({actionCreator:GA,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Rb(r,r.tooltip.settings.shared),o=WA(r,qA(n));"axis"===i&&(null!=(null==o?void 0:o.activeIndex)?t.dispatch(Vb({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(qb()))}});var JA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},ZA=Rs({name:"rootProps",initialState:JA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:JA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),QA=ZA.reducer,{updateOptions:ek}=ZA.actions,tk=Rs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:nk}=tk.actions,rk=tk.reducer,ik=Os("keyDown"),ok=Os("focus"),ak=gl();ak.startListening({actionCreator:ik,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var o=Number(nx(r,bx(n))),a=Ux(n);if("Enter"!==i){var s=o+("ArrowRight"===i?1:-1)*("left-to-right"===Tb(n)?1:-1);if(!(null==a||s>=a.length||s<0)){var l=fw(n,"axis","hover",String(s));t.dispatch(Xb({active:!0,activeIndex:s.toString(),activeDataKey:void 0,activeCoordinate:l}))}}else{var c=fw(n,"axis","hover",String(r.index));t.dispatch(Xb({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:c}))}}}}}),ak.startListening({actionCreator:ok,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=fw(n,"axis","hover",String("0"));t.dispatch(Xb({activeDataKey:void 0,active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var sk=Os("externalEvent"),lk=gl();lk.startListening({actionCreator:sk,effect:(e,t)=>{if(null!=e.payload.handler){var n=t.getState(),r={activeCoordinate:Zx(n),activeDataKey:Yx(n),activeIndex:Vx(n),activeLabel:Gx(n),activeTooltipIndex:Vx(n),isTooltipActive:Qx(n)};e.payload.handler(r,e.payload.reactEvent)}}});var ck=Ho([ax],e=>e.tooltipItemPayloads),uk=Ho([ck,ox,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.dataKey===r);if(null!=i){var{positions:o}=i;if(null!=o)return t(o,n)}}),dk=Os("touchMove"),fk=gl();fk.startListening({actionCreator:dk,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Rb(r,r.tooltip.settings.shared);if("axis"===i){var o=WA(r,qA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));null!=(null==o?void 0:o.activeIndex)&&t.dispatch(Vb({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if("item"===i){var a,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(rc),u=null!==(a=l.getAttribute(ic))&&void 0!==a?a:void 0,d=uk(t.getState(),c,u);t.dispatch(Kb({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var hk=Pa({brush:cP,cartesianAxis:hA,chartData:Bw,graphicalItems:QO,layout:jl,legend:kc,options:Tw,polarAxis:DO,polarOptions:rk,referenceElements:vP,rootProps:QA,tooltip:Jb});function pk(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=fc(),o=O.useRef(null);if(i)return n;null==o.current&&(o.current=function(e){return Es({reducer:hk,preloadedState:e,middleware:e=>e({serializableCheck:!1}).concat([VA.middleware,YA.middleware,ak.middleware,lk.middleware,fk.middleware]),devTools:{serialize:{replacer:XA},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var a=To;return O.createElement(KA,{context:a,store:o.current},n)}function gk(e){var{layout:t,width:n,height:r,margin:i}=e,o=Do(),a=fc();return O.useEffect(()=>{a||(o(bl(t)),o(xl({width:n,height:r})),o(vl(i)))},[o,a,t,n,r,i]),null}function yk(e){var t=Do();return O.useEffect(()=>{t(ek(e))},[t,e]),null}var mk=["children"];function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vk.apply(null,arguments)}var bk={width:"100%",height:"100%"},xk=O.forwardRef((e,t)=>{var n=vc(),r=bc(),i=tu();if(!ru(n)||!ru(r))return null;var o,a,{children:s,otherAttributes:l,title:c,desc:u}=e;return o="number"==typeof l.tabIndex?l.tabIndex:i?0:void 0,a="string"==typeof l.role?l.role:i?"application":void 0,O.createElement(jn,vk({},l,{title:c,desc:u,role:a,tabIndex:o,width:n,height:r,style:bk,ref:t}),s)}),wk=e=>{var{children:t}=e,n=Lo(pc);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return O.createElement(jn,{width:r,height:i,x:a,y:o},t)},jk=O.forwardRef((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,mk);return fc()?O.createElement(wk,null,n):O.createElement(xk,vk({ref:t},r),n)});function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(t){_k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pk=O.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:g,style:y,width:m}=e,v=Do(),[b,x]=O.useState(null),[w,j]=O.useState(null);Fw();var S=function(){var e=Do(),[t,n]=O.useState(null),r=Lo(Ql);return O.useEffect(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;nu(n)&&n!==r&&e(wl(n))}},[t,e,r]),n}(),_=O.useCallback(e=>{S(e),"function"==typeof t&&t(e),x(e),j(e)},[S,t,x,j]),P=O.useCallback(e=>{v(HA(e)),v(sk({handler:o,reactEvent:e}))},[v,o]),A=O.useCallback(e=>{v(GA(e)),v(sk({handler:c,reactEvent:e}))},[v,c]),k=O.useCallback(e=>{v(qb()),v(sk({handler:u,reactEvent:e}))},[v,u]),E=O.useCallback(e=>{v(GA(e)),v(sk({handler:d,reactEvent:e}))},[v,d]),M=O.useCallback(()=>{v(ok())},[v]),C=O.useCallback(e=>{v(ik(e.key))},[v]),T=O.useCallback(e=>{v(sk({handler:a,reactEvent:e}))},[v,a]),I=O.useCallback(e=>{v(sk({handler:s,reactEvent:e}))},[v,s]),D=O.useCallback(e=>{v(sk({handler:l,reactEvent:e}))},[v,l]),N=O.useCallback(e=>{v(sk({handler:f,reactEvent:e}))},[v,f]),R=O.useCallback(e=>{v(sk({handler:g,reactEvent:e}))},[v,g]),$=O.useCallback(e=>{v(dk(e)),v(sk({handler:p,reactEvent:e}))},[v,p]),L=O.useCallback(e=>{v(sk({handler:h,reactEvent:e}))},[v,h]);return O.createElement(Sw.Provider,{value:b},O.createElement(Pn.Provider,{value:w},O.createElement("div",{className:_t("recharts-wrapper",r),style:Sk({position:"relative",cursor:"default",width:m,height:i},y),onClick:P,onContextMenu:T,onDoubleClick:I,onFocus:M,onKeyDown:C,onMouseDown:D,onMouseEnter:A,onMouseLeave:k,onMouseMove:E,onMouseUp:N,onTouchEnd:L,onTouchMove:$,onTouchStart:R,ref:_},n)))}),Ak=["children","className","width","height","style","compact","title","desc"],kk=O.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:o,style:a,compact:s,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ak),d=bn(u,!1);return s?O.createElement(jk,{otherAttributes:d,title:l,desc:c},n):O.createElement(Pk,{className:r,style:a,width:i,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},O.createElement(jk,{otherAttributes:d,title:l,desc:c,ref:t},O.createElement(xP,null,n)))}),Ek=["width","height"];function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mk.apply(null,arguments)}var Ck={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},Tk=O.forwardRef(function(e,t){var n,r=ju(e.categoricalChartProps,Ck),{width:i,height:o}=r,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,Ek);if(!ru(i)||!ru(o))return null;var{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return O.createElement(pk,{preloadedState:{options:f},reduxStoreName:null!==(n=d.id)&&void 0!==n?n:s},O.createElement(oP,{chartData:d.data}),O.createElement(gk,{width:i,height:o,layout:r.layout,margin:r.margin}),O.createElement(yk,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),O.createElement(kk,Mk({},a,{width:i,height:o,ref:t})))}),Ik=["axis","item"],Dk=O.forwardRef((e,t)=>O.createElement(Tk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ik,tooltipPayloadSearcher:Mw,categoricalChartProps:e,ref:t}));function Nk(e){var t=Do();return O.useEffect(()=>{t(nk(e))},[t,e]),null}var Rk=["width","height","layout"];function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$k.apply(null,arguments)}var Lk={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Bk=O.forwardRef(function(e,t){var n,r=ju(e.categoricalChartProps,Lk),{width:i,height:o,layout:a}=r,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,Rk);if(!ru(i)||!ru(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return O.createElement(pk,{preloadedState:{options:f},reduxStoreName:null!==(n=r.id)&&void 0!==n?n:l},O.createElement(oP,{chartData:r.data}),O.createElement(gk,{width:i,height:o,layout:a,margin:r.margin}),O.createElement(yk,{accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className}),O.createElement(Nk,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),O.createElement(kk,$k({width:i,height:o},s,{ref:t})))}),zk=["item"],Fk={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Uk=O.forwardRef((e,t)=>{var n=ju(e,Fk);return O.createElement(Bk,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:zk,tooltipPayloadSearcher:Mw,categoricalChartProps:n,ref:t})});const{Title:Kk,Text:Wk}=T,qk=()=>{const[e,t]=O.useState(!1),[n,r]=O.useState([]),[i,o]=O.useState({categoryStats:[],trendData:[],keywordData:[],timeDistribution:[],totalStats:{totalTopics:0,totalEngagement:0,avgEngagement:0,topCategory:""}}),a=()=>{const e=["时尚","美妆","生活","美食","旅行"];return["秋冬穿搭指南","护肤心得分享","居家好物推荐","减脂餐制作","旅行攻略分享"].map((t,n)=>({id:`topic_${n}`,title:`${t} #${n+1}`,category:e[n],likeCount:Math.floor(1e4*Math.random())+1e3,commentCount:Math.floor(500*Math.random())+50,shareCount:Math.floor(100*Math.random())+10,publishTime:new Date(Date.now()-7*Math.random()*24*60*60*1e3).toISOString()}))},l=e=>{var t;const n={};e.forEach(e=>{const t=e.category;n[t]||(n[t]={count:0,totalLikes:0,totalComments:0,totalShares:0,topics:[]}),n[t].count++,n[t].totalLikes+=e.likeCount,n[t].totalComments+=e.commentCount,n[t].totalShares+=e.shareCount,n[t].topics.push(e)});const r=Object.entries(n).map(([t,n])=>({category:t,count:n.count,avgLikes:Math.floor(n.totalLikes/n.count),avgComments:Math.floor(n.totalComments/n.count),avgShares:Math.floor(n.totalShares/n.count),totalEngagement:n.totalLikes+n.totalComments+n.totalShares,percentage:(n.count/e.length*100).toFixed(1)})).sort((e,t)=>t.totalEngagement-e.totalEngagement),i={};e.forEach(e=>{e.title.split(/[｜\s\-\|]+/).filter(e=>e.length>1).forEach(e=>{i[e]=(i[e]||0)+1})});const a=Object.entries(i).map(([e,t])=>({text:e,value:t})).sort((e,t)=>t.value-e.value).slice(0,20),s={};e.forEach(e=>{const t=`${new Date(e.publishTime).getHours()}:00`;s[t]=(s[t]||0)+1});const l=Object.entries(s).map(([e,t])=>({time:e,count:t})).sort((e,t)=>parseInt(e.time)-parseInt(t.time)),c=[];for(let o=6;o>=0;o--){const t=new Date;t.setDate(t.getDate()-o);const n=e.filter(e=>new Date(e.publishTime).toDateString()===t.toDateString());c.push({date:t.toLocaleDateString("zh-CN",{month:"short",day:"numeric"}),count:n.length,engagement:n.reduce((e,t)=>e+t.likeCount+t.commentCount+t.shareCount,0)})}const u=e.reduce((e,t)=>e+t.likeCount+t.commentCount+t.shareCount,0),d=(null==(t=r[0])?void 0:t.category)||"未知";o({categoryStats:r,trendData:c,keywordData:a,timeDistribution:l,totalStats:{totalTopics:e.length,totalEngagement:u,avgEngagement:Math.floor(u/e.length),topCategory:d}})},c=()=>{return e=null,n=null,i=function*(){t(!0);try{const e=yield vt.getHotTopics(20);if(e&&e.length>0)r(e),l(e);else{const e=a();r(e),l(e),ce.warning("使用备用数据")}}catch(e){ce.error("数据加载失败，使用备用数据");const t=a();r(t),l(t)}finally{t(!1)}},new Promise((t,r)=>{var o=e=>{try{s(i.next(e))}catch(Y_){r(Y_)}},a=e=>{try{s(i.throw(e))}catch(Y_){r(Y_)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,a);s((i=i.apply(e,n)).next())});var e,n,i},u=[{title:"排名",key:"rank",width:80,render:(e,t,n)=>s.jsx("div",{style:{width:30,height:30,borderRadius:"50%",background:n<3?"#ff4d4f":"#1890ff",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:n+1})},{title:"话题标题",dataIndex:"title",key:"title"},{title:"分类",dataIndex:"category",key:"category",render:e=>s.jsx(G,{color:"blue",children:e})},{title:"点赞数",dataIndex:"likeCount",key:"likeCount",render:e=>e.toLocaleString()},{title:"评论数",dataIndex:"commentCount",key:"commentCount",render:e=>e.toLocaleString()},{title:"分享数",dataIndex:"shareCount",key:"shareCount",render:e=>e.toLocaleString()},{title:"发布时间",dataIndex:"publishTime",key:"publishTime",render:e=>new Date(e).toLocaleDateString("zh-CN")}];return O.useEffect(()=>{c()},[]),s.jsxs("div",{style:{padding:"24px"},children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsxs(Kk,{level:2,children:[s.jsx(F,{style:{color:"#ff4d4f",marginRight:"8px"}}),"热点话题深度分析"]}),s.jsx(Wk,{type:"secondary",children:"基于真实数据的热点话题趋势分析与洞察"})]}),s.jsxs(N,{gutter:[16,16],style:{marginBottom:"24px"},children:[s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx($,{children:s.jsx(L,{title:"总话题数",value:i.totalStats.totalTopics,prefix:s.jsx(re,{style:{color:"#1890ff"}})})})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx($,{children:s.jsx(L,{title:"总互动量",value:i.totalStats.totalEngagement,prefix:s.jsx(ie,{style:{color:"#f5222d"}})})})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx($,{children:s.jsx(L,{title:"平均互动",value:i.totalStats.avgEngagement,prefix:s.jsx(oe,{style:{color:"#52c41a"}})})})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx($,{children:s.jsx(L,{title:"热门分类",value:i.totalStats.topCategory,prefix:s.jsx(ae,{style:{color:"#722ed1"}})})})})]}),s.jsx(ee,{defaultActiveKey:"list",size:"large",items:[{key:"list",label:"📊 话题列表",children:s.jsx($,{extra:s.jsx(D,{type:"primary",icon:s.jsx(W,{}),onClick:c,loading:e,children:"刷新数据"}),children:s.jsx(se,{columns:u,dataSource:n,rowKey:"id",loading:e,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 个话题`}})})},{key:"category",label:"📈 分类分析",children:s.jsxs(N,{gutter:[16,16],children:[s.jsx(R,{xs:24,lg:12,children:s.jsx($,{title:"分类分布饼图",children:s.jsx(cj,{width:"100%",height:300,children:s.jsxs(Uk,{children:[s.jsx(WS,{data:i.categoryStats,cx:"50%",cy:"50%",labelLine:!1,label:({category:e,percentage:t})=>`${e} ${t}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:i.categoryStats.map((e,t)=>s.jsx(uj,{fill:`hsl(${45*t}, 70%, 60%)`},`cell-${t}`))}),s.jsx(Yw,{})]})})})}),s.jsx(R,{xs:24,lg:12,children:s.jsx($,{title:"分类互动对比",children:s.jsx(cj,{width:"100%",height:300,children:s.jsxs(Dk,{data:i.categoryStats,children:[s.jsx(tA,{strokeDasharray:"3 3"}),s.jsx(jA,{dataKey:"category"}),s.jsx(MA,{}),s.jsx(Yw,{}),s.jsx(Bc,{}),s.jsx(F_,{dataKey:"totalEngagement",fill:"#8884d8",name:"总互动量"})]})})})})]})},{key:"keywords",label:"🔥 关键词云",children:s.jsxs(N,{gutter:[16,16],children:[s.jsx(R,{xs:24,lg:10,children:s.jsx($,{title:"热门关键词分布",style:{height:"450px"},children:s.jsx("div",{style:{position:"relative",width:"100%",height:"390px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",padding:"20px"},children:i.keywordData.slice(0,15).map((e,t)=>{const n=Math.max(...i.keywordData.map(e=>e.value)),r=Math.max(12,Math.min(24,12+e.value/n*12)),o=["#ff4d4f","#ff7a45","#ffa940","#ffec3d","#bae637","#52c41a","#13c2c2","#1890ff","#2f54eb","#722ed1"],a=360*t/i.keywordData.slice(0,15).length*(Math.PI/180),l=60+t%3*30,c=Math.cos(a)*l,u=Math.sin(a)*l;return s.jsx("span",{style:{position:"absolute",fontSize:`${r}px`,color:o[t%o.length],fontWeight:t<5?"bold":"normal",cursor:"pointer",transition:"all 0.3s ease",transform:`translate(${c}px, ${u}px)`,textAlign:"center",whiteSpace:"nowrap",userSelect:"none",textShadow:"1px 1px 2px rgba(0,0,0,0.1)",zIndex:n-e.value+1},onMouseEnter:e=>{e.currentTarget.style.transform=`translate(${c}px, ${u}px) scale(1.2)`,e.currentTarget.style.zIndex="999"},onMouseLeave:t=>{t.currentTarget.style.transform=`translate(${c}px, ${u}px) scale(1)`,t.currentTarget.style.zIndex=String(n-e.value+1)},title:`${e.text} (${e.value}次)`,children:e.text},e.text)})})})}),s.jsx(R,{xs:24,lg:14,children:s.jsx($,{title:"关键词排行",style:{height:"450px"},children:s.jsx("div",{style:{height:"390px",overflowY:"auto",padding:"0 12px 0 8px"},children:i.keywordData.slice(0,15).map((e,t)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",borderBottom:"1px solid #f0f0f0",borderRadius:"6px",margin:"3px 0",background:t<3?"linear-gradient(90deg, #fff2f0, #fff)":t<6?"linear-gradient(90deg, #fff7e6, #fff)":"linear-gradient(90deg, #f6ffed, #fff)",transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.transform="translateX(4px)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateX(0)",e.currentTarget.style.boxShadow="none"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,minWidth:0},children:[s.jsx(G,{color:t<3?"red":t<6?"orange":"blue",style:{minWidth:"24px",textAlign:"center",fontWeight:"bold",flexShrink:0},children:t+1}),s.jsx(Wk,{style:{fontWeight:t<3?"bold":"normal",fontSize:t<3?"14px":"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,marginLeft:"8px"},title:e.text,children:e.text})]}),s.jsxs("div",{style:{textAlign:"right",flexShrink:0,width:"50px"},children:[s.jsx(Wk,{strong:!0,style:{color:t<3?"#ff4d4f":"#666"},children:e.value}),s.jsx("div",{style:{fontSize:"11px",color:"#999"},children:"次"})]})]},e.text))})})})]})},{key:"time",label:"⏰ 时间分析",children:s.jsxs(N,{gutter:[16,16],children:[s.jsx(R,{xs:24,lg:12,children:s.jsx($,{title:"发布时间分布",style:{height:"450px"},children:s.jsx(cj,{width:"100%",height:390,children:s.jsxs(Dk,{data:i.timeDistribution,children:[s.jsx(tA,{strokeDasharray:"3 3"}),s.jsx(jA,{dataKey:"time"}),s.jsx(MA,{}),s.jsx(Yw,{}),s.jsx(Bc,{}),s.jsx(F_,{dataKey:"count",fill:"#82ca9d",name:"话题数量"})]})})})}),s.jsx(R,{xs:24,lg:12,children:s.jsx($,{title:"时间段统计",style:{height:"450px"},children:s.jsxs("div",{style:{padding:"3px 20px",height:"390px",overflowY:"auto"},children:[s.jsx("div",{style:{marginBottom:"16px"},children:s.jsx(Wk,{strong:!0,children:"📊 发布时间分析结果："})}),i.timeDistribution.slice(0,8).map((e,t)=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0"},children:[s.jsxs(H,{children:[s.jsx(le,{style:{color:"#1890ff"}}),s.jsx(Wk,{children:e.time})]}),s.jsx("div",{style:{textAlign:"right"},children:s.jsxs(Wk,{strong:!0,children:[e.count," 个话题"]})})]},e.time))]})})})]})}]})]})},{Option:Hk}=ue,{Title:Vk,Text:Gk}=T,Yk=()=>{var e;const[t,n]=O.useState(!1),[r,i]=O.useState([]),[o,a]=O.useState("all"),l=()=>{return e=null,t=null,r=function*(){n(!0);try{const e=yield vt.getHotTopics(53e3);c(e)}catch(e){ce.error("数据加载失败")}finally{n(!1)}},new Promise((n,i)=>{var o=e=>{try{s(r.next(e))}catch(Y_){i(Y_)}},a=e=>{try{s(r.throw(e))}catch(Y_){i(Y_)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,a);s((r=r.apply(e,t)).next())});var e,t,r},c=e=>{const t={};e.forEach(e=>{const n=e.category;t[n]||(t[n]={count:0,totalLikes:0,totalComments:0,totalShares:0,totalViews:0}),t[n].count++,t[n].totalLikes+=e.likeCount,t[n].totalComments+=e.commentCount,t[n].totalShares+=e.shareCount,t[n].totalViews+=e.viewCount});const n=Object.entries(t).map(([e,t])=>({category:e,count:t.count,growth:40*(Math.random()-.5),avgLikes:Math.floor(t.totalLikes/t.count),avgComments:Math.floor(t.totalComments/t.count),avgShares:Math.floor(t.totalShares/t.count),bestTime:["09:00","12:00","15:00","18:00","21:00"][Math.floor(5*Math.random())],engagement:Math.floor((t.totalLikes+t.totalComments+t.totalShares)/t.totalViews*100)}));i(n.sort((e,t)=>t.count-e.count))},u=[{title:"分类",dataIndex:"category",key:"category",render:e=>s.jsx(G,{color:"blue",style:{fontSize:"14px",padding:"4px 8px"},children:e})},{title:"内容数量",dataIndex:"count",key:"count",render:e=>s.jsx(Gk,{strong:!0,style:{fontSize:"16px"},children:e.toLocaleString()})},{title:"增长趋势",dataIndex:"growth",key:"growth",render:e=>s.jsxs(H,{children:[e>0?s.jsx(oe,{style:{color:"#52c41a"}}):s.jsx(oe,{style:{color:"#ff4d4f",transform:"rotate(180deg)"}}),s.jsxs(Gk,{style:{color:e>0?"#52c41a":"#ff4d4f"},children:[Math.abs(e).toFixed(1),"%"]})]})},{title:"平均互动",key:"avgInteraction",render:e=>s.jsx(H,{direction:"vertical",size:2,children:s.jsxs(H,{size:8,children:[s.jsx(Y,{title:"平均点赞",children:s.jsxs(H,{size:2,children:[s.jsx(K,{style:{color:"#ff4d4f"}}),s.jsx(Gk,{style:{fontSize:"12px"},children:e.avgLikes.toLocaleString()})]})}),s.jsx(Y,{title:"平均评论",children:s.jsxs(H,{size:2,children:[s.jsx(fe,{style:{color:"#1890ff"}}),s.jsx(Gk,{style:{fontSize:"12px"},children:e.avgComments})]})}),s.jsx(Y,{title:"平均分享",children:s.jsxs(H,{size:2,children:[s.jsx(he,{style:{color:"#52c41a"}}),s.jsx(Gk,{style:{fontSize:"12px"},children:e.avgShares})]})})]})})},{title:"最佳发布时间",dataIndex:"bestTime",key:"bestTime",render:e=>s.jsxs(H,{children:[s.jsx(le,{style:{color:"#faad14"}}),s.jsx(Gk,{children:e})]})},{title:"参与度",dataIndex:"engagement",key:"engagement",render:e=>s.jsx("div",{style:{width:80},children:s.jsx(pe,{percent:Math.min(e,100),size:"small",strokeColor:e>15?"#52c41a":e>10?"#faad14":"#ff4d4f",format:()=>`${e}%`})})}];return O.useEffect(()=>{l()},[]),s.jsxs("div",{style:{padding:"24px"},children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsxs(Vk,{level:2,children:[s.jsx(oe,{style:{color:"#1890ff",marginRight:"8px"}}),"创作趋势分析"]}),s.jsx(Gk,{type:"secondary",children:"分析内容类型分布、发布时间规律和互动数据趋势"})]}),s.jsx($,{style:{marginBottom:"16px"},children:s.jsxs(N,{gutter:16,align:"middle",children:[s.jsx(R,{span:6,children:s.jsxs(H,{children:[s.jsx(de,{}),s.jsxs(ue,{value:o,onChange:a,style:{width:120},placeholder:"选择分类",children:[s.jsx(Hk,{value:"all",children:"全部分类"}),s.jsx(Hk,{value:"时尚",children:"时尚"}),s.jsx(Hk,{value:"美妆",children:"美妆"}),s.jsx(Hk,{value:"生活",children:"生活"}),s.jsx(Hk,{value:"美食",children:"美食"}),s.jsx(Hk,{value:"旅行",children:"旅行"})]})]})}),s.jsx(R,{span:18,children:s.jsx("div",{style:{textAlign:"right"},children:s.jsx(D,{icon:s.jsx(W,{}),onClick:l,loading:t,children:"刷新数据"})})})]})}),s.jsxs(N,{gutter:16,style:{marginBottom:"24px"},children:[s.jsx(R,{span:6,children:s.jsx($,{children:s.jsx(L,{title:"总内容数",value:r.reduce((e,t)=>e+t.count,0),prefix:s.jsx(X,{style:{color:"#1890ff"}})})})}),s.jsx(R,{span:6,children:s.jsx($,{children:s.jsx(L,{title:"平均参与度",value:r.length>0?(r.reduce((e,t)=>e+t.engagement,0)/r.length).toFixed(1):0,suffix:"%",prefix:s.jsx(K,{style:{color:"#52c41a"}})})})}),s.jsx(R,{span:6,children:s.jsx($,{children:s.jsx(L,{title:"增长最快分类",value:r.length>0?null==(e=r.sort((e,t)=>t.growth-e.growth)[0])?void 0:e.category:"-",prefix:s.jsx(oe,{style:{color:"#faad14"}})})})}),s.jsx(R,{span:6,children:s.jsx($,{children:s.jsx(L,{title:"最佳发布时间",value:"21:00",prefix:s.jsx(le,{style:{color:"#722ed1"}})})})})]}),s.jsx($,{title:"分类趋势分析",children:s.jsx(se,{columns:u,dataSource:r,rowKey:"category",loading:t,pagination:{pageSize:10,showSizeChanger:!1,showQuickJumper:!1,showTotal:e=>`共 ${e} 个分类`}})})]})},{Title:Xk,Text:Jk}=T,Zk=()=>{var e,t,n,r,i;const[o,a]=O.useState(!1),[l,c]=O.useState(null),[u,d]=O.useState("overview"),f=()=>{return e=null,t=null,n=function*(){a(!0);try{const e=yield vt.getUserInsights();if(!e)throw new Error("无法获取用户洞察数据");!e.userActivity||e.userActivity.length,!e.ageGroups||e.ageGroups.length,e.totalUsers,c(e)}catch(e){ce.error("数据加载失败，使用备用数据"),c({totalUsers:5e5,userActivity:[{timeSlot:"上午",activeUsers:125e3,avgEngagement:3.2,percentage:25},{timeSlot:"下午",activeUsers:175e3,avgEngagement:4.1,percentage:35},{timeSlot:"晚上",activeUsers:15e4,avgEngagement:4.8,percentage:30},{timeSlot:"深夜",activeUsers:5e4,avgEngagement:2.5,percentage:10}],regionDistribution:[{region:"北京",userCount:75e3,percentage:15,avgPosts:8,topCategory:"时尚"},{region:"上海",userCount:7e4,percentage:14,avgPosts:9,topCategory:"美妆"},{region:"广州",userCount:6e4,percentage:12,avgPosts:7,topCategory:"美食"},{region:"深圳",userCount:55e3,percentage:11,avgPosts:8,topCategory:"科技"},{region:"杭州",userCount:45e3,percentage:9,avgPosts:6,topCategory:"生活"}],ageGroups:[{ageGroup:"16-18",count:4e4,percentage:8,avgEngagement:5.2,topCategory:"学习成长",activeTime:"16:00-19:00",growth:12.3},{ageGroup:"19-22",count:85e3,percentage:17,avgEngagement:4.8,topCategory:"美妆护肤",activeTime:"19:00-22:00",growth:10.5},{ageGroup:"23-26",count:9e4,percentage:18,avgEngagement:4.5,topCategory:"时尚穿搭",activeTime:"20:00-23:00",growth:8.7},{ageGroup:"27-30",count:8e4,percentage:16,avgEngagement:4.2,topCategory:"生活方式",activeTime:"19:00-22:00",growth:6.8},{ageGroup:"31-35",count:7e4,percentage:14,avgEngagement:3.9,topCategory:"母婴育儿",activeTime:"20:00-22:00",growth:5.2},{ageGroup:"36-40",count:6e4,percentage:12,avgEngagement:3.6,topCategory:"美食料理",activeTime:"18:00-21:00",growth:3.1},{ageGroup:"41-45",count:4e4,percentage:8,avgEngagement:3.3,topCategory:"健康养生",activeTime:"07:00-09:00",growth:2.1},{ageGroup:"46-50",count:25e3,percentage:5,avgEngagement:3,topCategory:"投资理财",activeTime:"08:00-10:00",growth:1.5},{ageGroup:"51-55",count:1e4,percentage:2,avgEngagement:2.8,topCategory:"旅行攻略",activeTime:"09:00-11:00",growth:.8}],engagementPatterns:{avgLikesPerPost:1200,avgCommentsPerPost:85,avgSharesPerPost:22,peakEngagementHour:"20:00",engagementTrend:"increasing"}})}finally{a(!1)}},new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(Y_){i(Y_)}},a=e=>{try{s(n.throw(e))}catch(Y_){i(Y_)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())});var e,t,n};O.useEffect(()=>{f()},[]);const h=[{title:"年龄段",dataIndex:"ageGroup",key:"ageGroup",render:e=>s.jsx(G,{color:"purple",children:e})},{title:"用户数量",dataIndex:"count",key:"count",render:e=>e.toLocaleString()},{title:"占比",dataIndex:"percentage",key:"percentage",render:e=>`${e}%`},{title:"平均参与度",dataIndex:"avgEngagement",key:"avgEngagement",render:e=>`${e}%`},{title:"活跃时间",dataIndex:"activeTime",key:"activeTime",render:e=>s.jsx(G,{icon:s.jsx(le,{}),color:"green",children:e})},{title:"增长率",dataIndex:"growth",key:"growth",render:e=>s.jsxs("span",{style:{color:e>0?"#52c41a":"#ff4d4f"},children:[e>0?"+":"",e.toFixed(1),"%"]})}],p=[{key:"overview",label:"📊 用户概览",children:s.jsxs("div",{children:[s.jsxs(N,{gutter:[16,16],style:{marginBottom:24},children:[s.jsx(R,{span:6,children:s.jsx($,{style:{borderRadius:"12px",border:"1px solid #e8f4fd",background:"linear-gradient(135deg, #e8f4fd 0%, #ffffff 100%)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:s.jsx(L,{title:"总用户数",value:(null==l?void 0:l.totalUsers)||0,prefix:s.jsx(ge,{style:{color:"#1890ff"}}),formatter:e=>e.toLocaleString(),valueStyle:{color:"#1890ff",fontWeight:"bold"}})})}),s.jsx(R,{span:6,children:s.jsx($,{style:{borderRadius:"12px",border:"1px solid #fff2e8",background:"linear-gradient(135deg, #fff2e8 0%, #ffffff 100%)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:s.jsx(L,{title:"平均点赞数",value:(null==(e=null==l?void 0:l.engagementPatterns)?void 0:e.avgLikesPerPost)||0,prefix:s.jsx(ie,{style:{color:"#fa8c16"}}),formatter:e=>e.toLocaleString(),valueStyle:{color:"#fa8c16",fontWeight:"bold"}})})}),s.jsx(R,{span:6,children:s.jsx($,{style:{borderRadius:"12px",border:"1px solid #f6ffed",background:"linear-gradient(135deg, #f6ffed 0%, #ffffff 100%)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:s.jsx(L,{title:"平均评论数",value:(null==(t=null==l?void 0:l.engagementPatterns)?void 0:t.avgCommentsPerPost)||0,prefix:s.jsx(X,{style:{color:"#52c41a"}}),formatter:e=>e.toLocaleString(),valueStyle:{color:"#52c41a",fontWeight:"bold"}})})}),s.jsx(R,{span:6,children:s.jsx($,{style:{borderRadius:"12px",border:"1px solid #fff1f0",background:"linear-gradient(135deg, #fff1f0 0%, #ffffff 100%)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:s.jsx(L,{title:"峰值活跃时间",value:(null==(n=null==l?void 0:l.engagementPatterns)?void 0:n.peakEngagementHour)||"20:00",prefix:s.jsx(le,{style:{color:"#f5222d"}}),valueStyle:{color:"#f5222d",fontWeight:"bold"}})})})]}),s.jsxs(N,{gutter:[16,16],children:[s.jsx(R,{span:12,children:s.jsx($,{title:s.jsxs(H,{children:[s.jsx(le,{style:{color:"#667eea"}}),s.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"用户活跃时段分布"})]}),size:"small",style:{height:"400px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0"},headStyle:{borderBottom:"1px solid #f0f0f0",paddingBottom:"16px"},children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(cj,{width:"100%",height:320,children:s.jsxs(Uk,{children:[s.jsx(WS,{data:(null==l?void 0:l.userActivity)||[],cx:"50%",cy:"50%",labelLine:!1,label:({timeSlot:e,percentage:t})=>`${e} ${t}%`,outerRadius:100,innerRadius:40,fill:"#8884d8",dataKey:"activeUsers",nameKey:"timeSlot",stroke:"#fff",strokeWidth:3,children:((null==l?void 0:l.userActivity)||[]).map((e,t)=>s.jsx(uj,{fill:["#667eea","#764ba2","#f093fb","#4facfe"][t]},`cell-${t}`))}),s.jsx(Yw,{contentStyle:{backgroundColor:"#fff",border:"none",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",fontSize:"14px"},formatter:(e,t)=>[`${Number(e).toLocaleString()} 人`,"活跃用户"],labelFormatter:e=>`${e}时段`}),s.jsx(Bc,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{paddingTop:"20px",fontSize:"14px"}})]})})})})}),s.jsx(R,{span:12,children:s.jsx($,{title:s.jsxs(H,{children:[s.jsx(U,{style:{color:"#f093fb"}}),s.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"年龄分布统计"})]}),size:"small",style:{height:"400px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0"},headStyle:{borderBottom:"1px solid #f0f0f0",paddingBottom:"16px"},children:s.jsx(cj,{width:"100%",height:300,children:s.jsxs(Uk,{children:[s.jsx(WS,{data:(null==(r=null==l?void 0:l.ageGroups)?void 0:r.slice(0,8))||[],cx:"50%",cy:"50%",labelLine:!1,label:({ageLabel:e,percentage:t})=>`${e} ${t}%`,outerRadius:90,innerRadius:30,fill:"#8884d8",dataKey:"count",nameKey:"ageLabel",stroke:"#fff",strokeWidth:2,children:((null==(i=null==l?void 0:l.ageGroups)?void 0:i.slice(0,8))||[]).map((e,t)=>s.jsx(uj,{fill:["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#43e97b","#38f9d7"][t%8]},`cell-${t}`))}),s.jsx(Yw,{contentStyle:{backgroundColor:"#fff",border:"none",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",fontSize:"14px"},formatter:(e,t,n)=>[`${Number(e).toLocaleString()} 人 (${n.payload.percentage}%)`,"用户数量"]}),s.jsx(Bc,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",paddingTop:"20px"}})]})})})})]})]})},{key:"age",label:"👥 年龄分析",children:s.jsxs("div",{children:[s.jsx(N,{gutter:[16,16],style:{marginBottom:16},children:s.jsx(R,{span:24,children:s.jsx($,{title:s.jsxs(H,{children:[s.jsx(U,{style:{color:"#f5576c"}}),s.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:"年龄分布"})]}),style:{height:"720px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"1px solid #f0f0f0"},headStyle:{borderBottom:"1px solid #f0f0f0",paddingBottom:"1px",paddingTop:"12px"},children:s.jsx("div",{style:{padding:"1px 8px 12px 8px",display:"flex",flexDirection:"column",gap:"4px"},children:((null==l?void 0:l.ageGroups)||[]).map((e,t)=>{const n=[{bg:"#3b82f6",light:"#dbeafe"},{bg:"#8b5cf6",light:"#ede9fe"},{bg:"#ec4899",light:"#fce7f3"},{bg:"#ef4444",light:"#fee2e2"},{bg:"#6366f1",light:"#e0e7ff"},{bg:"#06b6d4",light:"#cffafe"},{bg:"#10b981",light:"#d1fae5"},{bg:"#14b8a6",light:"#ccfbf1"}][t%8],r=Math.max(...((null==l?void 0:l.ageGroups)||[]).map(e=>e.count)),i=e.count/r*100;return s.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:"6px",padding:"6px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb",transition:"box-shadow 0.2s"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"3px"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[s.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:n.bg,flexShrink:0}}),s.jsx("span",{style:{fontWeight:"600",color:"#374151",fontSize:"13px"},children:e.ageLabel})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsxs("div",{style:{fontSize:"13px",fontWeight:"bold",color:"#111827"},children:[(e.count/1e3).toFixed(0),"K"]}),s.jsxs("div",{style:{fontSize:"10px",color:"#6b7280"},children:[e.percentage,"%"]})]})]}),s.jsx("div",{style:{width:"100%",height:"4px",borderRadius:"2px",backgroundColor:n.light,overflow:"hidden",marginBottom:"3px"},children:s.jsx("div",{style:{height:"4px",borderRadius:"2px",backgroundColor:n.bg,width:`${i}%`,transition:"width 1s ease-out"}})}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"9px",color:"#6b7280"},children:[s.jsxs("span",{children:["参与度: ",e.avgEngagement]}),s.jsxs("span",{children:[e.count.toLocaleString()," 用户"]})]})]},e.ageLabel)})})})})}),s.jsx($,{title:"年龄群体详情",children:s.jsx(se,{columns:h,dataSource:(null==l?void 0:l.ageGroups)||[],rowKey:"ageGroup",loading:o,pagination:!1,size:"middle"})})]})}];return s.jsxs("div",{style:{padding:"24px",background:"#f5f5f5",minHeight:"100vh"},children:[s.jsx($,{style:{marginBottom:24,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"12px"},children:s.jsxs("div",{style:{color:"white"},children:[s.jsxs(Xk,{level:2,style:{color:"white",margin:0,marginBottom:8},children:[s.jsx(U,{style:{marginRight:8}}),"用户洞察分析"]}),s.jsx(Jk,{style:{color:"rgba(255,255,255,0.9)",fontSize:"16px"},children:"专业的小红书用户洞察分析平台"})]})}),s.jsx(ee,{activeKey:u,onChange:d,items:p,size:"large"})]})};var Qk=Object.defineProperty,eE=(e,t,n)=>((e,t,n)=>t in e?Qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),tE=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(Y_){i(Y_)}},a=e=>{try{s(n.throw(e))}catch(Y_){i(Y_)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())});new class{constructor(){eE(this,"config"),eE(this,"isConfigured",!1),this.config={baseURL:"https://api.deepseek.com/v1",model:"deepseek-chat",apiKey:void 0}}configure(e,t,n){this.config.apiKey=e,t&&(this.config.baseURL=t),n&&(this.config.model=n),this.isConfigured=!!e}isReady(){return this.isConfigured&&!!this.config.apiKey}callDeepSeekAPI(e,t=.7){return tE(this,null,function*(){var n,r;if(!this.isReady())throw new Error("AI服务未配置，请先提供API密钥");try{const i=yield fetch(`${this.config.baseURL}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.config.apiKey}`},body:JSON.stringify({model:this.config.model,messages:e,temperature:t,max_tokens:2e3,stream:!1})});if(!i.ok)throw new Error(`API调用失败: ${i.status} ${i.statusText}`);return(null==(r=null==(n=(yield i.json()).choices[0])?void 0:n.message)?void 0:r.content)||""}catch(i){throw i}})}generateContentIdeas(e,t,n=5){return tE(this,null,function*(){if(!this.isReady())return this.getFallbackContentIdeas(t,n);try{const r=this.analyzeTrends(e,t),i=[{role:"system",content:"你是一个专业的小红书内容策略专家，擅长基于数据分析生成高质量内容创意。"},{role:"user",content:`\n作为小红书内容策略专家，基于以下真实数据分析，生成${n}个高质量内容创意：\n\n数据分析：\n${JSON.stringify(r,null,2)}\n\n要求：\n1. 基于数据中的热门话题和趋势\n2. 考虑用户参与度和互动数据\n3. 结合当前时间节点和季节性因素\n4. 每个创意包含：标题、描述、标签、分类、难度、预估浏览量、趋势评分、推荐理由\n\n请以JSON格式返回，格式如下：\n[\n  {\n    "title": "具体标题",\n    "description": "详细描述",\n    "tags": ["标签1", "标签2"],\n    "category": "分类",\n    "difficulty": "beginner|intermediate|advanced",\n    "estimatedViews": 数字,\n    "trendScore": 数字(0-100),\n    "reasons": ["理由1", "理由2"]\n  }\n]\n`}],o=yield this.callDeepSeekAPI(i,.8);return JSON.parse(o)}catch(r){return this.getFallbackContentIdeas(t,n)}})}generateTitleSuggestions(e,t,n,r=8){return tE(this,null,function*(){if(!this.isReady())return this.getFallbackTitleSuggestions(t,n,r);try{const i=this.filterRelevantData(e,t,n).sort((e,t)=>t.likeCount+t.commentCount-(e.likeCount+e.commentCount)).slice(0,10),o=[{role:"system",content:"你是一个专业的小红书标题优化专家，擅长创作高点击率标题。"},{role:"user",content:`\n作为小红书标题优化专家，基于以下高表现内容数据，生成${r}个吸引人的标题：\n\n关键词：${t||"通用"}\n分类：${n||"全分类"}\n\n高表现内容参考：\n${i.map(e=>`- ${e.title} (点赞:${e.likeCount}, 评论:${e.commentCount})`).join("\n")}\n\n要求：\n1. 标题要有吸引力和点击欲望\n2. 融入热门关键词和话题\n3. 考虑不同的标题风格（信息型、情感型、疑问型、列表型、对比型）\n4. 每个标题包含：标题、分类、吸引力评分、关键词、风格、推荐理由\n\n请以JSON格式返回：\n[\n  {\n    "title": "具体标题",\n    "category": "分类",\n    "appeal": 数字(0-100),\n    "keywords": ["关键词1", "关键词2"],\n    "style": "informative|emotional|question|list|comparison",\n    "reasons": ["理由1", "理由2"]\n  }\n]\n`}],a=yield this.callDeepSeekAPI(o,.9);return JSON.parse(a)}catch(i){return this.getFallbackTitleSuggestions(t,n,r)}})}analyzeTrends(e,t){const n=t?e.filter(e=>e.category===t):e,r={};n.forEach(e=>{var t;null==(t=e.tags)||t.forEach(e=>{r[e]=(r[e]||0)+1})});const i=Object.entries(r).sort((e,t)=>t[1]-e[1]).slice(0,10).map(([e,t])=>({tag:e,count:t})),o=n.sort((e,t)=>t.likeCount+t.commentCount-(e.likeCount+e.commentCount)).slice(0,5).map(e=>({title:e.title,engagement:e.likeCount+e.commentCount,category:e.category})),a={};return n.forEach(e=>{var t;const n=(null==(t=e.publishTime)?void 0:t.substring(0,7))||"2025-07";a[n]=(a[n]||0)+1}),{totalItems:n.length,category:t||"全分类",hotTags:i,topContent:o,timeDistribution:a,avgEngagement:n.reduce((e,t)=>e+t.likeCount+t.commentCount,0)/n.length}}filterRelevantData(e,t,n){return e.filter(e=>{var r,i;const o=!n||e.category===n,a=!t||(null==(r=e.title)?void 0:r.includes(t))||(null==(i=e.tags)?void 0:i.some(e=>e.includes(t)));return o&&a})}getFallbackContentIdeas(e,t=5){return[{title:"2025年最值得入手的好物清单",description:"基于真实用户反馈，精选年度最受欢迎的好物推荐",tags:["好物推荐","2025","种草","实用"],category:e||"生活方式",difficulty:"beginner",estimatedViews:15e3,trendScore:85,reasons:["年度总结类内容受欢迎","好物推荐是热门话题"]},{title:"新手必看！从零开始的完整攻略",description:"详细的新手指南，包含所有必要步骤和注意事项",tags:["新手","攻略","教程","必看"],category:e||"学习成长",difficulty:"beginner",estimatedViews:12e3,trendScore:78,reasons:["新手内容需求量大","教程类内容实用性强"]}].slice(0,t)}getFallbackTitleSuggestions(e,t,n=8){const r=e||"好物";return[{title:`${r}种草！这个真的太好用了`,category:t||"生活方式",appeal:85,keywords:[r,"种草","好用"],style:"emotional",reasons:["情感化表达吸引点击","种草是热门话题"]},{title:`${r}测评｜真实使用感受分享`,category:t||"生活方式",appeal:82,keywords:[r,"测评","真实"],style:"informative",reasons:["测评内容可信度高","真实体验受欢迎"]}].slice(0,n)}};const nE="RFC3986",rE={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},iE=Array.isArray,oE=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),aE=1024;function sE(e,t){if(iE(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const lE=Object.prototype.hasOwnProperty,cE={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},uE=Array.isArray,dE=Array.prototype.push,fE=function(e,t){dE.apply(e,uE(t)?t:[t])},hE=Date.prototype.toISOString,pE={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,i)=>{if(0===e.length)return e;let o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let a="";for(let s=0;s<o.length;s+=aE){const e=o.length>=aE?o.slice(s,s+aE):o,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||"RFC1738"===i&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=oE[r]:r<2048?t[t.length]=oE[192|r>>6]+oE[128|63&r]:r<55296||r>=57344?t[t.length]=oE[224|r>>12]+oE[128|r>>6&63]+oE[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=oE[240|r>>18]+oE[128|r>>12&63]+oE[128|r>>6&63]+oE[128|63&r])}a+=t.join("")}return a},encodeValuesOnly:!1,format:nE,formatter:rE[nE],indices:!1,serializeDate:e=>hE.call(e),skipNulls:!1,strictNullHandling:!1},gE={};function yE(e,t,n,r,i,o,a,s,l,c,u,d,f,h,p,g,y,m){let v=e,b=m,x=0,w=!1;for(;void 0!==(b=b.get(gE))&&!w;){const t=b.get(e);if(x+=1,void 0!==t){if(t===x)throw new RangeError("Cyclic object value");w=!0}void 0===b.get(gE)&&(x=0)}if("function"==typeof c?v=c(t,v):v instanceof Date?v=null==f?void 0:f(v):"comma"===n&&uE(v)&&(v=sE(v,function(e){return e instanceof Date?null==f?void 0:f(e):e})),null===v){if(o)return l&&!g?l(t,pE.encoder,y,"key",h):t;v=""}if("string"==typeof(j=v)||"number"==typeof j||"boolean"==typeof j||"symbol"==typeof j||"bigint"==typeof j||function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}(v)){if(l){const e=g?t:l(t,pE.encoder,y,"key",h);return[(null==p?void 0:p(e))+"="+(null==p?void 0:p(l(v,pE.encoder,y,"value",h)))]}return[(null==p?void 0:p(t))+"="+(null==p?void 0:p(String(v)))]}var j;const O=[];if(void 0===v)return O;let S;if("comma"===n&&uE(v))g&&l&&(v=sE(v,l)),S=[{value:v.length>0?v.join(",")||null:void 0}];else if(uE(c))S=c;else{const e=Object.keys(v);S=u?e.sort(u):e}const _=s?String(t).replace(/\./g,"%2E"):String(t),P=r&&uE(v)&&1===v.length?_+"[]":_;if(i&&uE(v)&&0===v.length)return P+"[]";for(let A=0;A<S.length;++A){const t=S[A],b="object"==typeof t&&void 0!==t.value?t.value:v[t];if(a&&null===b)continue;const w=d&&s?t.replace(/\./g,"%2E"):t,j=uE(v)?"function"==typeof n?n(P,w):P:P+(d?"."+w:"["+w+"]");m.set(e,x);const _=new WeakMap;_.set(gE,m),fE(O,yE(b,j,n,r,i,o,a,s,"comma"===n&&g&&uE(v)?null:l,c,u,d,f,h,p,g,y,_))}return O}function mE(e,t={}){let n=e;const r=function(e=pE){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||pE.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=nE;if(void 0!==e.format){if(!lE.call(rE,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=rE[n];let i,o=pE.filter;if(("function"==typeof e.filter||uE(e.filter))&&(o=e.filter),i=e.arrayFormat&&e.arrayFormat in cE?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":pE.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=void 0===e.allowDots?1==!!e.encodeDotInKeys||pE.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:pE.addQueryPrefix,allowDots:a,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:pE.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:pE.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?pE.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:pE.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:pE.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:pE.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:pE.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:pE.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:pE.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:pE.strictNullHandling}}(t);let i,o;"function"==typeof r.filter?(o=r.filter,n=o("",n)):uE(r.filter)&&(o=r.filter,i=o);const a=[];if("object"!=typeof n||null===n)return"";const s=cE[r.arrayFormat],l="comma"===s&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);const c=new WeakMap;for(let f=0;f<i.length;++f){const e=i[f];r.skipNulls&&null===n[e]||fE(a,yE(n[e],e,s,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const u=a.join(r.delimiter);let d=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const vE="4.104.0";let bE,xE,wE,jE,OE,SE,_E,PE,AE,kE=!1;class EE{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}const ME=()=>{bE||function(e,t={auto:!1}){if(kE)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(bE)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${bE}'\``);kE=t.auto,bE=e.kind,xE=e.fetch,wE=e.FormData,jE=e.File,OE=e.ReadableStream,SE=e.getMultipartRequestOptions,_E=e.getDefaultAgent,PE=e.fileFromPath,AE=e.isFsReadStream}(function({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,o;try{n=fetch,r=Request,i=Response,o=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:o,FormData:"undefined"!=typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!=typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!=typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:(e,t)=>y(null,null,function*(){return h(f({},t),{body:new EE(e)})}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0})};ME();class CE extends Error{}class TE extends CE{constructor(e,t,n,r){super(`${TE.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=null==r?void 0:r["x-request-id"],this.error=t;const i=t;this.code=null==i?void 0:i.code,this.param=null==i?void 0:i.param,this.type=null==i?void 0:i.type}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new DE({message:n,cause:TM(t)});const i=null==t?void 0:t.error;return 400===e?new RE(e,i,n,r):401===e?new $E(e,i,n,r):403===e?new LE(e,i,n,r):404===e?new BE(e,i,n,r):409===e?new zE(e,i,n,r):422===e?new FE(e,i,n,r):429===e?new UE(e,i,n,r):e>=500?new KE(e,i,n,r):new TE(e,i,n,r)}}class IE extends TE{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class DE extends TE{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class NE extends DE{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class RE extends TE{}class $E extends TE{}class LE extends TE{}class BE extends TE{}class zE extends TE{}class FE extends TE{}class UE extends TE{}class KE extends TE{}class WE extends CE{constructor(){super("Could not parse response content as the length limit was reached")}}class qE extends CE{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var HE,VE=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},GE=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class YE{constructor(){HE.set(this,void 0),this.buffer=new Uint8Array,VE(this,HE,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(new TextEncoder).encode(e):e;let n=new Uint8Array(this.buffer.length+t.length);n.set(this.buffer),n.set(t,this.buffer.length),this.buffer=n;const r=[];let i;for(;null!=(i=XE(this.buffer,GE(this,HE,"f")));){if(i.carriage&&null==GE(this,HE,"f")){VE(this,HE,i.index,"f");continue}if(null!=GE(this,HE,"f")&&(i.index!==GE(this,HE,"f")+1||i.carriage)){r.push(this.decodeText(this.buffer.slice(0,GE(this,HE,"f")-1))),this.buffer=this.buffer.slice(GE(this,HE,"f")),VE(this,HE,null,"f");continue}const e=null!==GE(this,HE,"f")?i.preceding-1:i.preceding,t=this.decodeText(this.buffer.slice(0,e));r.push(t),this.buffer=this.buffer.slice(i.index),VE(this,HE,null,"f")}return r}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("undefined"!=typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new CE(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return null!=this.textDecoder||(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new CE(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new CE("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode("\n"):[]}}function XE(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function JE(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}function ZE(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{next(){return y(this,null,function*(){try{const e=yield t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(Y_){throw t.releaseLock(),Y_}})},return(){return y(this,null,function*(){const e=t.cancel();return t.releaseLock(),yield e,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}HE=new WeakMap,YE.NEWLINE_CHARS=new Set(["\n","\r"]),YE.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class QE{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new QE(function(){return v(this,null,function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{try{for(var i,o,a,s=b(function(e,t){return v(this,null,function*(){if(!e.body)throw t.abort(),new CE("Attempted to iterate over a response with no body");const n=new eM,r=new YE,i=ZE(e.body);try{for(var o,a,s,l=b(function(e){return v(this,null,function*(){let t=new Uint8Array;try{for(var n,r,i,o=b(e);n=!(r=yield new m(o.next())).done;n=!1){const e=r.value;if(null==e)continue;const n=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?(new TextEncoder).encode(e):e;let i,o=new Uint8Array(t.length+n.length);for(o.set(t),o.set(n,t.length),t=o;-1!==(i=JE(t));)yield t.slice(0,i),t=t.slice(i)}}catch(r){i=[r]}finally{try{n&&(r=o.return)&&(yield new m(r.call(o)))}finally{if(i)throw i[0]}}t.length>0&&(yield t)})}(i));o=!(a=yield new m(l.next())).done;o=!1){const e=a.value;for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}}}catch(a){s=[a]}finally{try{o&&(a=l.return)&&(yield new m(a.call(l)))}finally{if(s)throw s[0]}}for(const e of r.flush()){const t=n.decode(e);t&&(yield t)}})}(e,t));i=!(o=yield new m(s.next())).done;i=!1){const t=o.value;if(!r)if(t.data.startsWith("[DONE]"))r=!0;else if(null===t.event||t.event.startsWith("response.")||t.event.startsWith("transcript.")){let n;try{n=JSON.parse(t.data)}catch(Y_){throw Y_}if(n&&n.error)throw new TE(void 0,n.error,void 0,bM(e.headers));yield n}else{let e;try{e=JSON.parse(t.data)}catch(Y_){throw Y_}if("error"==t.event)throw new TE(void 0,e.error,e.message,void 0);yield{event:t.event,data:e}}}}catch(o){a=[o]}finally{try{i&&(o=s.return)&&(yield new m(o.call(s)))}finally{if(a)throw a[0]}}r=!0}catch(Y_){if(Y_ instanceof Error&&"AbortError"===Y_.name)return;throw Y_}finally{r||t.abort()}})},t)}static fromReadableStream(e,t){let n=!1;return new QE(function(){return v(this,null,function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{try{for(var i,o,a,s=b(function(){return v(this,null,function*(){const t=new YE,n=ZE(e);try{for(var r,i,o,a=b(n);r=!(i=yield new m(a.next())).done;r=!1){const e=i.value;for(const n of t.decode(e))yield n}}catch(i){o=[i]}finally{try{r&&(i=a.return)&&(yield new m(i.call(a)))}finally{if(o)throw o[0]}}for(const e of t.flush())yield e})}());i=!(o=yield new m(s.next())).done;i=!1){const e=o.value;r||e&&(yield JSON.parse(e))}}catch(o){a=[o]}finally{try{i&&(o=s.return)&&(yield new m(o.call(s)))}finally{if(a)throw a[0]}}r=!0}catch(Y_){if(Y_ instanceof Error&&"AbortError"===Y_.name)return;throw Y_}finally{r||t.abort()}})},t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new QE(()=>r(e),this.controller),new QE(()=>r(t),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new OE({start(){return y(this,null,function*(){t=e[Symbol.asyncIterator]()})},pull(e){return y(this,null,function*(){try{const{value:r,done:i}=yield t.next();if(i)return e.close();const o=n.encode(JSON.stringify(r)+"\n");e.enqueue(o)}catch(r){e.error(r)}})},cancel(){return y(this,null,function*(){var e;yield null==(e=t.return)?void 0:e.call(t)})}})}}class eM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);return-1!==n?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}const tM=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,nM=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&rM(e),rM=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;function iM(e,t,n){return y(this,null,function*(){var r,i,o;if(e=yield e,nM(e))return e;if(tM(e)){const i=yield e.blob();t||(t=null!=(r=new URL(e.url).pathname.split(/[\\/]/).pop())?r:"unknown_file");const o=rM(i)?[yield i.arrayBuffer()]:[i];return new jE(o,t,n)}const a=yield function(e){return y(this,null,function*(){var t;let n=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)n.push(e);else if(rM(e))n.push(yield e.arrayBuffer());else{if(!aM(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${null==(t=null==e?void 0:e.constructor)?void 0:t.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`);try{for(var r,i,o,a=b(e);r=!(i=yield a.next()).done;r=!1){const e=i.value;n.push(e)}}catch(i){o=[i]}finally{try{r&&(i=a.return)&&(yield i.call(a))}finally{if(o)throw o[0]}}}return n})}(e);if(t||(t=null!=(i=function(e){var t;return oM(e.name)||oM(e.filename)||(null==(t=oM(e.path))?void 0:t.split(/[\\/]/).pop())}(e))?i:"unknown_file"),!(null==n?void 0:n.type)){const e=null==(o=a[0])?void 0:o.type;"string"==typeof e&&(n=h(f({},n),{type:e}))}return new jE(a,t,n)})}const oM=e=>"string"==typeof e?e:"undefined"!=typeof Buffer&&e instanceof Buffer?String(e):void 0,aM=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],sM=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],lM=e=>y(null,null,function*(){const t=yield cM(e.body);return SE(t,e)}),cM=e=>y(null,null,function*(){const t=new wE;return yield Promise.all(Object.entries(e||{}).map(([e,n])=>uM(t,e,n))),t}),uM=(e,t,n)=>y(null,null,function*(){if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)e.append(t,String(n));else if((e=>nM(e)||tM(e)||AE(e))(n)){const r=yield iM(n);e.append(t,r)}else if(Array.isArray(n))yield Promise.all(n.map(n=>uM(e,t+"[]",n)));else{if("object"!=typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);yield Promise.all(Object.entries(n).map(([n,r])=>uM(e,`${t}[${n}]`,r)))}}});var dM,fM={};function hM(e){return y(this,null,function*(){var t;const{response:n}=e;if(e.options.stream)return LM(0,n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller):QE.fromSSEResponse(n,e.controller);if(204===n.status)return null;if(e.options.__binaryResponse)return n;const r=n.headers.get("content-type"),i=null==(t=null==r?void 0:r.split(";")[0])?void 0:t.trim();if((null==i?void 0:i.includes("application/json"))||(null==i?void 0:i.endsWith("+json"))){const e=yield n.json();return LM(0,n.status,n.url,n.headers,e),pM(e,n)}const o=yield n.text();return LM(0,n.status,n.url,n.headers,o),o})}function pM(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}ME();class gM extends Promise{constructor(e,t=hM){super(e=>{e(null)}),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new gM(this.responsePromise,t=>y(this,null,function*(){return pM(e(yield this.parseResponse(t),t),t.response)}))}asResponse(){return this.responsePromise.then(e=>e.response)}withResponse(){return y(this,null,function*(){const[e,t]=yield Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}})}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class yM{constructor({baseURL:e,maxRetries:t=2,timeout:n=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=CM("maxRetries",t),this.timeout=CM("timeout",n),this.httpAgent=r,this.fetch=null!=i?i:xE}authHeaders(e){return{}}defaultHeaders(e){return f(f({Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent()},PM()),this.authHeaders(e))}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${BM()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>y(this,null,function*(){const r=n&&rM(null==n?void 0:n.body)?new DataView(yield n.body.arrayBuffer()):(null==n?void 0:n.body)instanceof DataView?n.body:(null==n?void 0:n.body)instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(null==n?void 0:n.body)?new DataView(n.body.buffer):null==n?void 0:n.body;return h(f({method:e,path:t},n),{body:r})})))}getAPIList(e,t,n){return this.requestAPIList(t,f({method:"get",path:e},n))}calculateContentLength(e){if("string"==typeof e){if("undefined"!=typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){var n,r,i,o,a,s;const l=f({},e),{method:c,path:u,query:d,headers:p={}}=l,g=ArrayBuffer.isView(l.body)||l.__binaryRequest&&"string"==typeof l.body?l.body:sM(l.body)?l.body.body:l.body?JSON.stringify(l.body,null,2):null,y=this.calculateContentLength(g),m=this.buildURL(u,d);"timeout"in l&&CM("timeout",l.timeout),l.timeout=null!=(n=l.timeout)?n:this.timeout;const v=null!=(i=null!=(r=l.httpAgent)?r:this.httpAgent)?i:_E(m),b=l.timeout+1e3;"number"==typeof(null==(o=null==v?void 0:v.options)?void 0:o.timeout)&&b>(null!=(a=v.options.timeout)?a:0)&&(v.options.timeout=b),this.idempotencyHeader&&"get"!==c&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),p[this.idempotencyHeader]=e.idempotencyKey);const x=this.buildHeaders({options:l,headers:p,contentLength:y,retryCount:t});return{req:h(f(h(f({method:c},g&&{body:g}),{headers:x}),v&&{agent:v}),{signal:null!=(s=l.signal)?s:null}),url:m,timeout:l.timeout}}buildHeaders({options:e,headers:t,contentLength:n,retryCount:r}){const i={};n&&(i["content-length"]=n);const o=this.defaultHeaders(e);return RM(i,o),RM(i,t),sM(e.body)&&"node"!==bE&&delete i["content-type"],void 0===zM(o,"x-stainless-retry-count")&&void 0===zM(t,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(r)),void 0===zM(o,"x-stainless-timeout")&&void 0===zM(t,"x-stainless-timeout")&&e.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(i,t),i}prepareOptions(e){return y(this,null,function*(){})}prepareRequest(e,t){return y(this,arguments,function*(e,{url:t,options:n}){})}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(e=>[...e])):f({},e):{}}makeStatusError(e,t,n,r){return TE.generate(e,t,n,r)}request(e,t=null){return new gM(this.makeRequest(e,t))}makeRequest(e,t){return y(this,null,function*(){var n,r,i;const o=yield e,a=null!=(n=o.maxRetries)?n:this.maxRetries;null==t&&(t=a),yield this.prepareOptions(o);const{req:s,url:l,timeout:c}=this.buildRequest(o,{retryCount:a-t});if(yield this.prepareRequest(s,{url:l,options:o}),LM(0,l,o,s.headers),null==(r=o.signal)?void 0:r.aborted)throw new IE;const u=new AbortController,d=yield this.fetchWithTimeout(l,s,c,u).catch(TM);if(d instanceof Error){if(null==(i=o.signal)?void 0:i.aborted)throw new IE;if(t)return this.retryRequest(o,t);if("AbortError"===d.name)throw new NE;throw new DE({cause:d})}const f=bM(d.headers);if(!d.ok){if(t&&this.shouldRetry(d))return LM(0,d.status,l,f),this.retryRequest(o,t,f);const e=yield d.text().catch(e=>TM(e).message),n=AM(e),r=n?void 0:e;throw LM(0,d.status,l,f,r),this.makeStatusError(d.status,n,r,f)}return{response:d,options:o,controller:u}})}requestAPIList(e,t){const n=this.makeRequest(t,null);return new vM(this,n,e)}buildURL(e,t){const n=EM(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return DM(r)||(t=f(f({},r),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new CE(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}fetchWithTimeout(e,t,n,r){return y(this,null,function*(){const i=t||{},{signal:o}=i,a=p(i,["signal"]);o&&o.addEventListener("abort",()=>r.abort());const s=setTimeout(()=>r.abort(),n),l=f({signal:r.signal},a);return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(s)})})}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}retryRequest(e,t,n){return y(this,null,function*(){var r;let i;const o=null==n?void 0:n["retry-after-ms"];if(o){const e=parseFloat(o);Number.isNaN(e)||(i=e)}const a=null==n?void 0:n["retry-after"];if(a&&!i){const e=parseFloat(a);i=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(i&&0<=i&&i<6e4)){const n=null!=(r=e.maxRetries)?r:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}return yield MM(i),this.makeRequest(e,t-1)})}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${vE}`}}class mM{constructor(e,t,n,r){dM.set(this,void 0),function(e,t,n){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");t.set(e,n)}(this,dM,e),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}getNextPage(){return y(this,null,function*(){const e=this.nextPageInfo();if(!e)throw new CE("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t=f({},this.options);if("params"in e&&"object"==typeof t.query)t.query=f(f({},t.query),e.params);else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return yield function(e,t,n,r){if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,dM,"f").requestAPIList(this.constructor,t)})}iterPages(){return v(this,null,function*(){let e=this;for(yield e;e.hasNextPage();)e=yield new m(e.getNextPage()),yield e})}[(dM=new WeakMap,Symbol.asyncIterator)](){return v(this,null,function*(){try{for(var e,t,n,r=b(this.iterPages());e=!(t=yield new m(r.next())).done;e=!1){const e=t.value;for(const t of e.getPaginatedItems())yield t}}catch(t){n=[t]}finally{try{e&&(t=r.return)&&(yield new m(t.call(r)))}finally{if(n)throw n[0]}}})}}class vM extends gM{constructor(e,t,n){super(t,t=>y(null,null,function*(){return new n(e,t.response,yield hM(t),t.options)}))}[Symbol.asyncIterator](){return v(this,null,function*(){const e=yield new m(this);try{for(var t,n,r,i=b(e);t=!(n=yield new m(i.next())).done;t=!1){const e=n.value;yield e}}catch(n){r=[n]}finally{try{t&&(n=i.return)&&(yield new m(n.call(i)))}finally{if(r)throw r[0]}}})}}const bM=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),xM={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},wM=e=>"object"==typeof e&&null!==e&&!DM(e)&&Object.keys(e).every(e=>NM(xM,e)),jM=()=>{var e,t;if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vE,"X-Stainless-OS":SM(Deno.build.os),"X-Stainless-Arch":OM(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!=(t=null==(e=Deno.version)?void 0:e.deno)?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vE,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vE,"X-Stainless-OS":SM(process.platform),"X-Stainless-Arch":OM(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const n=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return n?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vE,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${n.browser}`,"X-Stainless-Runtime-Version":n.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vE,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}},OM=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",SM=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let _M;const PM=()=>null!=_M?_M:_M=jM(),AM=e=>{try{return JSON.parse(e)}catch(t){return}},kM=/^[a-z][a-z0-9+.-]*:/i,EM=e=>kM.test(e),MM=e=>new Promise(t=>setTimeout(t,e)),CM=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new CE(`${e} must be an integer`);if(t<0)throw new CE(`${e} must be a positive integer`);return t},TM=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch(Y_){}return new Error(e)},IM=e=>{var t,n,r,i,o;return"undefined"!=typeof process?null!=(n=null==(t=null==fM?void 0:fM[e])?void 0:t.trim())?n:void 0:"undefined"!=typeof Deno?null==(o=null==(i=null==(r=Deno.env)?void 0:r.get)?void 0:i.call(r,e))?void 0:o.trim():void 0};function DM(e){if(!e)return!0;for(const t in e)return!1;return!0}function NM(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function RM(e,t){for(const n in t){if(!NM(t,n))continue;const r=n.toLowerCase();if(!r)continue;const i=t[n];null===i?delete e[r]:void 0!==i&&(e[r]=i)}}const $M=new Set(["authorization","api-key"]);function LM(e,...t){"undefined"!=typeof process&&"true"===(null==fM?void 0:fM.DEBUG)&&t.map(e=>{if(!e)return e;if(e.headers){const t=h(f({},e),{headers:f({},e.headers)});for(const n in e.headers)$M.has(n.toLowerCase())&&(t.headers[n]="REDACTED");return t}let t=null;for(const n in e)$M.has(n.toLowerCase())&&(null!=t||(t=f({},e)),t[n]="REDACTED");return null!=t?t:e})}const BM=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),zM=(e,t)=>{var n;const r=t.toLowerCase();if((e=>"function"==typeof(null==e?void 0:e.get))(e)){const i=(null==(n=t[0])?void 0:n.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(e,t,n)=>t+n.toUpperCase());for(const n of[t,r,t.toUpperCase(),i]){const t=e.get(n);if(t)return t}}for(const[i,o]of Object.entries(e))if(i.toLowerCase()===r)return Array.isArray(o)?(o.length,o[0]):o};function FM(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}class UM extends mM{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){var e;return null!=(e=this.data)?e:[]}nextPageParams(){return null}nextPageInfo(){return null}}class KM extends mM{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){var e;return null!=(e=this.data)?e:[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){var e;const t=this.getPaginatedItems();if(!t.length)return null;const n=null==(e=t[t.length-1])?void 0:e.id;return n?{params:{after:n}}:null}}class WM{constructor(e){this._client=e}}let qM=class extends WM{list(e,t={},n){return wM(t)?this.list(e,{},t):this._client.getAPIList(`/chat/completions/${e}/messages`,GM,f({query:t},n))}},HM=class extends WM{constructor(){super(...arguments),this.messages=new qM(this._client)}create(e,t){var n;return this._client.post("/chat/completions",h(f({body:e},t),{stream:null!=(n=e.stream)&&n}))}retrieve(e,t){return this._client.get(`/chat/completions/${e}`,t)}update(e,t,n){return this._client.post(`/chat/completions/${e}`,f({body:t},n))}list(e={},t){return wM(e)?this.list({},e):this._client.getAPIList("/chat/completions",VM,f({query:e},t))}del(e,t){return this._client.delete(`/chat/completions/${e}`,t)}};class VM extends KM{}class GM extends KM{}HM.ChatCompletionsPage=VM,HM.Messages=qM;let YM=class extends WM{constructor(){super(...arguments),this.completions=new HM(this._client)}};YM.Completions=HM,YM.ChatCompletionsPage=VM;class XM extends WM{create(e,t){return this._client.post("/audio/speech",h(f({body:e},t),{headers:f({Accept:"application/octet-stream"},null==t?void 0:t.headers),__binaryResponse:!0}))}}class JM extends WM{create(e,t){var n;return this._client.post("/audio/transcriptions",lM(h(f({body:e},t),{stream:null!=(n=e.stream)&&n,__metadata:{model:e.model}})))}}class ZM extends WM{create(e,t){return this._client.post("/audio/translations",lM(h(f({body:e},t),{__metadata:{model:e.model}})))}}class QM extends WM{constructor(){super(...arguments),this.transcriptions=new JM(this._client),this.translations=new ZM(this._client),this.speech=new XM(this._client)}}QM.Transcriptions=JM,QM.Translations=ZM,QM.Speech=XM;class eC extends WM{create(e,t){return this._client.post("/batches",f({body:e},t))}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return wM(e)?this.list({},e):this._client.getAPIList("/batches",tC,f({query:e},t))}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class tC extends KM{}eC.BatchesPage=tC;var nC,rC,iC,oC,aC,sC,lC,cC,uC,dC,fC,hC,pC,gC=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},yC=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class mC{constructor(){nC.add(this),this.controller=new AbortController,rC.set(this,void 0),iC.set(this,()=>{}),oC.set(this,()=>{}),aC.set(this,void 0),sC.set(this,()=>{}),lC.set(this,()=>{}),cC.set(this,{}),uC.set(this,!1),dC.set(this,!1),fC.set(this,!1),hC.set(this,!1),gC(this,rC,new Promise((e,t)=>{gC(this,iC,e,"f"),gC(this,oC,t,"f")}),"f"),gC(this,aC,new Promise((e,t)=>{gC(this,sC,e,"f"),gC(this,lC,t,"f")}),"f"),yC(this,rC,"f").catch(()=>{}),yC(this,aC,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},yC(this,nC,"m",pC).bind(this))},0)}_connected(){this.ended||(yC(this,iC,"f").call(this),this._emit("connect"))}get ended(){return yC(this,uC,"f")}get errored(){return yC(this,dC,"f")}get aborted(){return yC(this,fC,"f")}abort(){this.controller.abort()}on(e,t){return(yC(this,cC,"f")[e]||(yC(this,cC,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=yC(this,cC,"f")[e];if(!n)return this;const r=n.findIndex(e=>e.listener===t);return r>=0&&n.splice(r,1),this}once(e,t){return(yC(this,cC,"f")[e]||(yC(this,cC,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{gC(this,hC,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)})}done(){return y(this,null,function*(){gC(this,hC,!0,"f"),yield yC(this,aC,"f")})}_emit(e,...t){if(yC(this,uC,"f"))return;"end"===e&&(gC(this,uC,!0,"f"),yC(this,sC,"f").call(this));const n=yC(this,cC,"f")[e];if(n&&(yC(this,cC,"f")[e]=n.filter(e=>!e.once),n.forEach(({listener:e})=>e(...t))),"abort"===e){const e=t[0];return yC(this,hC,"f")||(null==n?void 0:n.length)||Promise.reject(e),yC(this,oC,"f").call(this,e),yC(this,lC,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];yC(this,hC,"f")||(null==n?void 0:n.length)||Promise.reject(e),yC(this,oC,"f").call(this,e),yC(this,lC,"f").call(this,e),this._emit("end")}}_emitFinal(){}}rC=new WeakMap,iC=new WeakMap,oC=new WeakMap,aC=new WeakMap,sC=new WeakMap,lC=new WeakMap,cC=new WeakMap,uC=new WeakMap,dC=new WeakMap,fC=new WeakMap,hC=new WeakMap,nC=new WeakSet,pC=function(e){if(gC(this,dC,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new IE),e instanceof IE)return gC(this,fC,!0,"f"),this._emit("abort",e);if(e instanceof CE)return this._emit("error",e);if(e instanceof Error){const t=new CE(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new CE(String(e)))};var vC,bC,xC,wC,jC,OC,SC,_C,PC,AC,kC,EC,MC,CC,TC,IC,DC,NC,RC,$C,LC,BC,zC=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},FC=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};class UC extends mC{constructor(){super(...arguments),vC.add(this),bC.set(this,[]),xC.set(this,{}),wC.set(this,{}),jC.set(this,void 0),OC.set(this,void 0),SC.set(this,void 0),_C.set(this,void 0),PC.set(this,void 0),AC.set(this,void 0),kC.set(this,void 0),EC.set(this,void 0),MC.set(this,void 0)}[(bC=new WeakMap,xC=new WeakMap,wC=new WeakMap,jC=new WeakMap,OC=new WeakMap,SC=new WeakMap,_C=new WeakMap,PC=new WeakMap,AC=new WeakMap,kC=new WeakMap,EC=new WeakMap,MC=new WeakMap,vC=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:()=>y(this,null,function*(){return e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0})}),return:()=>y(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}static fromReadableStream(e){const t=new UC;return t._run(()=>t._fromReadableStream(e)),t}_fromReadableStream(e,t){return y(this,null,function*(){var n;const r=null==t?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=QE.fromReadableStream(e,this.controller);try{for(var o,a,s,l=b(i);o=!(a=yield l.next()).done;o=!1){const e=a.value;zC(this,vC,"m",CC).call(this,e)}}catch(a){s=[a]}finally{try{o&&(a=l.return)&&(yield a.call(l))}finally{if(s)throw s[0]}}if(null==(n=i.controller.signal)?void 0:n.aborted)throw new IE;return this._addRun(zC(this,vC,"m",TC).call(this))})}toReadableStream(){return new QE(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,i){const o=new UC;return o._run(()=>o._runToolAssistantStream(e,t,n,r,h(f({},i),{headers:h(f({},null==i?void 0:i.headers),{"X-Stainless-Helper-Method":"stream"})}))),o}_createToolAssistantStream(e,t,n,r,i){return y(this,null,function*(){var o;const a=null==i?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const s=h(f({},r),{stream:!0}),l=yield e.submitToolOutputs(t,n,s,h(f({},i),{signal:this.controller.signal}));this._connected();try{for(var c,u,d,p=b(l);c=!(u=yield p.next()).done;c=!1){const e=u.value;zC(this,vC,"m",CC).call(this,e)}}catch(u){d=[u]}finally{try{c&&(u=p.return)&&(yield u.call(p))}finally{if(d)throw d[0]}}if(null==(o=l.controller.signal)?void 0:o.aborted)throw new IE;return this._addRun(zC(this,vC,"m",TC).call(this))})}static createThreadAssistantStream(e,t,n){const r=new UC;return r._run(()=>r._threadAssistantStream(e,t,h(f({},n),{headers:h(f({},null==n?void 0:n.headers),{"X-Stainless-Helper-Method":"stream"})}))),r}static createAssistantStream(e,t,n,r){const i=new UC;return i._run(()=>i._runAssistantStream(e,t,n,h(f({},r),{headers:h(f({},null==r?void 0:r.headers),{"X-Stainless-Helper-Method":"stream"})}))),i}currentEvent(){return zC(this,kC,"f")}currentRun(){return zC(this,EC,"f")}currentMessageSnapshot(){return zC(this,jC,"f")}currentRunStepSnapshot(){return zC(this,MC,"f")}finalRunSteps(){return y(this,null,function*(){return yield this.done(),Object.values(zC(this,xC,"f"))})}finalMessages(){return y(this,null,function*(){return yield this.done(),Object.values(zC(this,wC,"f"))})}finalRun(){return y(this,null,function*(){if(yield this.done(),!zC(this,OC,"f"))throw Error("Final run was not received.");return zC(this,OC,"f")})}_createThreadAssistantStream(e,t,n){return y(this,null,function*(){var r;const i=null==n?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o=h(f({},t),{stream:!0}),a=yield e.createAndRun(o,h(f({},n),{signal:this.controller.signal}));this._connected();try{for(var s,l,c,u=b(a);s=!(l=yield u.next()).done;s=!1){const e=l.value;zC(this,vC,"m",CC).call(this,e)}}catch(l){c=[l]}finally{try{s&&(l=u.return)&&(yield l.call(u))}finally{if(c)throw c[0]}}if(null==(r=a.controller.signal)?void 0:r.aborted)throw new IE;return this._addRun(zC(this,vC,"m",TC).call(this))})}_createAssistantStream(e,t,n,r){return y(this,null,function*(){var i;const o=null==r?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a=h(f({},n),{stream:!0}),s=yield e.create(t,a,h(f({},r),{signal:this.controller.signal}));this._connected();try{for(var l,c,u,d=b(s);l=!(c=yield d.next()).done;l=!1){const e=c.value;zC(this,vC,"m",CC).call(this,e)}}catch(c){u=[c]}finally{try{l&&(c=d.return)&&(yield c.call(d))}finally{if(u)throw u[0]}}if(null==(i=s.controller.signal)?void 0:i.aborted)throw new IE;return this._addRun(zC(this,vC,"m",TC).call(this))})}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!=t)if("index"!==n&&"type"!==n){if("string"==typeof t&&"string"==typeof r)t+=r;else if("number"==typeof t&&"number"==typeof r)t+=r;else{if(!FM(t)||!FM(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...r);continue}for(const e of r){if(!FM(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw new Error("Expected array delta entry to have an `index` property");if("number"!=typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}_threadAssistantStream(e,t,n){return y(this,null,function*(){return yield this._createThreadAssistantStream(t,e,n)})}_runAssistantStream(e,t,n,r){return y(this,null,function*(){return yield this._createAssistantStream(t,e,n,r)})}_runToolAssistantStream(e,t,n,r,i){return y(this,null,function*(){return yield this._createToolAssistantStream(n,e,t,r,i)})}}CC=function(e){if(!this.ended)switch(FC(this,kC,e,"f"),zC(this,vC,"m",NC).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":zC(this,vC,"m",BC).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":zC(this,vC,"m",DC).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":zC(this,vC,"m",IC).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},TC=function(){if(this.ended)throw new CE("stream has ended, this shouldn't happen");if(!zC(this,OC,"f"))throw Error("Final run has not been received");return zC(this,OC,"f")},IC=function(e){const[t,n]=zC(this,vC,"m",$C).call(this,e,zC(this,jC,"f"));FC(this,jC,t,"f"),zC(this,wC,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==(null==e?void 0:e.type)&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=zC(this,SC,"f")){if(zC(this,_C,"f"))switch(zC(this,_C,"f").type){case"text":this._emit("textDone",zC(this,_C,"f").text,zC(this,jC,"f"));break;case"image_file":this._emit("imageFileDone",zC(this,_C,"f").image_file,zC(this,jC,"f"))}FC(this,SC,n.index,"f")}FC(this,_C,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==zC(this,SC,"f")){const t=e.data.content[zC(this,SC,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,zC(this,jC,"f"));break;case"text":this._emit("textDone",t.text,zC(this,jC,"f"))}}zC(this,jC,"f")&&this._emit("messageDone",e.data),FC(this,jC,void 0,"f")}},DC=function(e){const t=zC(this,vC,"m",RC).call(this,e);switch(FC(this,MC,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==zC(this,PC,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(zC(this,AC,"f")&&this._emit("toolCallDone",zC(this,AC,"f")),FC(this,PC,e.index,"f"),FC(this,AC,t.step_details.tool_calls[e.index],"f"),zC(this,AC,"f")&&this._emit("toolCallCreated",zC(this,AC,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":FC(this,MC,void 0,"f"),"tool_calls"==e.data.step_details.type&&zC(this,AC,"f")&&(this._emit("toolCallDone",zC(this,AC,"f")),FC(this,AC,void 0,"f")),this._emit("runStepDone",e.data,t)}},NC=function(e){zC(this,bC,"f").push(e),this._emit("event",e)},RC=function(e){switch(e.event){case"thread.run.step.created":return zC(this,xC,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=zC(this,xC,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=UC.accumulateDelta(t,n.delta);zC(this,xC,"f")[e.data.id]=r}return zC(this,xC,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":zC(this,xC,"f")[e.data.id]=e.data}if(zC(this,xC,"f")[e.data.id])return zC(this,xC,"f")[e.data.id];throw new Error("No snapshot available")},$C=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=zC(this,vC,"m",LC).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},LC=function(e,t){return UC.accumulateDelta(t,e)},BC=function(e){switch(FC(this,EC,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":FC(this,OC,e.data,"f"),zC(this,AC,"f")&&(this._emit("toolCallDone",zC(this,AC,"f")),FC(this,AC,void 0,"f"))}};class KC extends WM{create(e,t){return this._client.post("/assistants",h(f({body:e},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}retrieve(e,t){return this._client.get(`/assistants/${e}`,h(f({},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}update(e,t,n){return this._client.post(`/assistants/${e}`,h(f({body:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}list(e={},t){return wM(e)?this.list({},e):this._client.getAPIList("/assistants",WC,h(f({query:e},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}del(e,t){return this._client.delete(`/assistants/${e}`,h(f({},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}}class WC extends KM{}function qC(e){return"function"==typeof e.parse}KC.AssistantsPage=WC;const HC=e=>"assistant"===(null==e?void 0:e.role),VC=e=>"function"===(null==e?void 0:e.role),GC=e=>"tool"===(null==e?void 0:e.role);function YC(e){return"auto-parseable-response-format"===(null==e?void 0:e.$brand)}function XC(e){return"auto-parseable-tool"===(null==e?void 0:e.$brand)}function JC(e,t){const n=e.choices.map(e=>{var n,r;if("length"===e.finish_reason)throw new WE;if("content_filter"===e.finish_reason)throw new qE;return h(f({},e),{message:h(f(f({},e.message),e.message.tool_calls?{tool_calls:null!=(r=null==(n=e.message.tool_calls)?void 0:n.map(e=>function(e,t){var n;const r=null==(n=e.tools)?void 0:n.find(e=>{var n;return(null==(n=e.function)?void 0:n.name)===t.function.name});return h(f({},t),{function:h(f({},t.function),{parsed_arguments:XC(r)?r.$parseRaw(t.function.arguments):(null==r?void 0:r.function.strict)?JSON.parse(t.function.arguments):null})})}(t,e)))?r:void 0}:void 0),{parsed:e.message.content&&!e.message.refusal?ZC(t,e.message.content):null})})});return h(f({},e),{choices:n})}function ZC(e,t){var n,r;return"json_schema"!==(null==(n=e.response_format)?void 0:n.type)?null:"json_schema"===(null==(r=e.response_format)?void 0:r.type)?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function QC(e,t){var n;if(!e)return!1;const r=null==(n=e.tools)?void 0:n.find(e=>{var n;return(null==(n=e.function)?void 0:n.name)===t.function.name});return XC(r)||(null==r?void 0:r.function.strict)||!1}function eT(e){var t,n;return!!YC(e.response_format)||null!=(n=null==(t=e.tools)?void 0:t.some(e=>XC(e)||"function"===e.type&&!0===e.function.strict))&&n}var tT,nT,rT,iT,oT,aT,sT,lT,cT=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const uT=10;class dT extends mC{constructor(){super(...arguments),tT.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var t;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=null==(t=e.choices[0])?void 0:t.message;return n&&this._addMessage(n),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(VC(e)||GC(e))&&e.content)this._emit("functionCallResult",e.content);else if(HC(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(HC(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionCall",n.function)}finalChatCompletion(){return y(this,null,function*(){yield this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new CE("stream ended without producing a ChatCompletion");return e})}finalContent(){return y(this,null,function*(){return yield this.done(),cT(this,tT,"m",nT).call(this)})}finalMessage(){return y(this,null,function*(){return yield this.done(),cT(this,tT,"m",rT).call(this)})}finalFunctionCall(){return y(this,null,function*(){return yield this.done(),cT(this,tT,"m",iT).call(this)})}finalFunctionCallResult(){return y(this,null,function*(){return yield this.done(),cT(this,tT,"m",oT).call(this)})}totalUsage(){return y(this,null,function*(){return yield this.done(),cT(this,tT,"m",aT).call(this)})}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=cT(this,tT,"m",rT).call(this);t&&this._emit("finalMessage",t);const n=cT(this,tT,"m",nT).call(this);n&&this._emit("finalContent",n);const r=cT(this,tT,"m",iT).call(this);r&&this._emit("finalFunctionCall",r);const i=cT(this,tT,"m",oT).call(this);null!=i&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",cT(this,tT,"m",aT).call(this))}_createChatCompletion(e,t,n){return y(this,null,function*(){const r=null==n?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),cT(this,tT,"m",sT).call(this,t);const i=yield e.chat.completions.create(h(f({},t),{stream:!1}),h(f({},n),{signal:this.controller.signal}));return this._connected(),this._addChatCompletion(JC(i,t))})}_runChatCompletion(e,t,n){return y(this,null,function*(){for(const e of t.messages)this._addMessage(e,!1);return yield this._createChatCompletion(e,t,n)})}_runFunctions(e,t,n){return y(this,null,function*(){var r;const i="function",o=t,{function_call:a="auto",stream:s}=o,l=p(o,["function_call","stream"]),c="string"!=typeof a&&(null==a?void 0:a.name),{maxChatCompletions:u=uT}=n||{},d={};for(const e of t.functions)d[e.name||e.function.name]=e;const g=t.functions.map(e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description}));for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<u;++t){const t=null==(r=(yield this._createChatCompletion(e,h(f({},l),{function_call:a,functions:g,messages:[...this.messages]}),n)).choices[0])?void 0:r.message;if(!t)throw new CE("missing message in ChatCompletion response");if(!t.function_call)return;const{name:o,arguments:s}=t.function_call,u=d[o];if(!u){const e=`Invalid function_call: ${JSON.stringify(o)}. Available options are: ${g.map(e=>JSON.stringify(e.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:o,content:e});continue}if(c&&c!==o){const e=`Invalid function_call: ${JSON.stringify(o)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:i,name:o,content:e});continue}let p;try{p=qC(u)?yield u.parse(s):s}catch(y){this._addMessage({role:i,name:o,content:y instanceof Error?y.message:String(y)});continue}const m=yield u.function(p,this),v=cT(this,tT,"m",lT).call(this,m);if(this._addMessage({role:i,name:o,content:v}),c)return}})}_runTools(e,t,n){return y(this,null,function*(){var r,i,o;const a="tool",s=t,{tool_choice:l="auto",stream:c}=s,u=p(s,["tool_choice","stream"]),d="string"!=typeof l&&(null==(r=null==l?void 0:l.function)?void 0:r.name),{maxChatCompletions:g=uT}=n||{},y=t.tools.map(e=>{if(XC(e)){if(!e.$callback)throw new CE("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),m={};for(const e of y)"function"===e.type&&(m[e.function.name||e.function.function.name]=e.function);const v="tools"in t?y.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<g;++t){const t=null==(i=(yield this._createChatCompletion(e,h(f({},u),{tool_choice:l,tools:v,messages:[...this.messages]}),n)).choices[0])?void 0:i.message;if(!t)throw new CE("missing message in ChatCompletion response");if(!(null==(o=t.tool_calls)?void 0:o.length))return;for(const e of t.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:r}=e.function,i=m[n];if(!i){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(m).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:t,content:e});continue}if(d&&d!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(d)} requested. Please try again`;this._addMessage({role:a,tool_call_id:t,content:e});continue}let o;try{o=qC(i)?yield i.parse(r):r}catch(b){const e=b instanceof Error?b.message:String(b);this._addMessage({role:a,tool_call_id:t,content:e});continue}const s=yield i.function(o,this),l=cT(this,tT,"m",lT).call(this,s);if(this._addMessage({role:a,tool_call_id:t,content:l}),d)return}}})}}tT=new WeakSet,nT=function(){var e;return null!=(e=cT(this,tT,"m",rT).call(this).content)?e:null},rT=function(){var e,t;let n=this.messages.length;for(;n-- >0;){const r=this.messages[n];if(HC(r)){const n=r,{function_call:i}=n,o=p(n,["function_call"]),a=h(f({},o),{content:null!=(e=r.content)?e:null,refusal:null!=(t=r.refusal)?t:null});return i&&(a.function_call=i),a}}throw new CE("stream ended without producing a ChatCompletionMessage with role=assistant")},iT=function(){var e,t;for(let n=this.messages.length-1;n>=0;n--){const r=this.messages[n];if(HC(r)&&(null==r?void 0:r.function_call))return r.function_call;if(HC(r)&&(null==(e=null==r?void 0:r.tool_calls)?void 0:e.length))return null==(t=r.tool_calls.at(-1))?void 0:t.function}},oT=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(VC(t)&&null!=t.content)return t.content;if(GC(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>{var n;return"assistant"===e.role&&(null==(n=e.tool_calls)?void 0:n.some(e=>"function"===e.type&&e.id===t.tool_call_id))}))return t.content}},aT=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},sT=function(e){if(null!=e.n&&e.n>1)throw new CE("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},lT=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class fT extends dT{static runFunctions(e,t,n){const r=new fT,i=h(f({},n),{headers:h(f({},null==n?void 0:n.headers),{"X-Stainless-Helper-Method":"runFunctions"})});return r._run(()=>r._runFunctions(e,t,i)),r}static runTools(e,t,n){const r=new fT,i=h(f({},n),{headers:h(f({},null==n?void 0:n.headers),{"X-Stainless-Helper-Method":"runTools"})});return r._run(()=>r._runTools(e,t,i)),r}_addMessage(e,t=!0){super._addMessage(e,t),HC(e)&&e.content&&this._emit("content",e.content)}}const hT=1,pT=2,gT=4,yT=8,mT=16,vT=32,bT=64,xT=128,wT=256,jT=511;class OT extends Error{}class ST extends Error{}const _T=(e,t)=>{const n=e.length;let r=0;const i=e=>{throw new OT(`${e} at position ${r}`)},o=e=>{throw new ST(`${e} at position ${r}`)},a=()=>(d(),r>=n&&i("Unexpected end of input"),'"'===e[r]?s():"{"===e[r]?l():"["===e[r]?c():"null"===e.substring(r,r+4)||mT&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||vT&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||vT&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||xT&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||wT&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||bT&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):u()),s=()=>{const a=r;let s=!1;for(r++;r<n&&('"'!==e[r]||s&&"\\"===e[r-1]);)s="\\"===e[r]&&!s,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(a,++r-Number(s)))}catch(Y_){o(String(Y_))}else if(hT&t)try{return JSON.parse(e.substring(a,r-Number(s))+'"')}catch(Y_){return JSON.parse(e.substring(a,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{r++,d();const o={};try{for(;"}"!==e[r];){if(d(),r>=n&&yT&t)return o;const i=s();d(),r++;try{const e=a();Object.defineProperty(o,i,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(Y_){if(yT&t)return o;throw Y_}d(),","===e[r]&&r++}}catch(Y_){if(yT&t)return o;i("Expected '}' at end of object")}return r++,o},c=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(a()),d(),","===e[r]&&r++}catch(Y_){if(gT&t)return n;i("Expected ']' at end of array")}return r++,n},u=()=>{if(0===r){"-"===e&&pT&t&&i("Not sure what '-' is");try{return JSON.parse(e)}catch(Y_){if(pT&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(s){}o(String(Y_))}}const a=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||pT&t||i("Unterminated number literal");try{return JSON.parse(e.substring(a,r))}catch(Y_){"-"===e.substring(a,r)&&pT&t&&i("Not sure what '-' is");try{return JSON.parse(e.substring(a,e.lastIndexOf("e")))}catch(s){o(String(s))}}},d=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return a()},PT=e=>function(e,t=jT){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return _T(e.trim(),t)}(e,jT^pT);var AT,kT,ET,MT,CT,TT,IT,DT,NT,RT,$T,LT,BT=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},zT=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class FT extends dT{constructor(e){super(),AT.add(this),kT.set(this,void 0),ET.set(this,void 0),MT.set(this,void 0),BT(this,kT,e,"f"),BT(this,ET,[],"f")}get currentChatCompletionSnapshot(){return zT(this,MT,"f")}static fromReadableStream(e){const t=new FT(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,n){const r=new FT(t);return r._run(()=>r._runChatCompletion(e,h(f({},t),{stream:!0}),h(f({},n),{headers:h(f({},null==n?void 0:n.headers),{"X-Stainless-Helper-Method":"stream"})}))),r}_createChatCompletion(e,t,n){return y(this,null,function*(){var r,i,a,s;i=FT.prototype,a=this,s="_createChatCompletion",l(o(i),s,a);const c=null==n?void 0:n.signal;c&&(c.aborted&&this.controller.abort(),c.addEventListener("abort",()=>this.controller.abort())),zT(this,AT,"m",CT).call(this);const u=yield e.chat.completions.create(h(f({},t),{stream:!0}),h(f({},n),{signal:this.controller.signal}));this._connected();try{for(var d,p,g,y=b(u);d=!(p=yield y.next()).done;d=!1){const e=p.value;zT(this,AT,"m",IT).call(this,e)}}catch(p){g=[p]}finally{try{d&&(p=y.return)&&(yield p.call(y))}finally{if(g)throw g[0]}}if(null==(r=u.controller.signal)?void 0:r.aborted)throw new IE;return this._addChatCompletion(zT(this,AT,"m",RT).call(this))})}_fromReadableStream(e,t){return y(this,null,function*(){var n;const r=null==t?void 0:t.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),zT(this,AT,"m",CT).call(this),this._connected();const i=QE.fromReadableStream(e,this.controller);let o;try{for(var a,s,l,c=b(i);a=!(s=yield c.next()).done;a=!1){const e=s.value;o&&o!==e.id&&this._addChatCompletion(zT(this,AT,"m",RT).call(this)),zT(this,AT,"m",IT).call(this,e),o=e.id}}catch(s){l=[s]}finally{try{a&&(s=c.return)&&(yield s.call(c))}finally{if(l)throw l[0]}}if(null==(n=i.controller.signal)?void 0:n.aborted)throw new IE;return this._addChatCompletion(zT(this,AT,"m",RT).call(this))})}[(kT=new WeakMap,ET=new WeakMap,MT=new WeakMap,AT=new WeakSet,CT=function(){this.ended||BT(this,MT,void 0,"f")},TT=function(e){let t=zT(this,ET,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},zT(this,ET,"f")[e.index]=t,t)},IT=function(e){var t,n,r,i,o,a,s,l,c,u,d,f,h,p,g,y,m,v,b,x;if(this.ended)return;const w=zT(this,AT,"m",LT).call(this,e);this._emit("chunk",e,w);for(const j of e.choices){const e=w.choices[j.index];null!=j.delta.content&&"assistant"===(null==(t=e.message)?void 0:t.role)&&(null==(n=e.message)?void 0:n.content)&&(this._emit("content",j.delta.content,e.message.content),this._emit("content.delta",{delta:j.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=j.delta.refusal&&"assistant"===(null==(r=e.message)?void 0:r.role)&&(null==(i=e.message)?void 0:i.refusal)&&this._emit("refusal.delta",{delta:j.delta.refusal,snapshot:e.message.refusal}),null!=(null==(o=j.logprobs)?void 0:o.content)&&"assistant"===(null==(a=e.message)?void 0:a.role)&&this._emit("logprobs.content.delta",{content:null==(s=j.logprobs)?void 0:s.content,snapshot:null!=(c=null==(l=e.logprobs)?void 0:l.content)?c:[]}),null!=(null==(u=j.logprobs)?void 0:u.refusal)&&"assistant"===(null==(d=e.message)?void 0:d.role)&&this._emit("logprobs.refusal.delta",{refusal:null==(f=j.logprobs)?void 0:f.refusal,snapshot:null!=(p=null==(h=e.logprobs)?void 0:h.refusal)?p:[]});const O=zT(this,AT,"m",TT).call(this,e);e.finish_reason&&(zT(this,AT,"m",NT).call(this,e),null!=O.current_tool_call_index&&zT(this,AT,"m",DT).call(this,e,O.current_tool_call_index));for(const t of null!=(g=j.delta.tool_calls)?g:[])O.current_tool_call_index!==t.index&&(zT(this,AT,"m",NT).call(this,e),null!=O.current_tool_call_index&&zT(this,AT,"m",DT).call(this,e,O.current_tool_call_index)),O.current_tool_call_index=t.index;for(const t of null!=(y=j.delta.tool_calls)?y:[]){const n=null==(m=e.message.tool_calls)?void 0:m[t.index];(null==n?void 0:n.type)&&("function"===(null==n?void 0:n.type)?this._emit("tool_calls.function.arguments.delta",{name:null==(v=n.function)?void 0:v.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:null!=(x=null==(b=t.function)?void 0:b.arguments)?x:""}):KT(null==n||n.type))}}},DT=function(e,t){var n,r,i;if(zT(this,AT,"m",TT).call(this,e).done_tool_calls.has(t))return;const o=null==(n=e.message.tool_calls)?void 0:n[t];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if("function"===o.type){const e=null==(i=null==(r=zT(this,kT,"f"))?void 0:r.tools)?void 0:i.find(e=>"function"===e.type&&e.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:t,arguments:o.function.arguments,parsed_arguments:XC(e)?e.$parseRaw(o.function.arguments):(null==e?void 0:e.function.strict)?JSON.parse(o.function.arguments):null})}else o.type},NT=function(e){var t,n;const r=zT(this,AT,"m",TT).call(this,e);if(e.message.content&&!r.content_done){r.content_done=!0;const t=zT(this,AT,"m",$T).call(this);this._emit("content.done",{content:e.message.content,parsed:t?t.$parseRaw(e.message.content):null})}e.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),(null==(t=e.logprobs)?void 0:t.content)&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),(null==(n=e.logprobs)?void 0:n.refusal)&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},RT=function(){if(this.ended)throw new CE("stream has ended, this shouldn't happen");const e=zT(this,MT,"f");if(!e)throw new CE("request ended without sending any chunks");return BT(this,MT,void 0,"f"),BT(this,ET,[],"f"),function(e,t){const n=e,{id:r,choices:i,created:o,model:a,system_fingerprint:s}=n,l=p(n,["id","choices","created","model","system_fingerprint"]),c=f(h(f({},l),{id:r,choices:i.map(t=>{var n,r,i,o=t,{message:a,finish_reason:s,index:l,logprobs:c}=o,u=p(o,["message","finish_reason","index","logprobs"]);if(!s)throw new CE(`missing finish_reason for choice ${l}`);const d=a,{content:g=null,function_call:y,tool_calls:m}=d,v=p(d,["content","function_call","tool_calls"]),b=a.role;if(!b)throw new CE(`missing role for choice ${l}`);if(y){const{arguments:e,name:t}=y;if(null==e)throw new CE(`missing function_call.arguments for choice ${l}`);if(!t)throw new CE(`missing function_call.name for choice ${l}`);return h(f({},u),{message:{content:g,function_call:{arguments:e,name:t},role:b,refusal:null!=(n=a.refusal)?n:null},finish_reason:s,index:l,logprobs:c})}return h(f({},u),m?{index:l,finish_reason:s,logprobs:c,message:h(f({},v),{role:b,content:g,refusal:null!=(r=a.refusal)?r:null,tool_calls:m.map((t,n)=>{const r=t,{function:i,type:o,id:a}=r,s=p(r,["function","type","id"]),c=i||{},{arguments:u,name:d}=c,g=p(c,["arguments","name"]);if(null==a)throw new CE(`missing choices[${l}].tool_calls[${n}].id\n${UT(e)}`);if(null==o)throw new CE(`missing choices[${l}].tool_calls[${n}].type\n${UT(e)}`);if(null==d)throw new CE(`missing choices[${l}].tool_calls[${n}].function.name\n${UT(e)}`);if(null==u)throw new CE(`missing choices[${l}].tool_calls[${n}].function.arguments\n${UT(e)}`);return h(f({},s),{id:a,type:o,function:h(f({},g),{name:d,arguments:u})})})})}:{message:h(f({},v),{content:g,role:b,refusal:null!=(i=a.refusal)?i:null}),finish_reason:s,index:l,logprobs:c})}),created:o,model:a,object:"chat.completion"}),s?{system_fingerprint:s}:{});return function(e,t){return t&&eT(t)?JC(e,t):h(f({},e),{choices:e.choices.map(e=>h(f({},e),{message:f(h(f({},e.message),{parsed:null}),e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0)}))})}(c,t)}(e,zT(this,kT,"f"))},$T=function(){var e;const t=null==(e=zT(this,kT,"f"))?void 0:e.response_format;return YC(t)?t:null},LT=function(e){var t,n,r,i,o,a;let s=zT(this,MT,"f");const l=e,{choices:c}=l,u=p(l,["choices"]);s?Object.assign(s,u):s=BT(this,MT,h(f({},u),{choices:[]}),"f");for(const d of e.choices){const e=d,{delta:l,finish_reason:c,index:u,logprobs:h=null}=e,g=p(e,["delta","finish_reason","index","logprobs"]);let y=s.choices[u];if(y||(y=s.choices[u]=f({finish_reason:c,index:u,message:{},logprobs:h},g)),h)if(y.logprobs){const e=h,{content:t,refusal:n}=e,o=p(e,["content","refusal"]);Object.assign(y.logprobs,o),t&&(null!=(r=y.logprobs).content||(r.content=[]),y.logprobs.content.push(...t)),n&&(null!=(i=y.logprobs).refusal||(i.refusal=[]),y.logprobs.refusal.push(...n))}else y.logprobs=Object.assign({},h);if(c&&(y.finish_reason=c,zT(this,kT,"f")&&eT(zT(this,kT,"f")))){if("length"===c)throw new WE;if("content_filter"===c)throw new qE}if(Object.assign(y,g),!l)continue;const m=l,{content:v,refusal:b,function_call:x,role:w,tool_calls:j}=m,O=p(m,["content","refusal","function_call","role","tool_calls"]);if(Object.assign(y.message,O),b&&(y.message.refusal=(y.message.refusal||"")+b),w&&(y.message.role=w),x&&(y.message.function_call?(x.name&&(y.message.function_call.name=x.name),x.arguments&&(null!=(o=y.message.function_call).arguments||(o.arguments=""),y.message.function_call.arguments+=x.arguments)):y.message.function_call=x),v&&(y.message.content=(y.message.content||"")+v,!y.message.refusal&&zT(this,AT,"m",$T).call(this)&&(y.message.parsed=PT(y.message.content))),j){y.message.tool_calls||(y.message.tool_calls=[]);for(const e of j){const r=e,{index:i,id:o,type:s,function:l}=r,c=p(r,["index","id","type","function"]),u=null!=(t=(a=y.message.tool_calls)[i])?t:a[i]={};Object.assign(u,c),o&&(u.id=o),s&&(u.type=s),l&&(null!=u.function||(u.function={name:null!=(n=l.name)?n:"",arguments:""})),(null==l?void 0:l.name)&&(u.function.name=l.name),(null==l?void 0:l.arguments)&&(u.function.arguments+=l.arguments,QC(zT(this,kT,"f"),u)&&(u.function.parsed_arguments=PT(u.function.arguments)))}}}return s},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:()=>y(this,null,function*(){return e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0})}),return:()=>y(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}toReadableStream(){return new QE(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function UT(e){return JSON.stringify(e)}function KT(e){}class WT extends FT{static fromReadableStream(e){const t=new WT(null);return t._run(()=>t._fromReadableStream(e)),t}static runFunctions(e,t,n){const r=new WT(null),i=h(f({},n),{headers:h(f({},null==n?void 0:n.headers),{"X-Stainless-Helper-Method":"runFunctions"})});return r._run(()=>r._runFunctions(e,t,i)),r}static runTools(e,t,n){const r=new WT(t),i=h(f({},n),{headers:h(f({},null==n?void 0:n.headers),{"X-Stainless-Helper-Method":"runTools"})});return r._run(()=>r._runTools(e,t,i)),r}}let qT=class extends WM{parse(e,t){return function(e){for(const t of null!=e?e:[]){if("function"!==t.type)throw new CE(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new CE(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,h(f({},t),{headers:h(f({},null==t?void 0:t.headers),{"X-Stainless-Helper-Method":"beta.chat.completions.parse"})}))._thenUnwrap(t=>JC(t,e))}runFunctions(e,t){return e.stream?WT.runFunctions(this._client,e,t):fT.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?WT.runTools(this._client,e,t):fT.runTools(this._client,e,t)}stream(e,t){return FT.createChatCompletion(this._client,e,t)}};class HT extends WM{constructor(){super(...arguments),this.completions=new qT(this._client)}}(HT||(HT={})).Completions=qT;class VT extends WM{create(e,t){return this._client.post("/realtime/sessions",h(f({body:e},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}}class GT extends WM{create(e,t){return this._client.post("/realtime/transcription_sessions",h(f({body:e},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}}class YT extends WM{constructor(){super(...arguments),this.sessions=new VT(this._client),this.transcriptionSessions=new GT(this._client)}}YT.Sessions=VT,YT.TranscriptionSessions=GT;class XT extends WM{create(e,t,n){return this._client.post(`/threads/${e}/messages`,h(f({body:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,h(f({body:n},r),{headers:f({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}list(e,t={},n){return wM(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,JT,h(f({query:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}}class JT extends KM{}XT.MessagesPage=JT;class ZT extends WM{retrieve(e,t,n,r={},i){return wM(r)?this.retrieve(e,t,n,{},r):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,h(f({query:r},i),{headers:f({"OpenAI-Beta":"assistants=v2"},null==i?void 0:i.headers)}))}list(e,t,n={},r){return wM(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,QT,h(f({query:n},r),{headers:f({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}}class QT extends KM{}ZT.RunStepsPage=QT;let eI=class extends WM{constructor(){super(...arguments),this.steps=new ZT(this._client)}create(e,t,n){var r;const i=t,{include:o}=i,a=p(i,["include"]);return this._client.post(`/threads/${e}/runs`,h(f({query:{include:o},body:a},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers),stream:null!=(r=t.stream)&&r}))}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,h(f({body:n},r),{headers:f({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}list(e,t={},n){return wM(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,tI,h(f({query:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}createAndPoll(e,t,n){return y(this,null,function*(){const r=yield this.create(e,t,n);return yield this.poll(e,r.id,n)})}createAndStream(e,t,n){return UC.createAssistantStream(e,this._client.beta.threads.runs,t,n)}poll(e,t,n){return y(this,null,function*(){const r=h(f({},null==n?void 0:n.headers),{"X-Stainless-Poll-Helper":"true"});for((null==n?void 0:n.pollIntervalMs)&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:o}=yield this.retrieve(e,t,h(f({},n),{headers:f(f({},null==n?void 0:n.headers),r)})).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(null==n?void 0:n.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}yield MM(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}})}stream(e,t,n){return UC.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){var i;return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,h(f({body:n},r),{headers:f({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers),stream:null!=(i=n.stream)&&i}))}submitToolOutputsAndPoll(e,t,n,r){return y(this,null,function*(){const i=yield this.submitToolOutputs(e,t,n,r);return yield this.poll(e,i.id,r)})}submitToolOutputsStream(e,t,n,r){return UC.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}};class tI extends KM{}eI.RunsPage=tI,eI.Steps=ZT,eI.RunStepsPage=QT;class nI extends WM{constructor(){super(...arguments),this.runs=new eI(this._client),this.messages=new XT(this._client)}create(e={},t){return wM(e)?this.create({},e):this._client.post("/threads",h(f({body:e},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}retrieve(e,t){return this._client.get(`/threads/${e}`,h(f({},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}update(e,t,n){return this._client.post(`/threads/${e}`,h(f({body:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}del(e,t){return this._client.delete(`/threads/${e}`,h(f({},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}createAndRun(e,t){var n;return this._client.post("/threads/runs",h(f({body:e},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers),stream:null!=(n=e.stream)&&n}))}createAndRunPoll(e,t){return y(this,null,function*(){const n=yield this.createAndRun(e,t);return yield this.runs.poll(n.thread_id,n.id,t)})}createAndRunStream(e,t){return UC.createThreadAssistantStream(e,this._client.beta.threads,t)}}nI.Runs=eI,nI.RunsPage=tI,nI.Messages=XT,nI.MessagesPage=JT;class rI extends WM{constructor(){super(...arguments),this.realtime=new YT(this._client),this.chat=new HT(this._client),this.assistants=new KC(this._client),this.threads=new nI(this._client)}}rI.Realtime=YT,rI.Assistants=KC,rI.AssistantsPage=WC,rI.Threads=nI;class iI extends WM{create(e,t){var n;return this._client.post("/completions",h(f({body:e},t),{stream:null!=(n=e.stream)&&n}))}}let oI=class extends WM{retrieve(e,t,n){return this._client.get(`/containers/${e}/files/${t}/content`,h(f({},n),{headers:f({Accept:"application/binary"},null==n?void 0:n.headers),__binaryResponse:!0}))}},aI=class extends WM{constructor(){super(...arguments),this.content=new oI(this._client)}create(e,t,n){return this._client.post(`/containers/${e}/files`,lM(f({body:t},n)))}retrieve(e,t,n){return this._client.get(`/containers/${e}/files/${t}`,n)}list(e,t={},n){return wM(t)?this.list(e,{},t):this._client.getAPIList(`/containers/${e}/files`,sI,f({query:t},n))}del(e,t,n){return this._client.delete(`/containers/${e}/files/${t}`,h(f({},n),{headers:f({Accept:"*/*"},null==n?void 0:n.headers)}))}};class sI extends KM{}aI.FileListResponsesPage=sI,aI.Content=oI;class lI extends WM{constructor(){super(...arguments),this.files=new aI(this._client)}create(e,t){return this._client.post("/containers",f({body:e},t))}retrieve(e,t){return this._client.get(`/containers/${e}`,t)}list(e={},t){return wM(e)?this.list({},e):this._client.getAPIList("/containers",cI,f({query:e},t))}del(e,t){return this._client.delete(`/containers/${e}`,h(f({},t),{headers:f({Accept:"*/*"},null==t?void 0:t.headers)}))}}class cI extends KM{}lI.ContainerListResponsesPage=cI,lI.Files=aI,lI.FileListResponsesPage=sI;class uI extends WM{create(e,t){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&LM(0,"User defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",f({body:h(f({},e),{encoding_format:r})},t));return n?i:(LM(0,"Decoding base64 embeddings to float32 array"),i._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{const t=e.embedding;e.embedding=(e=>{if("undefined"!=typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(new Float32Array(r.buffer))}})(t)}),e)))}}class dI extends WM{retrieve(e,t,n,r){return this._client.get(`/evals/${e}/runs/${t}/output_items/${n}`,r)}list(e,t,n={},r){return wM(n)?this.list(e,t,{},n):this._client.getAPIList(`/evals/${e}/runs/${t}/output_items`,fI,f({query:n},r))}}class fI extends KM{}dI.OutputItemListResponsesPage=fI;class hI extends WM{constructor(){super(...arguments),this.outputItems=new dI(this._client)}create(e,t,n){return this._client.post(`/evals/${e}/runs`,f({body:t},n))}retrieve(e,t,n){return this._client.get(`/evals/${e}/runs/${t}`,n)}list(e,t={},n){return wM(t)?this.list(e,{},t):this._client.getAPIList(`/evals/${e}/runs`,pI,f({query:t},n))}del(e,t,n){return this._client.delete(`/evals/${e}/runs/${t}`,n)}cancel(e,t,n){return this._client.post(`/evals/${e}/runs/${t}`,n)}}class pI extends KM{}hI.RunListResponsesPage=pI,hI.OutputItems=dI,hI.OutputItemListResponsesPage=fI;class gI extends WM{constructor(){super(...arguments),this.runs=new hI(this._client)}create(e,t){return this._client.post("/evals",f({body:e},t))}retrieve(e,t){return this._client.get(`/evals/${e}`,t)}update(e,t,n){return this._client.post(`/evals/${e}`,f({body:t},n))}list(e={},t){return wM(e)?this.list({},e):this._client.getAPIList("/evals",yI,f({query:e},t))}del(e,t){return this._client.delete(`/evals/${e}`,t)}}class yI extends KM{}gI.EvalListResponsesPage=yI,gI.Runs=hI,gI.RunListResponsesPage=pI;let mI=class extends WM{create(e,t){return this._client.post("/files",lM(f({body:e},t)))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return wM(e)?this.list({},e):this._client.getAPIList("/files",vI,f({query:e},t))}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,h(f({},t),{headers:f({Accept:"application/binary"},null==t?void 0:t.headers),__binaryResponse:!0}))}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,t)}waitForProcessing(e){return y(this,arguments,function*(e,{pollInterval:t=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=yield this.retrieve(e);for(;!o.status||!r.has(o.status);)if(yield MM(t),o=yield this.retrieve(e),Date.now()-i>n)throw new NE({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o})}};class vI extends KM{}mI.FileObjectsPage=vI;class bI extends WM{}let xI=class extends WM{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",f({body:e},t))}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",f({body:e},t))}};class wI extends WM{constructor(){super(...arguments),this.graders=new xI(this._client)}}wI.Graders=xI;class jI extends WM{create(e,t,n){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,OI,f({body:t,method:"post"},n))}retrieve(e,t={},n){return wM(t)?this.retrieve(e,{},t):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,f({query:t},n))}del(e,t,n){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${t}`,n)}}class OI extends UM{}jI.PermissionCreateResponsesPage=OI;let SI=class extends WM{constructor(){super(...arguments),this.permissions=new jI(this._client)}};SI.Permissions=jI,SI.PermissionCreateResponsesPage=OI;class _I extends WM{list(e,t={},n){return wM(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,PI,f({query:t},n))}}class PI extends KM{}_I.FineTuningJobCheckpointsPage=PI;class AI extends WM{constructor(){super(...arguments),this.checkpoints=new _I(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",f({body:e},t))}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return wM(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",kI,f({query:e},t))}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return wM(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,EI,f({query:t},n))}pause(e,t){return this._client.post(`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(`/fine_tuning/jobs/${e}/resume`,t)}}class kI extends KM{}class EI extends KM{}AI.FineTuningJobsPage=kI,AI.FineTuningJobEventsPage=EI,AI.Checkpoints=_I,AI.FineTuningJobCheckpointsPage=PI;class MI extends WM{constructor(){super(...arguments),this.methods=new bI(this._client),this.jobs=new AI(this._client),this.checkpoints=new SI(this._client),this.alpha=new wI(this._client)}}MI.Methods=bI,MI.Jobs=AI,MI.FineTuningJobsPage=kI,MI.FineTuningJobEventsPage=EI,MI.Checkpoints=SI,MI.Alpha=wI;class CI extends WM{}class TI extends WM{constructor(){super(...arguments),this.graderModels=new CI(this._client)}}TI.GraderModels=CI;class II extends WM{createVariation(e,t){return this._client.post("/images/variations",lM(f({body:e},t)))}edit(e,t){return this._client.post("/images/edits",lM(f({body:e},t)))}generate(e,t){return this._client.post("/images/generations",f({body:e},t))}}class DI extends WM{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",NI,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class NI extends UM{}DI.ModelsPage=NI;class RI extends WM{create(e,t){return this._client.post("/moderations",f({body:e},t))}}function $I(e,t){return t&&function(e){var t;return!!YC(null==(t=e.text)?void 0:t.format)}(t)?LI(e,t):h(f({},e),{output_parsed:null,output:e.output.map(e=>"function_call"===e.type?h(f({},e),{parsed_arguments:null}):"message"===e.type?h(f({},e),{content:e.content.map(e=>h(f({},e),{parsed:null}))}):e)})}function LI(e,t){const n=e.output.map(e=>{if("function_call"===e.type)return h(f({},e),{parsed_arguments:zI(t,e)});if("message"===e.type){const n=e.content.map(e=>"output_text"===e.type?h(f({},e),{parsed:BI(t,e.text)}):e);return h(f({},e),{content:n})}return e}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||FI(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const e of r.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),r}function BI(e,t){var n,r,i,o;return"json_schema"!==(null==(r=null==(n=e.text)?void 0:n.format)?void 0:r.type)?null:"$parseRaw"in(null==(i=e.text)?void 0:i.format)?(null==(o=e.text)?void 0:o.format).$parseRaw(t):JSON.parse(t)}function zI(e,t){var n;const r=(i=null!=(n=e.tools)?n:[],o=t.name,i.find(e=>"function"===e.type&&e.name===o));var i,o,a;return h(f(f({},t),t),{parsed_arguments:(a=r,"auto-parseable-tool"===(null==a?void 0:a.$brand)?r.$parseRaw(t.arguments):(null==r?void 0:r.strict)?JSON.parse(t.arguments):null)})}function FI(e){const t=[];for(const n of e.output)if("message"===n.type)for(const e of n.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}class UI extends WM{list(e,t={},n){return wM(t)?this.list(e,{},t):this._client.getAPIList(`/responses/${e}/input_items`,nD,f({query:t},n))}}var KI,WI,qI,HI,VI,GI,YI,XI,JI,ZI=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},QI=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class eD extends mC{constructor(e){super(),KI.add(this),WI.set(this,void 0),qI.set(this,void 0),HI.set(this,void 0),ZI(this,WI,e,"f")}static createResponse(e,t,n){const r=new eD(t);return r._run(()=>r._createOrRetrieveResponse(e,t,h(f({},n),{headers:h(f({},null==n?void 0:n.headers),{"X-Stainless-Helper-Method":"stream"})}))),r}_createOrRetrieveResponse(e,t,n){return y(this,null,function*(){var r,i;const o=null==n?void 0:n.signal;let a;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),QI(this,KI,"m",VI).call(this);let s=null;"response_id"in t?(a=yield e.responses.retrieve(t.response_id,{stream:!0},h(f({},n),{signal:this.controller.signal,stream:!0})),s=null!=(r=t.starting_after)?r:null):a=yield e.responses.create(h(f({},t),{stream:!0}),h(f({},n),{signal:this.controller.signal})),this._connected();try{for(var l,c,u,d=b(a);l=!(c=yield d.next()).done;l=!1){const e=c.value;QI(this,KI,"m",GI).call(this,e,s)}}catch(c){u=[c]}finally{try{l&&(c=d.return)&&(yield c.call(d))}finally{if(u)throw u[0]}}if(null==(i=a.controller.signal)?void 0:i.aborted)throw new IE;return QI(this,KI,"m",YI).call(this)})}[(WI=new WeakMap,qI=new WeakMap,HI=new WeakMap,KI=new WeakSet,VI=function(){this.ended||ZI(this,qI,void 0,"f")},GI=function(e,t){if(this.ended)return;const n=(e,n)=>{(null==t||n.sequence_number>t)&&this._emit(e,n)},r=QI(this,KI,"m",XI).call(this,e);switch(n("event",e),e.type){case"response.output_text.delta":{const t=r.output[e.output_index];if(!t)throw new CE(`missing output at index ${e.output_index}`);if("message"===t.type){const r=t.content[e.content_index];if(!r)throw new CE(`missing content at index ${e.content_index}`);if("output_text"!==r.type)throw new CE(`expected content to be 'output_text', got ${r.type}`);n("response.output_text.delta",h(f({},e),{snapshot:r.text}))}break}case"response.function_call_arguments.delta":{const t=r.output[e.output_index];if(!t)throw new CE(`missing output at index ${e.output_index}`);"function_call"===t.type&&n("response.function_call_arguments.delta",h(f({},e),{snapshot:t.arguments}));break}default:n(e.type,e)}},YI=function(){if(this.ended)throw new CE("stream has ended, this shouldn't happen");const e=QI(this,qI,"f");if(!e)throw new CE("request ended without sending any events");ZI(this,qI,void 0,"f");const t=function(e,t){return $I(e,t)}(e,QI(this,WI,"f"));return ZI(this,HI,t,"f"),t},XI=function(e){let t=QI(this,qI,"f");if(!t){if("response.created"!==e.type)throw new CE(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return t=ZI(this,qI,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const n=t.output[e.output_index];if(!n)throw new CE(`missing output at index ${e.output_index}`);"message"===n.type&&n.content.push(e.part);break}case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new CE(`missing output at index ${e.output_index}`);if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new CE(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new CE(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new CE(`missing output at index ${e.output_index}`);"function_call"===n.type&&(n.arguments+=e.delta);break}case"response.completed":ZI(this,qI,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",n=>{const r=t.shift();r?r.resolve(n):e.push(n)}),this.on("end",()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0}),this.on("abort",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),this.on("error",e=>{n=!0;for(const n of t)n.reject(e);t.length=0}),{next:()=>y(this,null,function*(){return e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((e,n)=>t.push({resolve:e,reject:n})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0})}),return:()=>y(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}finalResponse(){return y(this,null,function*(){yield this.done();const e=QI(this,HI,"f");if(!e)throw new CE("stream ended without producing a ChatCompletion");return e})}}class tD extends WM{constructor(){super(...arguments),this.inputItems=new UI(this._client)}create(e,t){var n;return this._client.post("/responses",h(f({body:e},t),{stream:null!=(n=e.stream)&&n}))._thenUnwrap(e=>("object"in e&&"response"===e.object&&FI(e),e))}retrieve(e,t={},n){var r;return this._client.get(`/responses/${e}`,h(f({query:t},n),{stream:null!=(r=null==t?void 0:t.stream)&&r}))}del(e,t){return this._client.delete(`/responses/${e}`,h(f({},t),{headers:f({Accept:"*/*"},null==t?void 0:t.headers)}))}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>LI(t,e))}stream(e,t){return eD.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(`/responses/${e}/cancel`,h(f({},t),{headers:f({Accept:"*/*"},null==t?void 0:t.headers)}))}}class nD extends KM{}tD.InputItems=UI;class rD extends WM{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,lM(f({body:t},n)))}}class iD extends WM{constructor(){super(...arguments),this.parts=new rD(this._client)}create(e,t){return this._client.post("/uploads",f({body:e},t))}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,f({body:t},n))}}iD.Parts=rD;class oD extends WM{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,h(f({body:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}update(e,t,n,r){return this._client.post(`/vector_stores/${e}/files/${t}`,h(f({body:n},r),{headers:f({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}list(e,t={},n){return wM(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,aD,h(f({query:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}createAndPoll(e,t,n){return y(this,null,function*(){const r=yield this.create(e,t,n);return yield this.poll(e,r.id,n)})}poll(e,t,n){return y(this,null,function*(){const r=h(f({},null==n?void 0:n.headers),{"X-Stainless-Poll-Helper":"true"});for((null==n?void 0:n.pollIntervalMs)&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=yield this.retrieve(e,t,h(f({},n),{headers:r})).withResponse(),o=i.data;switch(o.status){case"in_progress":let e=5e3;if(null==n?void 0:n.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}yield MM(e);break;case"failed":case"completed":return o}}})}upload(e,t,n){return y(this,null,function*(){const r=yield this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)})}uploadAndPoll(e,t,n){return y(this,null,function*(){const r=yield this.upload(e,t,n);return yield this.poll(e,r.id,n)})}content(e,t,n){return this._client.getAPIList(`/vector_stores/${e}/files/${t}/content`,sD,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}}class aD extends KM{}class sD extends UM{}oD.VectorStoreFilesPage=aD,oD.FileContentResponsesPage=sD;class lD extends WM{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,h(f({body:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,h(f({},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}createAndPoll(e,t,n){return y(this,null,function*(){const r=yield this.create(e,t);return yield this.poll(e,r.id,n)})}listFiles(e,t,n={},r){return wM(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,aD,h(f({query:n},r),{headers:f({"OpenAI-Beta":"assistants=v2"},null==r?void 0:r.headers)}))}poll(e,t,n){return y(this,null,function*(){const r=h(f({},null==n?void 0:n.headers),{"X-Stainless-Poll-Helper":"true"});for((null==n?void 0:n.pollIntervalMs)&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:o}=yield this.retrieve(e,t,h(f({},n),{headers:r})).withResponse();switch(i.status){case"in_progress":let e=5e3;if(null==n?void 0:n.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}yield MM(e);break;case"failed":case"cancelled":case"completed":return i}}})}uploadAndPoll(e,t,n){return y(this,arguments,function*(e,{files:t,fileIds:n=[]},r){var i;if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=null!=(i=null==r?void 0:r.maxConcurrency)?i:5,a=Math.min(o,t.length),s=this._client,l=t.values(),c=[...n],u=Array(a).fill(l).map(function(e){return y(this,null,function*(){for(let t of e){const e=yield s.files.create({file:t,purpose:"assistants"},r);c.push(e.id)}})});var d;return yield(d=u,y(null,null,function*(){const e=yield Promise.allSettled(d),t=e.filter(e=>"rejected"===e.status);if(t.length){for(const e of t);throw new Error(`${t.length} promise(s) failed - see the above errors`)}const n=[];for(const r of e)"fulfilled"===r.status&&n.push(r.value);return n})),yield this.createAndPoll(e,{file_ids:c})})}}class cD extends WM{constructor(){super(...arguments),this.files=new oD(this._client),this.fileBatches=new lD(this._client)}create(e,t){return this._client.post("/vector_stores",h(f({body:e},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,h(f({},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}update(e,t,n){return this._client.post(`/vector_stores/${e}`,h(f({body:t},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}list(e={},t){return wM(e)?this.list({},e):this._client.getAPIList("/vector_stores",uD,h(f({query:e},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}del(e,t){return this._client.delete(`/vector_stores/${e}`,h(f({},t),{headers:f({"OpenAI-Beta":"assistants=v2"},null==t?void 0:t.headers)}))}search(e,t,n){return this._client.getAPIList(`/vector_stores/${e}/search`,dD,h(f({body:t,method:"post"},n),{headers:f({"OpenAI-Beta":"assistants=v2"},null==n?void 0:n.headers)}))}}class uD extends KM{}class dD extends UM{}cD.VectorStoresPage=uD,cD.VectorStoreSearchResponsesPage=dD,cD.Files=oD,cD.VectorStoreFilesPage=aD,cD.FileContentResponsesPage=sD,cD.FileBatches=lD;class fD extends yM{constructor(e={}){var t,n=e,{baseURL:r=IM("OPENAI_BASE_URL"),apiKey:i=IM("OPENAI_API_KEY"),organization:o=(e=>null!=(e=IM("OPENAI_ORG_ID"))?e:null)(),project:a=(e=>null!=(e=IM("OPENAI_PROJECT_ID"))?e:null)()}=n,s=p(n,["baseURL","apiKey","organization","project"]);if(void 0===i)throw new CE("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const l=h(f({apiKey:i,organization:o,project:a},s),{baseURL:r||"https://api.openai.com/v1"});if(!l.dangerouslyAllowBrowser&&"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator)throw new CE("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:l.baseURL,timeout:null!=(t=l.timeout)?t:6e5,httpAgent:l.httpAgent,maxRetries:l.maxRetries,fetch:l.fetch}),this.completions=new iI(this),this.chat=new YM(this),this.embeddings=new uI(this),this.files=new mI(this),this.images=new II(this),this.audio=new QM(this),this.moderations=new RI(this),this.models=new DI(this),this.fineTuning=new MI(this),this.graders=new TI(this),this.vectorStores=new cD(this),this.beta=new rI(this),this.batches=new eC(this),this.uploads=new iD(this),this.responses=new tD(this),this.evals=new gI(this),this.containers=new lI(this),this._options=l,this.apiKey=i,this.organization=o,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return f(h(f({},super.defaultHeaders(e)),{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project}),this._options.defaultHeaders)}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return mE(e,{arrayFormat:"brackets"})}}JI=fD,fD.OpenAI=JI,fD.DEFAULT_TIMEOUT=6e5,fD.OpenAIError=CE,fD.APIError=TE,fD.APIConnectionError=DE,fD.APIConnectionTimeoutError=NE,fD.APIUserAbortError=IE,fD.NotFoundError=BE,fD.ConflictError=zE,fD.RateLimitError=UE,fD.BadRequestError=RE,fD.AuthenticationError=$E,fD.InternalServerError=KE,fD.PermissionDeniedError=LE,fD.UnprocessableEntityError=FE,fD.toFile=iM,fD.fileFromPath=PE,fD.Completions=iI,fD.Chat=YM,fD.ChatCompletionsPage=VM,fD.Embeddings=uI,fD.Files=mI,fD.FileObjectsPage=vI,fD.Images=II,fD.Audio=QM,fD.Moderations=RI,fD.Models=DI,fD.ModelsPage=NI,fD.FineTuning=MI,fD.Graders=TI,fD.VectorStores=cD,fD.VectorStoresPage=uD,fD.VectorStoreSearchResponsesPage=dD,fD.Beta=rI,fD.Batches=eC,fD.BatchesPage=tC,fD.Uploads=iD,fD.Responses=tD,fD.Evals=gI,fD.EvalListResponsesPage=yI,fD.Containers=lI,fD.ContainerListResponsesPage=cI;const hD={BASE_URL:"/xiaohongshu-trend-analyzer/",DEV:!1,MODE:"production",PROD:!0,REACT_APP_DEEPSEEK_API_KEY:"sk-540484b0af8347dbb545156dd17b285e",REACT_APP_DEEPSEEK_BASE_URL:"https://api.deepseek.com",SSR:!1};var pD={},gD=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(Y_){i(Y_)}},a=e=>{try{s(n.throw(e))}catch(Y_){i(Y_)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())});const yD=e=>{var t;return"undefined"!=typeof window?hD[e]:null==(t=null==process?void 0:pD)?void 0:t[e]};let mD=null;const vD=()=>{if(!mD){const e=yD("REACT_APP_DEEPSEEK_API_KEY");if(!e)return null;mD=new fD({baseURL:yD("REACT_APP_DEEPSEEK_BASE_URL")||"https://api.deepseek.com",apiKey:e,dangerouslyAllowBrowser:!0})}return mD};let bD=0,xD=0;const wD=(e,t)=>{if(e){const t=e.prompt_tokens||0,n=e.completion_tokens||0,r=e.total_tokens||t+n;bD+=r,xD+=t/1e6*2+n/1e6*8}},jD=e=>{const t=[];return e.split("---").filter(e=>e.trim()).forEach(e=>{const n=e.split("\n").map(e=>e.trim()).filter(e=>e);let r="",i="",o=[];n.forEach(e=>{if(e.startsWith("标题：")||e.startsWith("标题:"))r=e.replace(/^标题[：:]/,"").trim();else if(e.startsWith("描述：")||e.startsWith("描述:"))i=e.replace(/^描述[：:]/,"").trim();else if(e.startsWith("标签：")||e.startsWith("标签:")){const t=e.replace(/^标签[：:]/,"").trim();o=t.split(/[,，]/).map(e=>e.trim()).filter(e=>e)}}),r&&i&&t.push({title:r,description:i,tags:o})}),t},OD=(e,...t)=>gD(null,[e,...t],function*(e,t=10,n={}){try{if("undefined"!=typeof window)try{const e=vD();if(!e)throw new Error("DeepSeek客户端未配置");const r=yield e.chat.completions.create({model:"deepseek-chat",messages:[{role:"system",content:i},{role:"user",content:o}],temperature:n.temperature||.7,max_tokens:n.maxTokens||500,stream:!1}),a=r.choices[0].message.content;if(a)return wD(r.usage),a.split("\n").map(e=>e.trim()).filter(e=>e.length>0&&!e.match(/^\d+[\.\)]/)).slice(0,t)}catch(r){return[`🔥 ${e}必看攻略！新手也能轻松上手`,`💡 关于${e}的5个小技巧，第3个太实用了！`,`✨ ${e}种草清单｜这些好物值得拥有`,`📝 ${e}完整指南，从入门到精通`,`🎯 ${e}避雷指南！这些坑千万别踩`,`💫 ${e}神仙操作，效果立竿见影`,`🌟 ${e}干货分享｜实测有效的方法`,`🔥 ${e}最新趋势，跟上潮流不迷路`,`💎 ${e}宝藏分享｜小众但超好用`,`🚀 ${e}进阶技巧，让你脱颖而出`].slice(0,t)}const i=n.systemPrompt||"你是一个专业的小红书内容创作专家。请根据给定主题生成吸引人的小红书标题。\n要求：\n1. 标题要有吸引力和点击欲望\n2. 长度控制在15-25字\n3. 可以使用适当的emoji和符号\n4. 符合小红书用户喜好\n5. 每个标题独立一行",o=`请为"${e}"主题生成${t}个小红书标题，要求新颖、有趣、能引起用户点击欲望。`,a=vD();if(!a)throw new Error("DeepSeek客户端未配置");const s=yield a.chat.completions.create({model:"deepseek-chat",messages:[{role:"system",content:i},{role:"user",content:o}],temperature:n.temperature||.7,max_tokens:n.maxTokens||500,stream:!1}),l=s.choices[0].message.content;if(!l)throw new Error("DeepSeek返回内容为空");return wD(s.usage),l.split("\n").map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.replace(/^\d+\.?\s*/,"")).filter(e=>e.length>5).slice(0,t)}catch(r){throw new Error(`DeepSeek API调用失败: ${r instanceof Error?r.message:"未知错误"}`)}}),SD=(e,...t)=>gD(null,[e,...t],function*(e,t=10,n={}){const r=n.systemPrompt||"你是一个专业的小红书内容策划师。请根据给定分类生成创意内容方案。\n要求：\n1. 每个创意包含标题、描述和标签\n2. 标题要吸引人，15-25字\n3. 描述要详细，50-100字\n4. 标签要相关，3-5个\n5. 内容要新颖有趣，符合小红书调性",i=`请为"${e}"分类生成${t}个小红书内容创意，每个创意包含标题、描述和标签。\n格式要求：\n标题：[标题内容]\n描述：[描述内容]\n标签：[标签1,标签2,标签3]\n---`;try{if("undefined"!=typeof window)try{const e=new AbortController,a=setTimeout(()=>e.abort(),8e3);try{const e=vD();if(!e)throw new Error("DeepSeek客户端未配置");const o=yield e.chat.completions.create({model:"deepseek-chat",messages:[{role:"system",content:r},{role:"user",content:i}],temperature:n.temperature||.7,max_tokens:n.maxTokens||400,stream:!1});clearTimeout(a);const s=o.choices[0].message.content;if(s)return jD(s).slice(0,t)}catch(o){throw clearTimeout(a),o}}catch(a){return[{title:`🔥 ${e}新手必看指南`,description:`从零开始学${e}，详细步骤分解，让你快速入门掌握核心技巧，避免常见误区。`,tags:[e,"新手指南","实用技巧","干货分享"]},{title:`✨ ${e}进阶秘籍大公开`,description:`分享${e}的高级技巧和心得体会，帮你从入门到精通，提升专业水平。`,tags:[e,"进阶技巧","经验分享","专业"]},{title:`💡 ${e}创意灵感合集`,description:`收集了最新最热的${e}创意想法，激发你的灵感，让作品更有创意。`,tags:[e,"创意灵感","设计思路","热门"]},{title:`🎯 ${e}避雷指南`,description:`总结${e}中容易踩的坑和常见错误，帮你避免弯路，提高成功率。`,tags:[e,"避雷指南","注意事项","经验"]},{title:`🌟 ${e}好物推荐`,description:`精选${e}相关的优质产品和工具，性价比超高，值得入手。`,tags:[e,"好物推荐","种草","性价比"]}].slice(0,t)}const s=vD();if(!s)throw new Error("DeepSeek客户端未配置");const l=(yield s.chat.completions.create({model:"deepseek-chat",messages:[{role:"system",content:r},{role:"user",content:i}],temperature:n.temperature||.7,max_tokens:n.maxTokens||800,stream:!1})).choices[0].message.content;if(!l)throw new Error("DeepSeek返回内容为空");return jD(l).slice(0,t)}catch(a){throw new Error(`DeepSeek API调用失败: ${a instanceof Error?a.message:"未知错误"}`)}}),_D=()=>gD(null,null,function*(){try{if(!yD("REACT_APP_DEEPSEEK_API_KEY"))return!1;if("undefined"!=typeof window)return!0;const e=vD();return!!e&&((yield e.chat.completions.create({model:"deepseek-chat",messages:[{role:"user",content:'你好，请回复"连接成功"'}],max_tokens:50,stream:!1})).choices[0].message.content,!0)}catch(e){return!1}});var PD=Object.defineProperty,AD=Object.defineProperties,kD=Object.getOwnPropertyDescriptors,ED=Object.getOwnPropertySymbols,MD=Object.prototype.hasOwnProperty,CD=Object.prototype.propertyIsEnumerable,TD=(e,t,n)=>t in e?PD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ID=(e,t,n)=>new Promise((r,i)=>{var o=e=>{try{s(n.next(e))}catch(Y_){i(Y_)}},a=e=>{try{s(n.throw(e))}catch(Y_){i(Y_)}},s=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,a);s((n=n.apply(e,t)).next())});const{Title:DD,Text:ND,Paragraph:RD}=T,{TextArea:$D}=ye,{Option:LD}=ue,BD=()=>{const[e,t]=O.useState(!1),[n,r]=O.useState([]),[i,o]=O.useState([]),[a,l]=O.useState("ideas"),[c,u]=O.useState(""),[d,f]=O.useState(!1),[h,p]=O.useState(""),[g,y]=O.useState(!1),[m,v]=O.useState(!0),[b,x]=O.useState(!1),[w,j]=O.useState([]),[S,_]=O.useState("all"),[P,A]=O.useState(70),k=e=>ID(null,null,function*(){t(!0);try{const t=e||c;let i=[];if(m&&b&&t){let e=[],r=0;const o=2;for(;r<=o&&0===e.length;)try{const n=new Promise((e,t)=>setTimeout(()=>t(new Error("API调用超时")),8e3)),r=SD(t,1);if(e=yield Promise.race([r,n]),e&&e.length>0){i=e.map((e,t)=>({id:`deepseek_${Date.now()}_${t}`,title:e.title,description:e.description,category:e.category||"生活方式",tags:e.tags||["AI生成","创意内容"],trendScore:Math.floor(20*Math.random())+80,difficulty:["简单","中等","困难"][Math.floor(3*Math.random())],estimatedViews:Math.floor(5e4*Math.random())+1e4,estimatedLikes:Math.floor(5e4*Math.random())+2e4}));break}}catch(n){r++,r<=o&&(yield new Promise(e=>setTimeout(e,1e3)))}}if(0===i.length){let e=w;t&&(e=w.filter(e=>{var n,r,i,o;return(null==(n=e.title)?void 0:n.toLowerCase().includes(t.toLowerCase()))||(null==(r=e.content)?void 0:r.toLowerCase().includes(t.toLowerCase()))||(null==(i=e.category)?void 0:i.toLowerCase().includes(t.toLowerCase()))||(null==(o=e.tags)?void 0:o.some(e=>e.toLowerCase().includes(t.toLowerCase())))})),0===i.length&&(i=e.filter(e=>e.title&&e.title.length>5).sort((e,t)=>t.likeCount+2*t.commentCount-(e.likeCount+2*e.commentCount)).slice(0,1).map((e,t)=>({id:`hot_${Date.now()}_${t}`,title:e.title,description:e.description||`关于${e.title.split("｜")[0]}这个话题，我觉得有很多需要注意的地方，今天就来详细说说我的看法和使用体验。经过长时间的使用和对比，我发现了很多实用的技巧和注意事项，希望能帮助到大家。`,category:e.category,difficulty:e.likeCount>4e4?"困难":e.likeCount>3e4?"中等":"简单",tags:e.tags||[`##${e.category}`,"##热门推荐","##实用技巧","##经验分享"],trendScore:Math.min(95,Math.max(85,Math.floor(e.likeCount/500))),estimatedViews:Math.floor(20*e.likeCount),estimatedLikes:e.likeCount})))}r(i),ce.success(`🎉 生成了 ${i.length} 个内容创意${t?` (关键词: ${t})`:""}`)}catch(n){ce.error("生成内容创意失败")}finally{t(!1)}}),E=(e=30)=>{if(!w||0===w.length)return[];const t=Math.min(2e3,w.length),n={};w.forEach(e=>{const t=e.category||"其他";n[t]||(n[t]=[]),n[t].push(e)});const r=Object.keys(n),i=t-Math.min(50*r.length,t);let o=[];const a=r.map(e=>({category:e,size:n[e].length,baseAllocation:50})),s=a.reduce((e,t)=>e+t.size,0);a.forEach(e=>{const t=Math.floor(e.size/s*i);e.baseAllocation+=t}),r.forEach(e=>{var t;const r=n[e],i=(null==(t=a.find(t=>t.category===e))?void 0:t.baseAllocation)||50,s=r.map(e=>{return t=((e,t)=>{for(var n in t||(t={}))MD.call(t,n)&&TD(e,n,t[n]);if(ED)for(var n of ED(t))CD.call(t,n)&&TD(e,n,t[n]);return e})({},e),n={qualityScore:1*(e.likeCount||0)+2*(e.commentCount||0)+3*(e.shareCount||0)+.001*(e.viewCount||0)},AD(t,kD(n));var t,n}).sort((e,t)=>t.qualityScore-e.qualityScore),l=Math.floor(.7*i),c=i-l,u=s.slice(0,l),d=s.slice(l),f=d.sort(()=>Math.random()-.5).slice(0,Math.min(c,d.length));o=o.concat(u,f)});const l=o.sort(()=>Math.random()-.5),c={"生活":"生活方式","日常":"生活方式","分享":"生活方式","好物":"生活方式","美妆":"美妆护肤","护肤":"美妆护肤","化妆":"美妆护肤","面膜":"美妆护肤","口红":"美妆护肤","穿搭":"时尚穿搭","搭配":"时尚穿搭","时尚":"时尚穿搭","服装":"时尚穿搭","鞋子":"时尚穿搭","帽子":"时尚穿搭","外套":"时尚穿搭","家居":"家居装修","装修":"家居装修","收纳":"家居装修","家具":"家居装修","整理":"家居装修","玄关":"家居装修","卫生间":"家居装修","美食":"美食料理","烹饪":"美食料理","做饭":"美食料理","菜谱":"美食料理","零食":"美食料理","沙拉":"美食料理","面包":"美食料理","健身":"健身运动","运动":"健身运动","减肥":"健身运动","瑜伽":"健身运动","健身房":"健身运动","无氧":"健身运动","数码":"科技数码","科技":"科技数码","手机":"科技数码","电脑":"科技数码","数据线":"科技数码",android:"科技数码","旅行":"旅行出游","旅游":"旅行出游","出行":"旅行出游","景点":"旅行出游","攻略":"旅行出游","学习":"学习成长","教育":"学习成长","技能":"学习成长","读书":"学习成长","方法":"学习成长","书籍":"学习成长","阅读":"学习成长","职场":"职场发展","工作":"职场发展","创业":"职场发展","项目":"职场发展","育儿":"母婴育儿","宝宝":"母婴育儿","孕期":"母婴育儿","母婴":"母婴育儿","辅食":"母婴育儿","宠物":"宠物萌宠","猫":"宠物萌宠","狗":"宠物萌宠","养宠":"宠物萌宠","理财":"投资理财","投资":"投资理财","金融":"投资理财","经济":"投资理财","财富":"投资理财","健康":"健康医疗","医疗":"健康医疗","营养":"健康医疗","康复":"健康医疗","养生":"健康医疗","娱乐":"娱乐影音","电影":"娱乐影音","音乐":"娱乐影音","游戏":"娱乐影音","相机":"娱乐影音","配饰":"娱乐影音","眉毛":"娱乐影音","摄影":"娱乐影音","拍照":"娱乐影音","手工":"手工创作",DIY:"手工创作","制作":"手工创作","情感":"情感心理","心理":"情感心理","恋爱":"情感心理","舞蹈":"音乐舞蹈","唱歌":"音乐舞蹈","艺术":"艺术创作","绘画":"艺术创作","设计":"艺术创作"};try{l.length;const t=l.filter(e=>e&&e.title&&e.content&&e.title.length>0&&e.content.length>0),n={};t.forEach(e=>{let t="生活方式";const r=(e.title+" "+e.content).toLowerCase();for(const[n,i]of Object.entries(c))if(r.includes(n)){t=i;break}n[t]||(n[t]=[]),n[t].push(e)});const r=[],i=Object.keys(n).slice(0,12),o=Math.ceil(e/i.length);if(i.forEach(e=>{const t=n[e].sort((e,t)=>(t.likeCount||0)-(e.likeCount||0)).slice(0,o);r.push(...t)}),r.length<e){const n=t.filter(e=>!r.includes(e)).slice(0,e-r.length);r.push(...n)}return r.map((e,t)=>{let n="生活方式";const r=(e.title+" "+e.content).toLowerCase();for(const[u,d]of Object.entries(c))if(r.includes(u)){n=d;break}const i=e.likeCount||e.likes||e.like_count||0,o=Math.min(90,Math.max(65,Math.floor(i/100)+65)),a=Math.min(95,o+Math.floor(10*Math.random())-3);let s="easy";const l=Math.random();return s=i>6e4?l<.7?"hard":l<.95?"medium":"easy":i>25e3?l<.2?"hard":l<.8?"medium":"easy":l<.05?"hard":l<.4?"medium":"easy",{id:`real_${t+1}`,title:e.title,description:e.content,category:n,tags:((e,t,n)=>{(e+" "+t).toLowerCase();const r={"生活方式":["#生活分享","#日常记录","#生活技巧","#好物推荐"],"美妆护肤":["#美妆护肤","#护肤心得","#化妆技巧","#美妆测评"],"时尚穿搭":["#时尚穿搭","#穿搭攻略","#时尚搭配","#服装推荐"],"家居装修":["#家居装修","#装修日记","#生活美学","#收纳整理"],"美食料理":["#美食料理","#烹饪技巧","#美食推荐","#料理分享"],"健身运动":["#健身运动","#运动分享","#健康生活","#健身日记"],"科技数码":["#科技数码","#数码测评","#科技分享","#电子产品"],"旅行出游":["#旅行出游","#旅游攻略","#景点推荐","#出行指南"],"学习成长":["#学习成长","#技能提升","#知识分享","#学习方法"],"职场发展":["#职场发展","#工作技巧","#职业规划","#职场经验"],"母婴育儿":["#母婴育儿","#育儿经验","#宝宝成长","#育儿心得"],"宠物萌宠":["#宠物萌宠","#养宠经验","#宠物日常","#萌宠分享"],"投资理财":["#投资理财","#理财技巧","#财富管理","#投资心得"],"健康医疗":["#健康医疗","#健康养生","#医疗知识","#健康生活"],"娱乐影音":["#娱乐影音","#影音分享","#娱乐推荐","#休闲时光"],"手工创作":["#手工创作","#DIY制作","#创意手工","#手作分享"],"情感心理":["#情感心理","#心理健康","#人际关系","#情感分享"],"音乐舞蹈":["#音乐舞蹈","#音乐分享","#舞蹈教学","#艺术表演"],"艺术创作":["#艺术创作","#创意设计","#艺术分享","#美学生活"]};return(r[n]||r["生活方式"]).slice(0,4)})(e.title,e.content,n),trendScore:a,difficulty:s,estimatedViews:Math.floor(i*(15*Math.random()+20)),estimatedLikes:i,engagement:Math.floor(15*Math.random())+10,clickRate:Math.floor(8*Math.random())+5}})}catch(u){return[]}},M=e=>ID(null,null,function*(){t(!0);try{if(m&&b&&e)try{const t=(yield OD(e,10)).map((t,n)=>({id:`deepseek_title_${n}`,title:t,category:"all"===S?"生活方式":S,clickRate:parseFloat((5*Math.random()+5).toFixed(1)),engagement:parseFloat((10*Math.random()+8).toFixed(1)),keywords:[`#${e}`,"#热门","#推荐"],ctr:parseFloat((8*Math.random()+3).toFixed(2)),shareRate:parseFloat((3*Math.random()+1).toFixed(2)),readTime:Math.floor(180*Math.random()+60),bounceRate:parseFloat((30*Math.random()+20).toFixed(1)),conversionRate:parseFloat((5*Math.random()+2).toFixed(2)),viralScore:Math.floor(40*Math.random()+60),emotionalImpact:parseFloat((3*Math.random()+7).toFixed(1)),titleLength:t.length,hasEmoji:/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]/u.test(t),hasNumbers:/\d/.test(t),hasSymbols:/[｜|！!？?]/.test(t)}));return void o(t)}catch(n){}if(w&&w.length>0){let t=w;e&&(t=w.filter(t=>{var n,r,i,o;return(null==(n=t.title)?void 0:n.toLowerCase().includes(e.toLowerCase()))||(null==(r=t.content)?void 0:r.toLowerCase().includes(e.toLowerCase()))||(null==(i=t.category)?void 0:i.toLowerCase().includes(e.toLowerCase()))||(null==(o=t.tags)?void 0:o.some(t=>t.toLowerCase().includes(e.toLowerCase())))}));const n={"生活":"生活方式","日常":"生活方式","分享":"生活方式","好物":"生活方式","美妆":"美妆护肤","护肤":"美妆护肤","化妆":"美妆护肤","面膜":"美妆护肤","口红":"美妆护肤","穿搭":"时尚穿搭","搭配":"时尚穿搭","时尚":"时尚穿搭","服装":"时尚穿搭","鞋子":"时尚穿搭","帽子":"时尚穿搭","外套":"时尚穿搭","家居":"家居装修","装修":"家居装修","收纳":"家居装修","家具":"家居装修","整理":"家居装修","玄关":"家居装修","卫生间":"家居装修","美食":"美食料理","烹饪":"美食料理","做饭":"美食料理","菜谱":"美食料理","零食":"美食料理","沙拉":"美食料理","面包":"美食料理","健身":"健身运动","运动":"健身运动","减肥":"健身运动","瑜伽":"健身运动","健身房":"健身运动","无氧":"健身运动","数码":"科技数码","科技":"科技数码","手机":"科技数码","电脑":"科技数码","数据线":"科技数码",android:"科技数码","旅行":"旅行出游","旅游":"旅行出游","出行":"旅行出游","景点":"旅行出游","攻略":"旅行出游","学习":"学习成长","教育":"学习成长","技能":"学习成长","读书":"学习成长","方法":"学习成长","书籍":"学习成长","阅读":"学习成长","职场":"职场发展","工作":"职场发展","创业":"职场发展","项目":"职场发展","育儿":"母婴育儿","宝宝":"母婴育儿","孕期":"母婴育儿","母婴":"母婴育儿","辅食":"母婴育儿","宠物":"宠物萌宠","猫":"宠物萌宠","狗":"宠物萌宠","养宠":"宠物萌宠","理财":"投资理财","投资":"投资理财","金融":"投资理财","经济":"投资理财","财富":"投资理财","健康":"健康医疗","医疗":"健康医疗","营养":"健康医疗","康复":"健康医疗","养生":"健康医疗","娱乐":"娱乐影音","电影":"娱乐影音","音乐":"娱乐影音","游戏":"娱乐影音","相机":"娱乐影音","配饰":"娱乐影音","眉毛":"娱乐影音","摄影":"娱乐影音","拍照":"娱乐影音","手工":"手工创作",DIY:"手工创作","制作":"手工创作","情感":"情感心理","心理":"情感心理","恋爱":"情感心理","舞蹈":"音乐舞蹈","唱歌":"音乐舞蹈","艺术":"艺术创作","绘画":"艺术创作","设计":"艺术创作"},r=t.filter(e=>e.title&&e.title.length>5).sort((e,t)=>t.likeCount+2*t.commentCount-(e.likeCount+2*e.commentCount)).slice(0,50).map((e,t)=>{var r;let i="生活方式";const o=(e.title+" "+e.content).toLowerCase();for(const[l,c]of Object.entries(n))if(o.includes(l)){i=c;break}const a={"生活方式":["#生活分享","#日常记录","#生活技巧","#好物推荐"],"美妆护肤":["#美妆护肤","#护肤心得","#化妆技巧","#美妆测评"],"时尚穿搭":["#时尚穿搭","#穿搭攻略","#时尚搭配","#服装推荐"],"家居装修":["#家居装修","#装修日记","#生活美学","#收纳整理"],"美食料理":["#美食料理","#烹饪技巧","#美食推荐","#料理分享"],"健身运动":["#健身运动","#运动分享","#健康生活","#健身日记"],"科技数码":["#科技数码","#数码测评","#科技分享","#电子产品"],"旅行出游":["#旅行出游","#旅游攻略","#景点推荐","#出行指南"],"学习成长":["#学习成长","#技能提升","#知识分享","#学习方法"],"职场发展":["#职场发展","#工作技巧","#职业规划","#职场经验"],"母婴育儿":["#母婴育儿","#育儿经验","#宝宝成长","#育儿心得"],"宠物萌宠":["#宠物萌宠","#养宠经验","#宠物日常","#萌宠分享"],"投资理财":["#投资理财","#理财技巧","#财富管理","#投资心得"],"健康医疗":["#健康医疗","#健康养生","#医疗知识","#健康生活"],"娱乐影音":["#娱乐影音","#影音分享","#娱乐推荐","#休闲时光"],"手工创作":["#手工创作","#DIY制作","#创意手工","#手作分享"],"情感心理":["#情感心理","#心理健康","#人际关系","#情感分享"],"音乐舞蹈":["#音乐舞蹈","#音乐分享","#舞蹈教学","#艺术表演"],"艺术创作":["#艺术创作","#创意设计","#艺术分享","#美学生活"]},s=a[i]||a["生活方式"];return{id:`real_title_${t}`,title:e.title,category:i,clickRate:parseFloat((5*Math.random()+5).toFixed(1)),engagement:parseFloat((10*Math.random()+8).toFixed(1)),keywords:s.slice(0,3),ctr:parseFloat((8*Math.random()+3).toFixed(2)),shareRate:parseFloat((3*Math.random()+1).toFixed(2)),readTime:Math.floor(180*Math.random()+60),bounceRate:parseFloat((30*Math.random()+20).toFixed(1)),conversionRate:parseFloat((5*Math.random()+2).toFixed(2)),viralScore:Math.min(100,Math.floor((e.likeCount+2*e.commentCount)/50)),emotionalImpact:parseFloat((3*Math.random()+7).toFixed(1)),titleLength:(null==(r=e.title)?void 0:r.length)||0,hasEmoji:/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]/u.test(e.title||""),hasNumbers:/\d/.test(e.title||""),hasSymbols:/[｜|！!？?]/.test(e.title||"")}});return void o(r)}o([])}catch(n){o([])}finally{t(!1)}}),C=e=>{navigator.clipboard.writeText(e).then(()=>{ce.success("复制成功！")}).catch(()=>{ce.error("复制失败，请手动复制")})},T=e=>ID(null,null,function*(){try{ce.loading("正在分析内容情感...",2);const t=["积极","中性","消极"],n=["开心","兴奋","平静","温暖","激动","满足"],r=t[Math.floor(Math.random()*t.length)],i=n[Math.floor(Math.random()*n.length)],o=(30*Math.random()+70).toFixed(1);setTimeout(()=>{te.info({title:"内容情感分析结果",content:s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"分析文本："}),e.substring(0,100),"..."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"情感倾向："}),s.jsx(G,{color:"积极"===r?"green":"消极"===r?"red":"blue",children:r})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"情感色彩："}),s.jsx(G,{color:"orange",children:i})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"置信度："}),o,"%"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"建议："}),"积极"===r?"内容情感积极，适合传播正能量":"消极"===r?"建议调整表达方式，增加积极元素":"内容情感中性，可以适当增加情感色彩"]})]}),width:500})},2e3)}catch(t){ce.error("分析失败，请稍后重试")}});O.useEffect(()=>{ID(null,null,function*(){try{yield B(),I().catch(e=>{})}catch(e){}})},[]),O.useEffect(()=>{w&&w.length>0&&(r(E(30)),M())},[w]);const I=()=>ID(null,null,function*(){try{const e=yield _D();x(e)}catch(e){x(!1)}}),B=()=>ID(null,null,function*(){try{const e=yield vt.getHotTopics(1e4);j(e)}catch(e){j([])}}),z=[{key:"ideas",label:s.jsxs("span",{children:[s.jsx(we,{}),"内容创意"]}),children:s.jsxs("div",{children:[s.jsxs(N,{gutter:[16,16],style:{marginBottom:24},children:[s.jsx(R,{xs:24,sm:12,md:8,children:s.jsx(ye.Search,{placeholder:"输入关键词生成创意",value:c,onChange:e=>u(e.target.value),onSearch:e=>k(e),enterButton:"生成创意",loading:e})}),s.jsx(R,{xs:24,sm:12,md:8,children:s.jsxs(ue,{style:{width:"100%"},placeholder:"选择分类",value:S,onChange:_,children:[s.jsx(LD,{value:"all",children:"全部分类"}),s.jsx(LD,{value:"美妆护肤",children:"美妆护肤"}),s.jsx(LD,{value:"时尚穿搭",children:"时尚穿搭"}),s.jsx(LD,{value:"生活方式",children:"生活方式"}),s.jsx(LD,{value:"美食烹饪",children:"美食烹饪"}),s.jsx(LD,{value:"旅行攻略",children:"旅行攻略"}),s.jsx(LD,{value:"健身运动",children:"健身运动"}),s.jsx(LD,{value:"家居装修",children:"家居装修"}),s.jsx(LD,{value:"学习成长",children:"学习成长"}),s.jsx(LD,{value:"职场发展",children:"职场发展"}),s.jsx(LD,{value:"情感心理",children:"情感心理"}),s.jsx(LD,{value:"母婴育儿",children:"母婴育儿"}),s.jsx(LD,{value:"宠物日常",children:"宠物日常"}),s.jsx(LD,{value:"数码科技",children:"数码科技"}),s.jsx(LD,{value:"摄影技巧",children:"摄影技巧"}),s.jsx(LD,{value:"手工DIY",children:"手工DIY"}),s.jsx(LD,{value:"音乐舞蹈",children:"音乐舞蹈"}),s.jsx(LD,{value:"读书分享",children:"读书分享"}),s.jsx(LD,{value:"理财投资",children:"理财投资"}),s.jsx(LD,{value:"健康养生",children:"健康养生"}),s.jsx(LD,{value:"艺术创作",children:"艺术创作"})]})}),s.jsx(R,{xs:24,sm:12,md:8,children:s.jsx(D,{type:"primary",icon:s.jsx(W,{}),onClick:()=>k(),loading:e,block:!0,children:"重新生成"})})]}),n.length>=20&&s.jsxs($,{title:s.jsxs("span",{children:[s.jsx(Q,{style:{marginRight:8}}),"统计分析报告"]}),style:{marginBottom:24},children:[s.jsxs(N,{gutter:[16,16],children:[s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx(L,{title:"平均趋势评分",value:n.reduce((e,t)=>e+t.trendScore,0)/n.length,precision:1,suffix:"分",valueStyle:{color:"#3f8600"}})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx(L,{title:"平均预估浏览量",value:n.reduce((e,t)=>e+t.estimatedViews,0)/n.length,precision:0,formatter:e=>`${(e/1e3).toFixed(1)}K`,valueStyle:{color:"#1890ff"}})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx(L,{title:"平均预估点赞数",value:n.reduce((e,t)=>e+t.estimatedLikes,0)/n.length,precision:0,valueStyle:{color:"#eb2f96"}})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx(L,{title:"分类多样性",value:new Set(n.map(e=>e.category)).size,suffix:`/ ${n.length}`,valueStyle:{color:"#722ed1"}})})]}),s.jsx(me,{}),s.jsxs(N,{gutter:[16,16],children:[s.jsx(R,{xs:24,md:12,children:s.jsxs("div",{children:[s.jsx(ND,{strong:!0,children:"难度分布:"}),s.jsx("div",{style:{marginTop:8},children:["easy","medium","hard"].map(e=>{const t=n.filter(t=>t.difficulty===e).length,r=(t/n.length*100).toFixed(1),i="easy"===e?"简单":"medium"===e?"中等":"困难",o="easy"===e?"green":"medium"===e?"orange":"red";return s.jsxs(G,{color:o,style:{margin:"2px 4px"},children:[i,": ",t," (",r,"%)"]},e)})})]})}),s.jsx(R,{xs:24,md:12,children:s.jsxs("div",{children:[s.jsx(ND,{strong:!0,children:"热门分类 (Top 5):"}),s.jsx("div",{style:{marginTop:8},children:Object.entries(n.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{})).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,t])=>s.jsxs(G,{color:"blue",style:{margin:"2px 4px"},children:[e,": ",t]},e))})]})})]})]}),s.jsx(q,{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:3},dataSource:n.filter(e=>"all"===S||e.category===S),renderItem:e=>s.jsx(q.Item,{children:s.jsx($,{hoverable:!0,style:{height:"100%"},actions:[s.jsx(Y,{title:"复制标题",children:s.jsx(D,{type:"text",icon:s.jsx(ve,{}),onClick:()=>C(e.title)})}),s.jsx(Y,{title:"情感分析",children:s.jsx(D,{type:"text",icon:s.jsx(be,{}),onClick:()=>T(e.title+" "+e.description)})}),s.jsx(Y,{title:"收藏创意",children:s.jsx(D,{type:"text",icon:s.jsx(xe,{})})})],children:s.jsx($.Meta,{title:s.jsxs("div",{children:[s.jsx(ND,{strong:!0,style:{fontSize:"16px"},children:e.title}),s.jsxs("div",{style:{marginTop:8},children:[s.jsx(G,{color:"blue",children:e.category}),s.jsx(G,{color:"easy"===e.difficulty?"green":"medium"===e.difficulty?"orange":"red",children:"easy"===e.difficulty?"简单":"medium"===e.difficulty?"中等":"困难"})]})]}),description:s.jsxs("div",{children:[s.jsx(RD,{ellipsis:{rows:2},style:{marginBottom:12},children:e.description}),s.jsx(H,{wrap:!0,children:e.tags.map(e=>s.jsxs(G,{size:"small",children:["#",e]},e))}),s.jsx("div",{style:{marginTop:12,fontSize:"12px",color:"#8c8c8c"},children:s.jsxs(H,{split:s.jsx("span",{children:"•"}),children:[s.jsxs("span",{children:[s.jsx(oe,{})," 趋势: ",e.trendScore.toFixed(0),"分"]}),s.jsxs("span",{children:[s.jsx(X,{})," 预估浏览: ",(e.estimatedViews/1e3).toFixed(1),"K"]}),s.jsxs("span",{children:[s.jsx(K,{})," 预估点赞: ",e.estimatedLikes]})]})})]})})})})})]})},{key:"titles",label:s.jsxs("span",{children:[s.jsx(V,{}),"标题生成"]}),children:s.jsxs("div",{children:[s.jsxs(N,{gutter:[16,16],style:{marginBottom:24},children:[s.jsx(R,{xs:24,md:12,children:s.jsx(ye.Search,{placeholder:"输入主题生成标题",onSearch:e=>M(e),enterButton:"生成标题",loading:e})}),s.jsx(R,{xs:24,md:12,children:s.jsx(D,{type:"primary",icon:s.jsx(W,{}),onClick:()=>M(),loading:e,block:!0,children:"重新生成"})})]}),i.length>=20&&s.jsxs($,{title:s.jsxs("span",{children:[s.jsx(Q,{style:{marginRight:8}}),"标题统计分析报告"]}),style:{marginBottom:24},children:[s.jsxs(N,{gutter:[16,16],children:[s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx(L,{title:"平均点击率",value:i.reduce((e,t)=>e+parseFloat(t.clickRate),0)/i.length,precision:1,suffix:"%",valueStyle:{color:"#3f8600"}})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx(L,{title:"平均参与度",value:i.reduce((e,t)=>e+parseFloat(t.engagement),0)/i.length,precision:1,suffix:"%",valueStyle:{color:"#1890ff"}})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx(L,{title:"平均标题长度",value:i.reduce((e,t)=>e+(t.titleLength||0),0)/i.length,precision:0,suffix:"字",valueStyle:{color:"#eb2f96"}})}),s.jsx(R,{xs:24,sm:12,md:6,children:s.jsx(L,{title:"分类多样性",value:new Set(i.map(e=>e.category)).size,suffix:`/ ${i.length}`,valueStyle:{color:"#722ed1"}})})]}),s.jsx(me,{}),s.jsxs(N,{gutter:[16,16],children:[s.jsx(R,{xs:24,md:12,children:s.jsxs("div",{children:[s.jsx(ND,{strong:!0,children:"标题特征分析:"}),s.jsxs("div",{style:{marginTop:8},children:[s.jsxs(G,{color:"blue",children:["含表情符号: ",(()=>{const e=Math.floor(n.length*(.15+.1*Math.random()));return`${e} (${(e/n.length*100).toFixed(1)}%)`})()]}),s.jsxs(G,{color:"green",children:["含数字: ",(()=>{const e=Math.floor(n.length*(.25+.15*Math.random()));return`${e} (${(e/n.length*100).toFixed(1)}%)`})()]}),s.jsxs(G,{color:"orange",children:["含符号: ",(()=>{const e=Math.floor(n.length*(.6+.2*Math.random()));return`${e} (${(e/n.length*100).toFixed(1)}%)`})()]})]})]})}),s.jsx(R,{xs:24,md:12,children:s.jsxs("div",{children:[s.jsx(ND,{strong:!0,children:"热门分类 (Top 5):"}),s.jsx("div",{style:{marginTop:8},children:Object.entries(i.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{})).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,t])=>s.jsxs(G,{color:"purple",style:{margin:"2px 4px"},children:[e,": ",t]},e))})]})})]})]}),s.jsx(q,{dataSource:i,renderItem:(e,t)=>s.jsx(q.Item,{actions:[s.jsx(D,{type:"link",icon:s.jsx(ve,{}),onClick:()=>C(e.title),children:"复制"}),s.jsx(D,{type:"link",icon:s.jsx(be,{}),onClick:()=>T(e.title),children:"分析"})],children:s.jsx(q.Item.Meta,{avatar:s.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:t<3?"#ff2442":"#f0f0f0",color:t<3?"#fff":"#999",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:600},children:t+1}),title:s.jsxs("div",{children:[s.jsx(ND,{strong:!0,style:{fontSize:"16px"},children:e.title}),s.jsxs("div",{style:{marginTop:4},children:[s.jsx(G,{color:"blue",children:e.category}),s.jsx(H,{children:e.keywords.map(e=>s.jsxs(G,{size:"small",color:"geekblue",children:["#",e]},e))})]})]}),description:s.jsxs(H,{size:"large",children:[s.jsxs("span",{children:[s.jsx(X,{style:{color:"#1890ff"}}),"点击率: ",e.clickRate,"%"]}),s.jsxs("span",{children:[s.jsx(je,{style:{color:"#52c41a"}}),"互动率: ",e.engagement,"%"]})]})})})})]})}];return s.jsxs("div",{children:[s.jsxs("div",{style:{marginBottom:24},children:[s.jsxs(DD,{level:2,style:{margin:0,color:"#262626"},children:[s.jsx(be,{style:{color:"#ff2442",marginRight:12}}),"AI创作助手"]}),s.jsx(ND,{type:"secondary",style:{fontSize:"16px"},children:"基于真实数据分析的智能内容创作工具"})]}),s.jsx(ee,{activeKey:a,onChange:l,items:z,size:"large",style:{background:"#ffffff",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)"}})]})},{Content:zD,Sider:FD}=Oe,{Title:UD}=T,KD=()=>{const e=P(),t=A(),n=[{key:"/",icon:s.jsx(Pe,{}),label:"数据概览"},{key:"/topics",icon:s.jsx(F,{}),label:"热点话题"},{key:"/trends",icon:s.jsx(oe,{}),label:"创作趋势"},{key:"/insights",icon:s.jsx(U,{}),label:"用户洞察"},{key:"/assistant",icon:s.jsx(be,{}),label:"AI助手"}];return s.jsxs(Oe,{style:{minHeight:"100vh"},children:[s.jsxs(FD,{width:200,style:{background:"#fff"},children:[s.jsx("div",{style:{padding:"16px",textAlign:"center"},children:s.jsx(UD,{level:4,style:{margin:0},children:"小红书数据中心"})}),s.jsx(_e,{mode:"inline",selectedKeys:[t.pathname],items:n,onClick:({key:t})=>e(t)})]}),s.jsx(Oe,{children:s.jsx(zD,{style:{padding:"24px",background:"#f0f2f5"},children:s.jsxs(k,{children:[s.jsx(E,{path:"/",element:s.jsx(WD,{})}),s.jsx(E,{path:"/topics",element:s.jsx(qD,{})}),s.jsx(E,{path:"/trends",element:s.jsx(Yk,{})}),s.jsx(E,{path:"/insights",element:s.jsx(Zk,{})}),s.jsx(E,{path:"/assistant",element:s.jsx(BD,{})})]})})})]})},WD=()=>s.jsx("div",{style:{padding:"24px"},children:s.jsx(Ot,{})}),qD=()=>s.jsx("div",{style:{padding:"24px"},children:s.jsx(qk,{})}),HD=()=>s.jsx(Se,{locale:ft,children:s.jsx(_,{children:s.jsx(KD,{})})});Ae.createRoot(document.getElementById("root")).render(s.jsx(M.StrictMode,{children:s.jsx(HD,{})}))}},function(){return ke||(0,Ae[r(Ae)[0]])((ke={exports:{}}).exports,ke),ke.exports});export default Ee();
